
(function() {
  if (window.$superfiliateStorefront) return;

  window.$superfiliateStorefront = {"health":{"environment":"production","railsTimestamp":1707839740643922,"redisTimestamp":1707839740644338,"postgresTimestamp":1707839740645341,"herokuReleaseVersion":"v3750","herokuReleaseCreatedAt":"2024-02-13T11:41:25Z","ddVersion":"676269b09c41b41d235ab33bee2bcf03be2efca5","yjit":true},"shop":{"id":3103,"name":"Chamberlain Coffee - US","shopifyDomain":"chamberlaincoffee.myshopify.com","programDomain":"chamberlaincoffee.superfiliate.com","featuresEnabled":["sku_management","superfiliate_custom_data","cart_upsell","hero_basic_variation","fake_product","new_portal_login","microsite_custom_padding","microsite_custom_radius","microsite_custom_image_grid_format"]},"personalization":{"branding":{"colors":{"base":"#F6F6F6","baseContent":"#151515","primary":"#4F7F4E","primaryContent":"#FFFFFF","secondary":"#4F7F4E","secondaryContent":"#FFFFFF","color3":"#D9A273","color3Content":"#151515","color4":"#F2E4D8","color4Content":"#000000"},"fonts":{"primary":{"bold":"https://microsite-files.superfiliate-cdn.com/production/chamberlaincoffee.myshopify.com/2023-04-06t13-43-05z-Wunderpunkt-Bold.otf","light":"https://microsite-files.superfiliate-cdn.com/production/chamberlaincoffee.myshopify.com/2023-04-06t13-43-07z-Wunderpunkt-Light.otf","regular":"https://microsite-files.superfiliate-cdn.com/production/chamberlaincoffee.myshopify.com/2023-04-06t13-43-09z-Wunderpunkt-Regular.otf"},"secondary":{"bold":"https://microsite-files.superfiliate-cdn.com/production/chamberlaincoffee.myshopify.com/2023-04-06t13-43-05z-Wunderpunkt-Bold.otf","light":"https://microsite-files.superfiliate-cdn.com/production/chamberlaincoffee.myshopify.com/2023-04-06t13-43-07z-Wunderpunkt-Light.otf","regular":"https://microsite-files.superfiliate-cdn.com/production/chamberlaincoffee.myshopify.com/2023-04-06t13-43-09z-Wunderpunkt-Regular.otf"}},"images":{"logoImageUrl":"https://res.cloudinary.com/da2a4i71k/image/upload/v1681302891/public/microsites/zkafvtqv898w4s6dxcg6.png","altLogoImageUrl":"https://res.cloudinary.com/da2a4i71k/image/upload/v1685673538/public/microsites/xftxjyjrqh8tkensnfoz.png","logoMedia":{"mediaId":"78cd1278-dd78-479a-7dd5-4890a772d000","mediaType":"image","mediaProvider":"cloudflare"},"altLogoMedia":{"mediaId":"7eacc656-b6c8-46d7-31ba-0317a4820d00","mediaType":"image","mediaProvider":"cloudflare"}},"buttons":{}},"portal":{"programName":"club chamberlain","loginWelcome":"welcome to","loginEmailSubmit":"Join the fun!","htmlHeaderWelcome":"Welcome {{sf_first_name}}","htmlHeaderMarquee":"Referral program","htmlShareTitle":"Gift your friends {{sf_lead_one_time_discount}} OFF","htmlShareSubtitle":"You'll unlock gifts when your friends make purchases with your link!","shareMobileCta":"Share with friends","perks":[{"iconImageUrl":"https://superboarding.superfiliate.com/emojis/hopeful-140.png","htmlDescription":"Gift your friends {{sf_lead_one_time_discount}} OFF their first {{sf_shop_name}} purchase and earn {{sf_each_discount}} for each sale"},{"iconImageUrl":"https://superboarding.superfiliate.com/emojis/sunglasses-cool-140.png","htmlDescription":"Manage your reward balance however you like - apply it to a one-time or subscription purchase"},{"iconImageUrl":"https://superboarding.superfiliate.com/emojis/starstruck-140.png","htmlDescription":"Create a personalized {{sf_shop_name}} profile to share with your friends"}],"signUpPage":{"enabled":false,"welcomeText":{"title":"Join the {{sf_campaign_name}} program!","onboarding":"We're thrilled that you're ready to join our ever-growing community of creatives. You'll be rewarded with products and earn commissions in exchange for sharing {{sf_shop_name}} with your followers. Want in? Just apply below and we'll review within a few hours."},"signUpQuestions":[{"label":"What's your first name?","answerType":"short","columnName":"first_name","required":true,"editable":false,"placeholder":"First name"},{"label":"What's your last name?","answerType":"short","columnName":"last_name","required":true,"placeholder":"Last name","editable":true},{"label":"What's your email?","answerType":"short","columnName":"email","required":true,"editable":false,"placeholder":"name@email.com"},{"label":"What would you like your discount code to be?","answerType":"short","columnName":"preferred_code","required":true,"placeholder":"username for your code","editable":true},{"label":"Instagram","answerType":"social_media_handle","columnName":"instagram_handle","editable":false,"required":true},{"label":"TikTok","answerType":"social_media_handle","columnName":"tiktok_handle","editable":true},{"label":"Facebook","answerType":"social_media_handle","columnName":"facebook_handle","editable":true},{"label":"Youtube","answerType":"social_media_handle","columnName":"youtube_handle","editable":true},{"label":"Pinterest","answerType":"social_media_handle","columnName":"pinterest_handle","editable":true},{"label":"X","answerType":"social_media_handle","columnName":"x_handle","editable":true}]},"onboardingWelcome":"Welcome to","onboardingProgramName":"Club Chamberlain","htmlOnboardingInstructions":"We've built a special link with photos, videos and products for you to <b>customize and share with your friends!</b>","onboardingCta":"Let's get started!","loginStories":[{"alt":"portal0","url":"https://res.cloudinary.com/da2a4i71k/video/upload/v1681303769/public/microsites/zm1pjoap53ue2yd1gkdu.mp4","uuid":"441eb316-ccbc-5828-8dd5-37c10f49ba79","media":{"mediaId":"vIDNqVwV9WoaACe1dy8pZdwYk01ftaxXUvVPt68TSF01s","mediaType":"video","mediaProvider":"mux"},"duration":89837,"contentType":"video"},{"alt":"04_Fancy_Mouse_9x16","url":"https://res.cloudinary.com/da2a4i71k/video/upload/v1685673654/public/microsites/iuxgzyuzxyrui1qnuohw.mp4","uuid":"7dbdc0f8-4472-5714-84b8-5581cde75f22","media":{"mediaId":"u901loIch01Ki22aCsTxYdjK43zsSQqV219tZJXExHXnk","mediaType":"video","mediaProvider":"mux"},"duration":29779,"contentType":"video"},{"alt":"06_Vanilla_Matcha_9x16","url":"https://res.cloudinary.com/da2a4i71k/video/upload/v1685673629/public/microsites/daxmzwscxaaqxe9bvjtr.mp4","uuid":"35472fa5-ffc6-560f-bc58-636769b48940","media":{"mediaId":"HD102UC1HCWIRNMvQaGC3As84O2mjyncM00GLpNYQMJEk","mediaType":"video","mediaProvider":"mux"},"duration":23560,"contentType":"video"}]},"widget":{"positionCustom":[],"positionOrderStatus":"hidden","positionOnlineStore":"hidden","hiddenOrderStatus":false,"hiddenOnlineStore":false,"foldedPasserbyIconUrl":"https://res.cloudinary.com/da2a4i71k/image/upload/v1661998119/internal/wave_yjzkyo.png","foldedPasserbyIconMedia":{"mediaId":"3ec88dbb-d78d-48f3-e74a-5d3ed79d7600","mediaProvider":"cloudflare","mediaType":"image"},"htmlFoldedPasserbyText":"Refer & Earn","htmlLeadWelcome":"Hey! You received a gift","htmlLeadMarquee":"FROM YOUR FRIEND","htmlLeadTitle":"{{sf_lead_one_time_discount}} OFF on your next order","htmlLeadSubtitle":"We'll automatically apply this discount at checkout on orders over {{sf_minimum_cart_value}}.","htmlRewardWelcome":"Congrats {{sf_first_name}}!","htmlRewardMarquee":"HERE'S YOUR CODE","htmlRewardTitle":"","htmlRewardSubtitle":"We'll automatically apply your code at checkout, if you don't use all your balance, we'll return it to your wallet!","buttonFormat":"small_button"}},"defaultSfVariables":{"sfPortalUrl":"https://chamberlaincoffee.superfiliate.com","sfPortalMagicLink":null,"sfPortalFirstLoginAt":null,"sfPortalLastLoginAt":null,"sfShopName":"Chamberlain Coffee - US","sfCampaignId":9505,"sfCampaignName":"Club Chamberlain","sfCampaignAudience":"on_site","sfEachDiscount":"$0","sfCliffReward":null,"sfRegularLeadDiscount":"30%","sfMinimumCartValue":"$0","sfLeadDiscountUsageLimit":null,"sfCashback":"5%","sfLeadOneTimeDiscount":"30%"},"apiBaseUrl":"https://app.superfiliate.com"};

  (function(){var Sc,Ec,kc,Tc,Oc,Rc,$c,Cc,Pc,Ic,Nc,Dc,Ac,Fc;"use strict";var mi=document.createElement("style");mi.textContent=`@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&display=swap";._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#f3f4f6}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-content: ""}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x body{margin:0;line-height:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr{height:0;color:inherit;border-top-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6{font-size:inherit;font-weight:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x a{color:inherit;text-decoration:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x b,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x code,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x kbd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x samp,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x small{font-size:80%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub{bottom:-.25em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{top:-.5em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x table{text-indent:0;border-color:inherit;border-collapse:collapse}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x optgroup,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select{text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [type=button],._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [type=reset],._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-focusring{outline:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-ui-invalid{box-shadow:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x progress{vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-inner-spin-button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-outer-spin-button{height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [type=search]{-webkit-appearance:textfield;outline-offset:-2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-search-decoration{-webkit-appearance:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x summary{display:list-item}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x blockquote,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dl,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x figure,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x p,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{margin:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x fieldset{margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x legend{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ol,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ul,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x menu{list-style:none;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dialog{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{resize:vertical}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::-moz-placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [role=button]{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :disabled{cursor:default}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x svg,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x canvas,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x audio,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x iframe,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x embed,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x object{display:block;vertical-align:middle}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video{max-width:100%;height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [hidden]{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x{--sf-success-color: 18,183,106;--sf-success-content-color: 255,255,255;--sf-danger-color: 240,68,56;--sf-danger-content-color: 255,255,255;--sf-base-swappable: var(--base-color);--sf-base-content-swappable: var(--base-content-color);--sf-primary-swappable: var(--primary-color);--sf-primary-content-swappable: var(--primary-content-color);--sf-secondary-swappable: var(--secondary-color);--sf-secondary-content-swappable: var(--secondary-content-color);--sf-accent-swappable: var(--accent-color);--sf-accent-content-swappable: var(--accent-content-color)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pointer-events-none{pointer-events:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fixed{position:fixed}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-absolute{position:absolute}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-relative{position:relative}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-0{top:0;right:0;bottom:0;left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-x-0{left:0;right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2{right:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2\\.5{right:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2{top:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2\\.5{top:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-0{bottom:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-\\[50vh\\]{bottom:50vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-0{left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-\\[-10\\%\\]{left:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-0{right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2{right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2\\.5{right:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2{top:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2\\.5{top:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-4{top:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-\\[-10\\%\\]{top:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-\\[10\\]{z-index:-10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-index-program-widget-modal{z-index:calc(var(--sf-z-index-program-widget-modal) * -1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-10{z-index:10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-index-program-widget-modal{z-index:var(--sf-z-index-program-widget-modal)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-col-span-2{grid-column:span 2 / span 2}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-m-auto{margin:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-1{margin-left:4px;margin-right:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-5{margin-left:20px;margin-right:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-auto{margin-left:auto;margin-right:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-1{margin-top:4px;margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-3{margin-top:12px;margin-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-mt-7{margin-top:-28px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1{margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1\\.5{margin-bottom:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-2{margin-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-4{margin-bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-8{margin-bottom:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-1{margin-left:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-5{margin-left:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mt-\\[32px\\]{margin-top:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-block{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex{display:flex}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid{display:grid}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-12{height:48px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-2{height:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-3{height:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-36{height:144px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-4{height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-5{height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-8{height:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-9{height:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120\\%\\]{height:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120px\\]{height:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[141px\\]{height:141px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[18px\\]{height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[190px\\]{height:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[662px\\]{height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-full{height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-screen{height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-full{max-height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-screen{max-height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-min-h-\\[360px\\]{min-height:360px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-10\\/12{width:83.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-11\\/12{width:91.666667%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-2{width:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-4\\/12{width:33.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-5{width:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-6\\/12{width:50%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9{width:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9\\/12{width:75%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120\\%\\]{width:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120px\\]{width:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[18px\\]{width:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[190px\\]{width:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[80px\\]{width:80px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[95\\%\\]{width:95%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-fit{width:-moz-fit-content;width:fit-content}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-full{width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-screen{width:100vw}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-\\[unset\\]{max-width:unset}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-full{max-width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-left{transform-origin:bottom left}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-right{transform-origin:bottom right}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[-36\\%\\]{--tw-translate-x: -36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[36\\%\\]{--tw-translate-x: 36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[270deg\\]{--tw-rotate: 270deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[90deg\\]{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes sf-pulse{50%{opacity:.5}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-pulse{animation:sf-pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes sf-spin{to{transform:rotate(360deg)}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-spin{animation:sf-spin 1s linear infinite}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-cursor-pointer{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-list-disc{list-style-type:disc}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex-col{flex-direction:column}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-items-center{align-items:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-justify-center{justify-content:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-gap-2{gap:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-auto{overflow:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-hidden{overflow:hidden}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded{border-radius:.25rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-2xl{border-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-full{border-radius:9999px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-lg{border-radius:.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-xl{border-radius:.75rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border{border-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border-base-content\\/10{border-color:rgba(var(--sf-base-content-swappable),.1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base{--tw-bg-opacity: 1;background-color:rgba(var(--sf-base-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base-content\\/20{background-color:rgba(var(--sf-base-content-swappable),.2)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base\\/\\[0\\.5\\]{background-color:rgba(var(--sf-base-swappable),.5)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-black\\/50{background-color:#00000080}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(237 237 237 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-primary{--tw-bg-opacity: 1;background-color:rgba(var(--sf-primary-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-object-contain{-o-object-fit:contain;object-fit:contain}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0\\.5{padding:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2{padding:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2\\.5{padding:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-6{padding:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-\\[6px\\]{padding:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-2{padding-left:8px;padding-right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-4{padding-left:16px;padding-right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-1{padding-top:4px;padding-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-10{padding-top:40px;padding-bottom:40px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-2{padding-top:8px;padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-3{padding-top:12px;padding-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pb-2{padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-center{text-align:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-display{font-family:SF-Primary-Font,Poppins,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{font-size:;line-height:}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-lg{font-size:20px;line-height:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-md{font-size:14px;line-height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-sm{font-size:12px;line-height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-xs{font-size:10px;line-height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-bold{font-weight:700}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-semibold{font-weight:600}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-leading-4{line-height:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{--tw-text-opacity: 1;color:rgba(var(--sf-base-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base-content{--tw-text-opacity: 1;color:rgba(var(--sf-base-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary{--tw-text-opacity: 1;color:rgba(var(--sf-primary-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary-content{--tw-text-opacity: 1;color:rgba(var(--sf-primary-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-underline{text-decoration-line:underline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-decoration-2{text-decoration-thickness:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-backdrop-blur-xl{--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-in{animation-name:enter;animation-duration:.7s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fade-in{--tw-enter-opacity: 0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-left{--tw-enter-translate-x: -100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-right{--tw-enter-translate-x: 100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-no-scrollbar::-webkit-scrollbar{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-primary-gradient{background-color:rgb(var(--primary-color));background-image:linear-gradient(200deg,rgba(255,255,255,.4) 15%,rgba(255,255,255,.15) 65%,rgba(255,255,255,0) 100%)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-soft-primary-gradient{background-color:var(--base-color);background-image:linear-gradient(180deg,rgba(var(--primary-color)) -400%,rgb(var(--base-color)) 100%)}._sf-storefront._sf-x._sf-x._sf-x._sf-x *{flex-wrap:initial;margin:0;min-width:initial;flex:initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x div{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x img{opacity:1;background-color:transparent}._sf-storefront._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder{text-align:left;text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x input::placeholder{text-align:left;text-transform:none}:root{--sf-z-index-program-widget-modal: 2147483000}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *{font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder!important}@media (min-width: 480px){._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-h-\\[222px\\]{height:222px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[662px\\]{max-height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[680px\\]{max-height:680px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-w-\\[126px\\]{width:126px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-w-\\[390px\\]{max-width:390px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-rounded-3xl{border-radius:1.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-leading-6{line-height:1.5rem}}
`,document.head.appendChild(mi);const qv="",vi="superfiliate_suspect_code",xi="discount_code",yi=()=>{const t=/^_shopify_sa_p/,e=/^utm_/,n=/^_shopify_sa_t/,r={utm_timestamp:"",utm_data_source:"shopify_cookie"};let s="";document.cookie.split(";").map(o=>o.trim()).forEach(o=>{t.test(o)&&(s=o),n.test(o)&&(r.utm_timestamp=decodeURIComponent(o.split("=")[1]))});const i=s.split("=")[1];if(decodeURIComponent(i).split("&").forEach(o=>{const a=o.split("=")[0],u=o.split("=")[1];e.test(a)&&(r[a]=u)}),!(Object.keys(r).length<=2))return r},Bc=()=>{const t=new URL(window.location.href),{searchParams:e}=t;return{utm_data_source:e.get("utm_data_source")||void 0,utm_timestamp:e.get("utm_timestamp")||void 0,utm_campaign:e.get("utm_campaign")||void 0,utm_source:e.get("utm_source")||void 0,utm_medium:e.get("utm_medium")||void 0,utm_audience:e.get("utm_audience")||void 0,utm_target:e.get("utm_target")||void 0,utm_incentive:e.get("utm_incentive")||void 0,utm_campaign_id:e.get("utm_campaign_id")||void 0,utm_campaign_name:e.get("utm_campaign_name")||void 0}},bi=t=>{const n=` ${document.cookie};`.match(new RegExp(` ${t}=(.*?);`));return n?n[1]:null},it=()=>bi(xi),Hc=()=>bi(vi),Vc=t=>{document.cookie=`${t}=;expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/;`},Gc=t=>`${window.location.origin}/discount/${t}`,qc=t=>{var r,s,i;const e=(r=t.toUpperCase)==null?void 0:r.call(t);return((i=(s=it())==null?void 0:s.toUpperCase)==null?void 0:i.call(s))!==e?!1:(document.cookie=`${vi}=${e};path=/;`,fetch(Gc("__SUPERFILIATE_CLEAR_DISCOUNT")).then(()=>{Vc(xi)}),!0)};window.$superfiliateStorefront.shopifyUtmParams={getShopifyCookiesUtmParams:yi,getShopifyAutoApplyDiscountCode:it};const yr=()=>it(),wi=()=>{const t=yr();return t?`&discount=${t}`:""},Yc=()=>{const t=wi();return t?[t.replace("&","")]:[]};var br=(t=>(t.Production="production",t.Development="development",t.Test="test",t))(br||{}),U=(t=>(t.ShopifyOnlineStore="ShopifyOnlineStore",t.ShopifyOrderStatus="ShopifyOrderStatus",t.ShopifyCheckoutContact="ShopifyCheckoutContact",t.ShopifyCheckoutShipping="ShopifyCheckoutShipping",t.ShopifyCheckoutPayment="ShopifyCheckoutPayment",t.ShopifyCheckoutUnknown="ShopifyCheckoutUnknown",t.RechargeCheckout="RechargeCheckout",t.RechargeOrderStatus="RechargeOrderStatus",t.Unknown="Unknown",t))(U||{});const qe=()=>{var t,e;return(t=window.Shopify)!=null&&t.Checkout?window.Shopify.Checkout.step==="contact_information"?U.ShopifyCheckoutContact:window.Shopify.Checkout.step==="shipping_method"?U.ShopifyCheckoutShipping:window.Shopify.Checkout.step==="payment_method"?U.ShopifyCheckoutPayment:window.Shopify.Checkout.step==="thank_you"||window.Shopify.Checkout.isOrderStatusPage?U.ShopifyOrderStatus:U.ShopifyCheckoutUnknown:(e=window.Shopify)!=null&&e.checkout?U.RechargeOrderStatus:window.cart_json?U.RechargeCheckout:window.ShopifyAnalytics?U.ShopifyOnlineStore:U.Unknown},ie=t=>t==="online_store"?ie([U.ShopifyOnlineStore,U.Unknown]):t==="order_status"?ie([U.ShopifyOrderStatus,U.RechargeOrderStatus]):t==="shopify_checkout"?ie([U.ShopifyCheckoutContact,U.ShopifyCheckoutShipping,U.ShopifyCheckoutPayment]):t instanceof Array?t.includes(qe()):qe()===t,mn=t=>new Promise(e=>setTimeout(e,t)),Wc="sf-code",Si="!!INITIAL!!",zc=()=>{if(!ie(U.ShopifyOnlineStore))return;let t=Si;setInterval(async()=>{const e=yr();t!==e&&(!e&&t===Si||!e&&!Hc()||(await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attributes:{[Wc]:e||""}})}),t=e))},1e3)},Jc=()=>{var n,r;const t=document.getElementsByClassName("applied-discount__code")[0];return!!((r=(n=t==null?void 0:t.getBoundingClientRect)==null?void 0:n.call(t))!=null&&r.x)},Qc=t=>{const{handleApplyDiscount:e}=window,n=document.getElementById("checkout_discount_code");return!e||!n?!1:(Jc()||(n.value=t,e()),!0)},Kc=async()=>{var e,n;if(!ie(U.RechargeCheckout))return;const t=(n=(e=window.cart_json)==null?void 0:e.attributes)==null?void 0:n["sf-code"];if(t)for(let r=1;r<=20;r++){if(Qc(t))return;await mn(100*1.2**r)}},Xc=()=>{window.$superfiliateStorefront.autoApplyDiscount={discoverDiscount:yr,discountAsQueryParam:wi,discountAsQueryArray:Yc},zc(),Kc()};var qt,b,Ei,ot,ki,Ti,wr,Oi,kt={},Ri=[],Zc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vn=Array.isArray;function Ae(t,e){for(var n in e)t[n]=e[n];return t}function $i(t){var e=t.parentNode;e&&e.removeChild(t)}function Fe(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?qt.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return Yt(t,o,r,s,null)}function Yt(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++Ei};return s==null&&b.vnode!=null&&b.vnode(i),i}function ef(){return{current:null}}function ae(t){return t.children}function ke(t,e){this.props=t,this.context=e}function Wt(t,e){if(e==null)return t.__?Wt(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__d||n.__e;return typeof t.type=="function"?Wt(t):null}function Ci(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Ci(t)}}function Sr(t){(!t.__d&&(t.__d=!0)&&ot.push(t)&&!xn.__r++||ki!==b.debounceRendering)&&((ki=b.debounceRendering)||Ti)(xn)}function xn(){var t,e,n,r,s,i,o,a,u;for(ot.sort(wr);t=ot.shift();)t.__d&&(e=ot.length,r=void 0,s=void 0,i=void 0,a=(o=(n=t).__v).__e,(u=n.__P)&&(r=[],s=[],(i=Ae({},o)).__v=o.__v+1,Er(u,o,i,n.__n,u.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??Wt(o),o.__h,s),Mi(r,o,s),o.__e!=a&&Ci(o)),ot.length>e&&ot.sort(wr));xn.__r=0}function Pi(t,e,n,r,s,i,o,a,u,f,l){var c,_,d,h,g,R,y,k,F,N=0,S=r&&r.__k||Ri,D=S.length,I=D,T=e.length;for(n.__k=[],c=0;c<T;c++)(h=n.__k[c]=(h=e[c])==null||typeof h=="boolean"||typeof h=="function"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?Yt(null,h,null,null,h):vn(h)?Yt(ae,{children:h},null,null,null):h.__b>0?Yt(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null?(h.__=n,h.__b=n.__b+1,(k=tf(h,S,y=c+N,I))===-1?d=kt:(d=S[k]||kt,S[k]=void 0,I--),Er(t,h,d,s,i,o,a,u,f,l),g=h.__e,(_=h.ref)&&d.ref!=_&&(d.ref&&kr(d.ref,null,h),l.push(_,h.__c||g,h)),g!=null&&(R==null&&(R=g),(F=d===kt||d.__v===null)?k==-1&&N--:k!==y&&(k===y+1?N++:k>y?I>T-y?N+=k-y:N--:N=k<y&&k==y-1?k-y:0),y=c+N,typeof h.type!="function"||k===y&&d.__k!==h.__k?typeof h.type=="function"||k===y&&!F?h.__d!==void 0?(u=h.__d,h.__d=void 0):u=g.nextSibling:u=Ni(t,g,u):u=Ii(h,u,t),typeof n.type=="function"&&(n.__d=u))):(d=S[c])&&d.key==null&&d.__e&&(d.__e==u&&(d.__=r,u=Wt(d)),Tr(d,d,!1),S[c]=null);for(n.__e=R,c=D;c--;)S[c]!=null&&(typeof n.type=="function"&&S[c].__e!=null&&S[c].__e==n.__d&&(n.__d=S[c].__e.nextSibling),Tr(S[c],S[c]))}function Ii(t,e,n){for(var r,s=t.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=t,e=typeof r.type=="function"?Ii(r,e,n):Ni(n,r.__e,e));return e}function Me(t,e){return e=e||[],t==null||typeof t=="boolean"||(vn(t)?t.some(function(n){Me(n,e)}):e.push(t)),e}function Ni(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function tf(t,e,n,r){var s=t.key,i=t.type,o=n-1,a=n+1,u=e[n];if(u===null||u&&s==u.key&&i===u.type)return n;if(r>(u!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((u=e[o])&&s==u.key&&i===u.type)return o;o--}if(a<e.length){if((u=e[a])&&s==u.key&&i===u.type)return a;a++}}return-1}function nf(t,e,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in e||yn(t,i,null,n[i],r);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||yn(t,i,e[i],n[i],r)}function Di(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Zc.test(e)?n:n+"px"}function yn(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Di(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Di(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,i?Fi:Ai,i)):t.removeEventListener(e,i?Fi:Ai,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Ai(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(b.event?b.event(t):t)}function Fi(t){return this.l[t.type+!0](b.event?b.event(t):t)}function Er(t,e,n,r,s,i,o,a,u,f){var l,c,_,d,h,g,R,y,k,F,N,S,D,I,T,M=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,a=e.__e=n.__e,e.__h=null,i=[a]),(l=b.__b)&&l(e);e:if(typeof M=="function")try{if(y=e.props,k=(l=M.contextType)&&r[l.__c],F=l?k?k.props.value:l.__:r,n.__c?R=(c=e.__c=n.__c).__=c.__E:("prototype"in M&&M.prototype.render?e.__c=c=new M(y,F):(e.__c=c=new ke(y,F),c.constructor=M,c.render=sf),k&&k.sub(c),c.props=y,c.state||(c.state={}),c.context=F,c.__n=r,_=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),M.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Ae({},c.__s)),Ae(c.__s,M.getDerivedStateFromProps(y,c.__s))),d=c.props,h=c.state,c.__v=e,_)M.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(M.getDerivedStateFromProps==null&&y!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,F),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,F)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(L){L&&(L.__=e)}),N=0;N<c._sb.length;N++)c.__h.push(c._sb[N]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,F),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,h,g)})}if(c.context=F,c.props=y,c.__P=t,c.__e=!1,S=b.__r,D=0,"prototype"in M&&M.prototype.render){for(c.state=c.__s,c.__d=!1,S&&S(e),l=c.render(c.props,c.state,c.context),I=0;I<c._sb.length;I++)c.__h.push(c._sb[I]);c._sb=[]}else do c.__d=!1,S&&S(e),l=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++D<25);c.state=c.__s,c.getChildContext!=null&&(r=Ae(Ae({},r),c.getChildContext())),_||c.getSnapshotBeforeUpdate==null||(g=c.getSnapshotBeforeUpdate(d,h)),Pi(t,vn(T=l!=null&&l.type===ae&&l.key==null?l.props.children:l)?T:[T],e,n,r,s,i,o,a,u,f),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),R&&(c.__E=c.__=null)}catch(L){e.__v=null,(u||i!=null)&&(e.__e=a,e.__h=!!u,i[i.indexOf(a)]=null),b.__e(L,e,n)}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=rf(n.__e,e,n,r,s,i,o,u,f);(l=b.diffed)&&l(e)}function Mi(t,e,n){for(var r=0;r<n.length;r++)kr(n[r],n[++r],n[++r]);b.__c&&b.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(i){i.call(s)})}catch(i){b.__e(i,s.__v)}})}function rf(t,e,n,r,s,i,o,a,u){var f,l,c,_=n.props,d=e.props,h=e.type,g=0;if(h==="svg"&&(s=!0),i!=null){for(;g<i.length;g++)if((f=i[g])&&"setAttribute"in f==!!h&&(h?f.localName===h:f.nodeType===3)){t=f,i[g]=null;break}}if(t==null){if(h===null)return document.createTextNode(d);t=s?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),i=null,a=!1}if(h===null)_===d||a&&t.data===d||(t.data=d);else{if(i=i&&qt.call(t.childNodes),l=(_=n.props||kt).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!a){if(i!=null)for(_={},g=0;g<t.attributes.length;g++)_[t.attributes[g].name]=t.attributes[g].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(nf(t,d,_,s,a),c)e.__k=[];else if(Pi(t,vn(g=e.props.children)?g:[g],e,n,r,s&&h!=="foreignObject",i,o,i?i[0]:n.__k&&Wt(n,0),a,u),i!=null)for(g=i.length;g--;)i[g]!=null&&$i(i[g]);a||("value"in d&&(g=d.value)!==void 0&&(g!==t.value||h==="progress"&&!g||h==="option"&&g!==_.value)&&yn(t,"value",g,_.value,!1),"checked"in d&&(g=d.checked)!==void 0&&g!==t.checked&&yn(t,"checked",g,_.checked,!1))}return t}function kr(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){b.__e(r,n)}}function Tr(t,e,n){var r,s;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||kr(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){b.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&Tr(r[s],e,n||typeof t.type!="function");n||t.__e==null||$i(t.__e),t.__=t.__e=t.__d=void 0}function sf(t,e,n){return this.constructor(t,n)}function Tt(t,e,n){var r,s,i,o;b.__&&b.__(t,e),s=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],o=[],Er(e,t=(!r&&n||e).__k=Fe(ae,null,[t]),s||kt,kt,e.ownerSVGElement!==void 0,!r&&n?[n]:s?null:e.firstChild?qt.call(e.childNodes):null,i,!r&&n?n:s?s.__e:e.firstChild,r,o),Mi(i,t,o)}function Li(t,e){Tt(t,e,Li)}function of(t,e,n){var r,s,i,o,a=Ae({},t.props);for(i in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)i=="key"?r=e[i]:i=="ref"?s=e[i]:a[i]=e[i]===void 0&&o!==void 0?o[i]:e[i];return arguments.length>2&&(a.children=arguments.length>3?qt.call(arguments,2):n),Yt(t.type,a,r||t.key,s||t.ref,null)}function Or(t,e){var n={__c:e="__cC"+Oi++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Sr(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}qt=Ri.slice,b={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},Ei=0,ke.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ae({},this.state),typeof t=="function"&&(t=t(Ae({},n),this.props)),t&&Ae(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Sr(this))},ke.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Sr(this))},ke.prototype.render=ae,ot=[],Ti=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wr=function(t,e){return t.__v.__b-e.__v.__b},xn.__r=0,Oi=0;var Ye,B,Rr,Ui,Ot=0,ji=[],bn=[],Bi=b.__b,Hi=b.__r,Vi=b.diffed,Gi=b.__c,qi=b.unmount;function Rt(t,e){b.__h&&b.__h(B,t,Ot||e),Ot=0;var n=B.__H||(B.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:bn}),n.__[t]}function Le(t){return Ot=1,Yi(zi,t)}function Yi(t,e,n){var r=Rt(Ye++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):zi(void 0,e),function(a){var u=r.__N?r.__N[0]:r.__[0],f=r.t(u,a);u!==f&&(r.__N=[f,r.__[1]],r.__c.setState({}))}],r.__c=B,!B.u)){var s=function(a,u,f){if(!r.__c.__H)return!0;var l=r.__c.__H.__.filter(function(_){return _.__c});if(l.every(function(_){return!_.__N}))return!i||i.call(this,a,u,f);var c=!1;return l.forEach(function(_){if(_.__N){var d=_.__[0];_.__=_.__N,_.__N=void 0,d!==_.__[0]&&(c=!0)}}),!(!c&&r.__c.props===a)&&(!i||i.call(this,a,u,f))};B.u=!0;var i=B.shouldComponentUpdate,o=B.componentWillUpdate;B.componentWillUpdate=function(a,u,f){if(this.__e){var l=i;i=void 0,s(a,u,f),i=l}o&&o.call(this,a,u,f)},B.shouldComponentUpdate=s}return r.__N||r.__}function Te(t,e){var n=Rt(Ye++,3);!b.__s&&Cr(n.__H,e)&&(n.__=t,n.i=e,B.__H.__h.push(n))}function wn(t,e){var n=Rt(Ye++,4);!b.__s&&Cr(n.__H,e)&&(n.__=t,n.i=e,B.__h.push(n))}function af(t){return Ot=5,at(function(){return{current:t}},[])}function uf(t,e,n){Ot=6,wn(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function at(t,e){var n=Rt(Ye++,7);return Cr(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function cf(t,e){return Ot=8,at(function(){return t},e)}function ut(t){var e=B.context[t.__c],n=Rt(Ye++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(B)),e.props.value):t.__}function ff(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}function lf(){var t=Rt(Ye++,11);if(!t.__){for(var e=B.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function _f(){for(var t;t=ji.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Sn),t.__H.__h.forEach($r),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){B=null,Bi&&Bi(t)},b.__r=function(t){Hi&&Hi(t),Ye=0;var e=(B=t.__c).__H;e&&(Rr===B?(e.__h=[],B.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=bn,n.__N=n.i=void 0})):(e.__h.forEach(Sn),e.__h.forEach($r),e.__h=[],Ye=0)),Rr=B},b.diffed=function(t){Vi&&Vi(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ji.push(e)!==1&&Ui===b.requestAnimationFrame||((Ui=b.requestAnimationFrame)||df)(_f)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==bn&&(n.__=n.__V),n.i=void 0,n.__V=bn})),Rr=B=null},b.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Sn),n.__h=n.__h.filter(function(r){return!r.__||$r(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],b.__e(r,n.__v)}}),Gi&&Gi(t,e)},b.unmount=function(t){qi&&qi(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Sn(r)}catch(s){e=s}}),n.__H=void 0,e&&b.__e(e,n.__v))};var Wi=typeof requestAnimationFrame=="function";function df(t){var e,n=function(){clearTimeout(r),Wi&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Wi&&(e=requestAnimationFrame(n))}function Sn(t){var e=B,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),B=e}function $r(t){var e=B;t.__c=t.__(),B=e}function Cr(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function zi(t,e){return typeof e=="function"?e(t):e}function Ji(t,e){for(var n in e)t[n]=e[n];return t}function Pr(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Ir(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function Nr(t){this.props=t}function pf(t,e){function n(s){var i=this.props.ref,o=i==s.ref;return!o&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!o:Pr(this.props,s)}function r(s){return this.shouldComponentUpdate=n,Fe(t,s)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Nr.prototype=new ke).isPureReactComponent=!0,Nr.prototype.shouldComponentUpdate=function(t,e){return Pr(this.props,t)||Pr(this.state,e)};var Qi=b.__b;b.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Qi&&Qi(t)};var hf=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ki(t){function e(n){var r=Ji({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=hf,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Xi=function(t,e){return t==null?null:Me(Me(t).map(e))},gf={map:Xi,forEach:Xi,count:function(t){return t?Me(t).length:0},only:function(t){var e=Me(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Me},mf=b.__e;b.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}mf(t,e,n,r)};var Zi=b.unmount;function eo(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Ji({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return eo(r,e,n)})),t}function to(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return to(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function En(){this.__u=0,this.t=null,this.__b=null}function no(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function vf(t){var e,n,r;function s(i){if(e||(e=t()).then(function(o){n=o.default||o},function(o){r=o}),r)throw r;if(!n)throw e;return Fe(n,i)}return s.displayName="Lazy",s.__f=!0,s}function zt(){this.u=null,this.o=null}b.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Zi&&Zi(t)},(En.prototype=new ke).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=no(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var f=r.state.__a;r.__v.__k[0]=to(f,f.__c.__P,f.__c.__O)}var l;for(r.setState({__a:r.__b=null});l=r.t.pop();)l.forceUpdate()}},u=e.__h===!0;r.__u++||u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},En.prototype.componentWillUnmount=function(){this.t=[]},En.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=eo(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&Fe(ae,null,t.fallback);return s&&(s.__h=null),[Fe(ae,null,e.__a?null:t.children),s]};var ro=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function xf(t){return this.getChildContext=function(){return t.context},t.children}function yf(t){var e=this,n=t.i;e.componentWillUnmount=function(){Tt(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Tt(Fe(xf,{context:e.context},t.__v),e.l)}function bf(t,e){var n=Fe(yf,{__v:t,i:e});return n.containerInfo=e,n}(zt.prototype=new ke).__a=function(t){var e=this,n=no(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),ro(e,t,r)):s()};n?n(i):i()}},zt.prototype.render=function(t){this.u=null,this.o=new Map;var e=Me(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},zt.prototype.componentDidUpdate=zt.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){ro(t,n,e)})};var so=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,wf=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Sf=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ef=/[A-Z0-9]/g,kf=typeof document<"u",Tf=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Of(t,e,n){return e.__k==null&&(e.textContent=""),Tt(t,e),typeof n=="function"&&n(),t?t.__c:null}function Rf(t,e,n){return Li(t,e),typeof n=="function"&&n(),t?t.__c:null}ke.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ke.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var io=b.event;function $f(){}function Cf(){return this.cancelBubble}function Pf(){return this.defaultPrevented}b.event=function(t){return io&&(t=io(t)),t.persist=$f,t.isPropagationStopped=Cf,t.isDefaultPrevented=Pf,t.nativeEvent=t};var Dr,If={enumerable:!1,configurable:!0,get:function(){return this.class}},oo=b.vnode;b.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,s={};for(var i in n){var o=n[i];if(!(i==="value"&&"defaultValue"in n&&o==null||kf&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var a=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||Tf(n.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":Sf.test(i)?i=a:r.indexOf("-")===-1&&wf.test(i)?i=i.replace(Ef,"-$&").toLowerCase():o===null&&(o=void 0):a=i="oninput",a==="oninput"&&s[i=a]&&(i="oninputCapture"),s[i]=o}}r=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Me(n.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),r=="select"&&s.defaultValue!=null&&(s.value=Me(n.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",If)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=so,oo&&oo(t)};var ao=b.__r;b.__r=function(t){ao&&ao(t),Dr=t.__c};var uo=b.diffed;b.diffed=function(t){uo&&uo(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),Dr=null};var Nf={ReactCurrentDispatcher:{current:{readContext:function(t){return Dr.__n[t.__c].props.value}}}};function Df(t){return Fe.bind(null,t)}function kn(t){return!!t&&t.$$typeof===so}function Af(t){return kn(t)&&t.type===ae}function Ff(t){return kn(t)?of.apply(null,arguments):t}function Mf(t){return!!t.__k&&(Tt(null,t),!0)}function Lf(t){return t&&(t.base||t.nodeType===1&&t)||null}var Uf=function(t,e){return t(e)},jf=function(t,e){return t(e)},Bf=ae;function co(t){t()}function Hf(t){return t}function Vf(){return[!1,co]}var Gf=wn,qf=kn;function Yf(t,e){var n=e(),r=Le({h:{__:n,v:e}}),s=r[0].h,i=r[1];return wn(function(){s.__=n,s.v=e,Ir(s.__,e())||i({h:s})},[t,n,e]),Te(function(){return Ir(s.__,s.v())||i({h:s}),t(function(){Ir(s.__,s.v())||i({h:s})})},[t]),n}var Ar={useState:Le,useId:lf,useReducer:Yi,useEffect:Te,useLayoutEffect:wn,useInsertionEffect:Gf,useTransition:Vf,useDeferredValue:Hf,useSyncExternalStore:Yf,startTransition:co,useRef:af,useImperativeHandle:uf,useMemo:at,useCallback:cf,useContext:ut,useDebugValue:ff,version:"17.0.2",Children:gf,render:Of,hydrate:Rf,unmountComponentAtNode:Mf,createPortal:bf,createElement:Fe,createContext:Or,createFactory:Df,cloneElement:Ff,createRef:ef,Fragment:ae,isValidElement:kn,isElement:qf,isFragment:Af,findDOMNode:Lf,Component:ke,PureComponent:Nr,memo:pf,forwardRef:Ki,flushSync:jf,unstable_batchedUpdates:Uf,StrictMode:Bf,Suspense:En,SuspenseList:zt,lazy:vf,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Nf};const we=()=>typeof window!="object"?{}:{...window.$superfiliateStorefront,scriptId:"superfiliate-storefront-script"},$t=Or([{storefrontData:we(),loading:!1},t=>{}]);var Fr=function(){return Fr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fr.apply(this,arguments)},Mr=function(){return Mr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mr.apply(this,arguments)};function Wf(t){return t.toLowerCase()}var zf=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Jf=/[^A-Z0-9]+/gi;function Qf(t,e){e===void 0&&(e={});for(var n=e.splitRegexp,r=n===void 0?zf:n,s=e.stripRegexp,i=s===void 0?Jf:s,o=e.transform,a=o===void 0?Wf:o,u=e.delimiter,f=u===void 0?" ":u,l=fo(fo(t,r,"$1\0$2"),i,"\0"),c=0,_=l.length;l.charAt(c)==="\0";)c++;for(;l.charAt(_-1)==="\0";)_--;return l.slice(c,_).split("\0").map(a).join(f)}function fo(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,s){return r.replace(s,n)},t)}function Kf(t,e){return e===void 0&&(e={}),Qf(t,Mr({delimiter:"."},e))}function Xf(t,e){return e===void 0&&(e={}),Kf(t,Fr({delimiter:"_"},e))}const lo=Object.prototype.toString;function _o(t){switch(lo.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ft(t,Error)}}function Ct(t,e){return lo.call(t)===`[object ${e}]`}function Lr(t){return Ct(t,"ErrorEvent")}function po(t){return Ct(t,"DOMError")}function Zf(t){return Ct(t,"DOMException")}function ct(t){return Ct(t,"String")}function ho(t){return t===null||typeof t!="object"&&typeof t!="function"}function Pt(t){return Ct(t,"Object")}function Tn(t){return typeof Event<"u"&&ft(t,Event)}function el(t){return typeof Element<"u"&&ft(t,Element)}function tl(t){return Ct(t,"RegExp")}function Ur(t){return!!(t&&t.then&&typeof t.then=="function")}function nl(t){return Pt(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function rl(t){return typeof t=="number"&&t!==t}function ft(t,e){try{return t instanceof e}catch{return!1}}function go(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function It(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function mo(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{go(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function sl(t,e,n=!1){return ct(t)?tl(e)?e.test(t):ct(e)?n?t===e:t.includes(e):!1:!1}function On(t,e=[],n=!1){return e.some(r=>sl(t,r,n))}function il(t,e,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!ft(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=ol(jr(t,e,s,o.originalException,r,i.exception.values,a,0),n))}function jr(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let u=[...i];if(ft(r[s],Error)){vo(o,a);const f=t(e,r[s]),l=u.length;xo(f,s,l,a),u=jr(t,e,n,r[s],s,[f,...u],f,l)}return Array.isArray(r.errors)&&r.errors.forEach((f,l)=>{if(ft(f,Error)){vo(o,a);const c=t(e,f),_=u.length;xo(c,`errors[${l}]`,_,a),u=jr(t,e,n,f,s,[c,...u],c,_)}}),u}function vo(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function xo(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function ol(t,e){return t.map(n=>(n.value&&(n.value=It(n.value,e)),n))}function Rn(t){return t&&t.Math==Math?t:void 0}const Q=typeof globalThis=="object"&&Rn(globalThis)||typeof window=="object"&&Rn(window)||typeof self=="object"&&Rn(self)||typeof global=="object"&&Rn(global)||function(){return this}()||{};function Jt(){return Q}function yo(t,e,n){const r=n||Q,s=r.__SENTRY__=r.__SENTRY__||{};return s[t]||(s[t]=e())}const al=Jt(),ul=80;function Br(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",u=a.length;let f;const l=Array.isArray(e)?e:e.keyAttrs,c=!Array.isArray(e)&&e.maxStringLength||ul;for(;n&&i++<r&&(f=cl(n,l),!(f==="html"||i>1&&o+s.length*u+f.length>=c));)s.push(f),o+=f.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function cl(t,e){const n=t,r=[];let s,i,o,a,u;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const f=e&&e.length?e.filter(c=>n.getAttribute(c)).map(c=>[c,n.getAttribute(c)]):null;if(f&&f.length)f.forEach(c=>{r.push(`[${c[0]}="${c[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&ct(s))for(i=s.split(/\s+/),u=0;u<i.length;u++)r.push(`.${i[u]}`);const l=["aria-label","type","name","title","alt"];for(u=0;u<l.length;u++)o=l[u],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function fl(){try{return al.document.location.href}catch{return""}}const ll="Sentry Logger ",Hr=["debug","info","warn","error","log","assert","trace"],$n={};function bo(t){if(!("console"in Q))return t();const e=Q.console,n={},r=Object.keys($n);r.forEach(s=>{const i=$n[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function _l(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Hr.forEach(n=>{e[n]=(...r)=>{t&&bo(()=>{Q.console[n](`${ll}[${n}]:`,...r)})}}):Hr.forEach(n=>{e[n]=()=>{}}),e}const $=_l(),dl=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pl(t){return t==="http"||t==="https"}function Cn(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:u}=t;return`${a}://${u}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function hl(t){const e=dl.exec(t);if(!e){console.error(`Invalid Sentry Dsn: ${t}`);return}const[n,r,s="",i,o="",a]=e.slice(1);let u="",f=a;const l=f.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),f=l.pop()),f){const c=f.match(/^\d+/);c&&(f=c[0])}return wo({host:i,pass:s,path:u,projectId:f,port:o,protocol:n,publicKey:r})}function wo(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function gl(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:($.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?pl(r)?e&&isNaN(parseInt(e,10))?($.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:($.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):($.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function ml(t){const e=typeof t=="string"?hl(t):wo(t);if(!(!e||!gl(e)))return e}class Oe extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ee(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&So(s,r),t[e]=s}function Qt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function So(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Qt(t,"__sentry_original__",e)}catch{}}function Vr(t){return t.__sentry_original__}function vl(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Eo(t){if(_o(t))return{message:t.message,name:t.name,stack:t.stack,...To(t)};if(Tn(t)){const e={type:t.type,target:ko(t.target),currentTarget:ko(t.currentTarget),...To(t)};return typeof CustomEvent<"u"&&ft(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function ko(t){try{return el(t)?Br(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function To(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function xl(t,e=40){const n=Object.keys(Eo(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return It(n[0],e);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>e))return r===n.length?s:It(s,e)}return""}function Pn(t){return Gr(t,new Map)}function Gr(t,e){if(Pt(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.keys(t))typeof t[s]<"u"&&(r[s]=Gr(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(Gr(s,e))}),r}return t}function Ue(){const t=Q,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>e.getRandomValues(new Uint8Array(1))[0])}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Oo(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function We(t){const{message:e,event_id:n}=t;if(e)return e;const r=Oo(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function qr(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function Kt(t,e){const n=Oo(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const i={...s&&s.data,...e.data};n.mechanism.data=i}}function Ro(t){if(t&&t.__sentry_captured__)return!0;try{Qt(t,"__sentry_captured__",!0)}catch{}return!1}function yl(t){return Array.isArray(t)?t:[t]}const $o=50,Co=/\(error: (.*)\)/,Po=/captureMessage|captureException/;function bl(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const u=Co.test(a)?a.replace(Co,"$1"):a;if(!u.match(/\S*Error: /)){for(const f of e){const l=f(u);if(l){s.push(l);break}}if(s.length>=$o)break}}return wl(s)}}function wl(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Po.test(e[e.length-1].function||"")&&(e.pop(),Po.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,$o).map(n=>({...n,filename:n.filename||e[e.length-1].filename,function:n.function||"?"}))}const Yr="<anonymous>";function ze(t){try{return!t||typeof t!="function"?Yr:t.name||Yr}catch{return Yr}}const Wr=Jt();function Sl(){if(!("fetch"in Wr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function zr(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function El(){if(!Sl())return!1;if(zr(Wr.fetch))return!0;let t=!1;const e=Wr.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=zr(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}const In=Jt();function kl(){const t=In.chrome,e=t&&t.app&&t.app.runtime,n="history"in In&&!!In.history.pushState&&!!In.history.replaceState;return!e&&n}const K=Jt(),Xt="__sentry_xhr_v2__",Zt={},Io={};function Tl(t){if(!Io[t])switch(Io[t]=!0,t){case"console":Ol();break;case"dom":Fl();break;case"xhr":Cl();break;case"fetch":Rl();break;case"history":Pl();break;case"error":Ml();break;case"unhandledrejection":Ll();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn("unknown instrumentation type:",t);return}}function lt(t,e){Zt[t]=Zt[t]||[],Zt[t].push(e),Tl(t)}function Se(t,e){if(!(!t||!Zt[t]))for(const n of Zt[t]||[])try{n(e)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ze(n)}
Error:`,r)}}function Ol(){"console"in Q&&Hr.forEach(function(t){t in Q.console&&ee(Q.console,t,function(e){return $n[t]=e,function(...n){Se("console",{args:n,level:t});const r=$n[t];r&&r.apply(Q.console,n)}})})}function Rl(){El()&&ee(Q,"fetch",function(t){return function(...e){const{method:n,url:r}=$l(e),s={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Se("fetch",{...s}),t.apply(Q,e).then(i=>(Se("fetch",{...s,endTimestamp:Date.now(),response:i}),i),i=>{throw Se("fetch",{...s,endTimestamp:Date.now(),error:i}),i})}})}function Jr(t,e){return!!t&&typeof t=="object"&&!!t[e]}function No(t){return typeof t=="string"?t:t?Jr(t,"url")?t.url:t.toString?t.toString():"":""}function $l(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:No(n),method:Jr(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:No(e),method:Jr(e,"method")?String(e.method).toUpperCase():"GET"}}function Cl(){if(!K.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;ee(t,"open",function(e){return function(...n){const r=Date.now(),s=n[1],i=this[Xt]={method:ct(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};ct(s)&&i.method==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[Xt];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}Se("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:r,xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ee(this,"onreadystatechange",function(a){return function(...u){return o(),a.apply(this,u)}}):this.addEventListener("readystatechange",o),ee(this,"setRequestHeader",function(a){return function(...u){const[f,l]=u,c=this[Xt];return c&&(c.request_headers[f.toLowerCase()]=l),a.apply(this,u)}}),e.apply(this,n)}}),ee(t,"send",function(e){return function(...n){const r=this[Xt];return r&&n[0]!==void 0&&(r.body=n[0]),Se("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}let Nn;function Pl(){if(!kl())return;const t=K.onpopstate;K.onpopstate=function(...n){const r=K.location.href,s=Nn;if(Nn=r,Se("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Nn,o=String(s);Nn=o,Se("history",{from:i,to:o})}return n.apply(this,r)}}ee(K.history,"pushState",e),ee(K.history,"replaceState",e)}const Il=1e3;let Do,Qr,Kr;function Nl(t){if(t.type!==Qr)return!1;try{if(!t.target||t.target._sentryId!==Kr)return!1}catch{}return!0}function Dl(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Al(t){try{return t.target}catch{return null}}function Ao(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Al(n);if(Dl(n.type,r))return;Qt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Qt(r,"_sentryId",Ue());const s=n.type==="keypress"?"input":n.type;Nl(n)||(t({event:n,name:s,global:e}),Qr=n.type,Kr=r?r._sentryId:void 0),clearTimeout(Do),Do=K.setTimeout(()=>{Kr=void 0,Qr=void 0},Il)}}function Fl(){if(!K.document)return;const t=Se.bind(null,"dom"),e=Ao(t,!0);K.document.addEventListener("click",e,!1),K.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=K[n]&&K[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ee(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const u=this,f=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},l=f[i]=f[i]||{refCount:0};if(!l.handler){const c=Ao(t);l.handler=c,s.call(this,i,c,a)}l.refCount++}catch{}return s.call(this,i,o,a)}}),ee(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const u=this,f=u.__sentry_instrumentation_handlers__||{},l=f[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete f[i]),Object.keys(f).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}let Dn=null;function Ml(){Dn=K.onerror,K.onerror=function(t,e,n,r,s){return Se("error",{column:r,error:s,line:n,msg:t,url:e}),Dn&&!Dn.__SENTRY_LOADER__?Dn.apply(this,arguments):!1},K.onerror.__SENTRY_INSTRUMENTED__=!0}let An=null;function Ll(){An=K.onunhandledrejection,K.onunhandledrejection=function(t){return Se("unhandledrejection",t),An&&!An.__SENTRY_LOADER__?An.apply(this,arguments):!0},K.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ul(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function jl(){return"npm"}function Bl(){return!Ul()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Hl(t,e){return t.require(e)}function Vl(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let i=0;i<e.length;i++)if(e[i]===s)return!0;return e.push(s),!1}function r(s){if(t)e.delete(s);else for(let i=0;i<e.length;i++)if(e[i]===s){e.splice(i,1);break}}return[n,r]}function Je(t,e=100,n=1/0){try{return Xr("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Fo(t,e=3,n=100*1024){const r=Je(t,e);return Wl(r)>n?Fo(t,e-1,n):r}function Xr(t,e,n=1/0,r=1/0,s=Vl()){const[i,o]=s;if(e==null||["number","boolean","string"].includes(typeof e)&&!rl(e))return e;const a=Gl(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return a.replace("object ","");if(i(e))return"[Circular ~]";const f=e;if(f&&typeof f.toJSON=="function")try{const d=f.toJSON();return Xr("",d,u-1,r,s)}catch{}const l=Array.isArray(e)?[]:{};let c=0;const _=Eo(e);for(const d in _){if(!Object.prototype.hasOwnProperty.call(_,d))continue;if(c>=r){l[d]="[MaxProperties ~]";break}const h=_[d];l[d]=Xr(d,h,u-1,r,s),c++}return o(e),l}function Gl(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(go(e))return"[VueViewModel]";if(nl(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${ze(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=ql(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function ql(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function Yl(t){return~-encodeURI(t).split(/%..|./).length}function Wl(t){return Yl(JSON.stringify(t))}var je;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(je||(je={}));function _t(t){return new me(e=>{e(t)})}function Zr(t){return new me((e,n)=>{n(t)})}class me{constructor(e){me.prototype.__init.call(this),me.prototype.__init2.call(this),me.prototype.__init3.call(this),me.prototype.__init4.call(this),this._state=je.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new me((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new me((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(je.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(je.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===je.PENDING){if(Ur(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===je.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===je.RESOLVED&&n[1](this._value),this._state===je.REJECTED&&n[2](this._value),n[0]=!0)})}}}function zl(t){const e=[];function n(){return t===void 0||e.length<t}function r(o){return e.splice(e.indexOf(o),1)[0]}function s(o){if(!n())return Zr(new Oe("Not adding Promise because buffer limit was reached."));const a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new me((a,u)=>{let f=e.length;if(!f)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(c=>{_t(c).then(()=>{--f||(clearTimeout(l),a(!0))},u)})})}return{$:e,add:s,drain:i}}function es(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const Jl=["fatal","error","warning","log","info","debug"];function Ql(t){return t==="warn"?"warning":Jl.includes(t)?t:"log"}const Mo=Jt(),ts={nowSeconds:()=>Date.now()/1e3};function Kl(){const{performance:t}=Mo;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function Xl(){try{return Hl(module,"perf_hooks").performance}catch{return}}const ns=Bl()?Xl():Kl(),Lo=ns===void 0?ts:{nowSeconds:()=>(ns.timeOrigin+ns.now())/1e3},Fn=ts.nowSeconds.bind(ts),Uo=Lo.nowSeconds.bind(Lo);(()=>{const{performance:t}=Mo;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):e,f=u<e;return i||f?s<=u?t.timeOrigin:o:r})();function en(t,e=[]){return[t,e]}function Zl(t,e){const[n,r]=t;return[n,[...r,e]]}function jo(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}function rs(t,e){return(e||new TextEncoder).encode(t)}function e_(t,e){const[n,r]=t;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[rs(s,e),o]:s.push(typeof o=="string"?rs(o,e):o)}for(const o of r){const[a,u]=o;if(i(`
${JSON.stringify(a)}
`),typeof u=="string"||u instanceof Uint8Array)i(u);else{let f;try{f=JSON.stringify(u)}catch{f=JSON.stringify(Je(u))}i(f)}}return typeof s=="string"?s:t_(s)}function t_(t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function n_(t,e){const n=typeof t.data=="string"?rs(t.data,e):t.data;return[Pn({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const r_={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function Bo(t){return r_[t]}function Ho(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function s_(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Cn(r)},...s&&{trace:Pn({...s})}}}function i_(t,e,n){const r=[{type:"client_report"},{timestamp:n||Fn(),discarded_events:t}];return en(e?{dsn:e}:{},[r])}const o_=60*1e3;function a_(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?o_:r-e}function u_(t,e){return t[e]||t.all||0}function c_(t,e,n=Date.now()){return u_(t,e)>n}function f_(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[u,f]=a.split(":",2),l=parseInt(u,10),c=(isNaN(l)?60:l)*1e3;if(!f)s.all=r+c;else for(const _ of f.split(";"))s[_]=r+c}else o?s.all=r+a_(o,r):e===429&&(s.all=r+60*1e3);return s}const ss="production";function is(){return yo("globalEventProcessors",()=>[])}function l_(t){is().push(t)}function Mn(t,e,n,r=0){return new me((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&o.id&&a===null&&$.log(`Event processor "${o.id}" dropped event`),Ur(a)?a.then(u=>Mn(t,u,n,r+1).then(s)).then(null,i):Mn(t,a,n,r+1).then(s).then(null,i)}})}function __(t){const e=Uo(),n={sid:Ue(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>p_(n)};return t&&Nt(n,t),n}function Nt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Uo(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Ue()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function d_(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),Nt(t,n)}function p_(t){return Pn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const h_=100;class dt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Vo()}static clone(e){const n=new dt;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments],n._sdkProcessingMetadata={...e._sdkProcessingMetadata},n._propagationContext={...e._propagationContext}),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Nt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const n=e(this);return n instanceof dt?n:this}return e instanceof dt?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):Pt(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Vo(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:h_;if(r<=0)return this;const s={timestamp:Fn(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={},r){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const o=this._span.transaction;if(o){e.sdkProcessingMetadata={dynamicSamplingContext:o.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const a=o.name;a&&(e.tags={transaction:a,...e.tags})}}this._applyFingerprint(e);const s=this._getBreadcrumbs(),i=[...e.breadcrumbs||[],...s];return e.breadcrumbs=i.length>0?i:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},Mn([...r||[],...is(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?yl(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Vo(){return{traceId:Ue(),spanId:Ue().substring(16)}}const Go=4,g_=100;class os{constructor(e,n=new dt,r=Go){this._version=r,this._stack=[{scope:n}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=dt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Ue(),s=new Error("Sentry syntheticException");return this._withClient((i,o)=>{i.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},o)}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:Ue(),i=new Error(e);return this._withClient((o,a)=>{o.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},a)}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Ue();return e.type||(this._lastEventId=r),this._withClient((s,i)=>{s.captureEvent(e,{...n,event_id:r},i)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=g_}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const u={timestamp:Fn(),...e},f=i?bo(()=>i(u,n)):u;f!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",f,n),r.addBreadcrumb(f,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=qo(this);try{e(this)}finally{qo(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!r){const s=this.getClient();console.warn(s?`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`:"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&d_(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=ss}=r&&r.getOptions()||{},{userAgent:o}=Q.navigator||{},a=__({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&Nt(u,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(e){const{scope:n,client:r}=this.getStackTop();r&&e(r,n)}_callExtensionMethod(e,...n){const s=Ln().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ln(){return Q.__SENTRY__=Q.__SENTRY__||{extensions:{},hub:void 0},Q}function qo(t){const e=Ln(),n=as(e);return Yo(e,t),n}function _e(){const t=Ln();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return m_(t)}function m_(t=Ln()){return(!v_(t)||as(t).isOlderThan(Go))&&Yo(t,new os),as(t)}function v_(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function as(t){return yo("hub",()=>new os,t)}function Yo(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function x_(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=Pn({environment:r.environment||ss,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function y_(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function b_(t,e,n,r){const s=Ho(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:Cn(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return en(i,[o])}function w_(t,e,n,r){const s=Ho(n),i=t.type&&t.type!=="replay_event"?t.type:"event";y_(t,n&&n.sdk);const o=s_(t,s,r,e);return delete t.sdkProcessingMetadata,en(o,[[{type:i},t]])}function S_(t,e){return _e().captureException(t,{captureContext:e})}function E_(t){_e().withScope(t)}const k_="7";function T_(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function O_(t){return`${T_(t)}${t.projectId}/envelope/`}function R_(t,e){return vl({sentry_key:t.publicKey,sentry_version:k_,...e&&{sentry_client:`${e.name}/${e.version}`}})}function $_(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${O_(t)}?${R_(t,r)}`}const Wo=[];function C_(t,e){const n={};return e.forEach(r=>{r&&zo(t,r,n)}),n}function zo(t,e,n){if(n[e.name]=e,Wo.indexOf(e.name)===-1&&(e.setupOnce(l_,_e),Wo.push(e.name)),t.on&&typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((i,o)=>r(i,o,t),{id:e.name});t.addEventProcessor(s)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log(`Integration installed: ${e.name}`)}function P_(t,e,n,r,s){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=t,a={...e,event_id:e.event_id||n.event_id||Ue(),timestamp:e.timestamp||Fn()},u=n.integrations||t.integrations.map(_=>_.name);I_(a,t),A_(a,u),e.type===void 0&&N_(a,t.stackParser);let f=r;n.captureContext&&(f=dt.clone(f).update(n.captureContext));let l=_t(a);const c=s&&s.getEventProcessors?s.getEventProcessors():[];if(f){if(f.getAttachments){const _=[...n.attachments||[],...f.getAttachments()];_.length&&(n.attachments=_)}l=f.applyToEvent(a,n,c)}else l=Mn([...c,...is()],a,n);return l.then(_=>(_&&D_(_),typeof i=="number"&&i>0?F_(_,i,o):_))}function I_(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:ss),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=It(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=It(o.value,i));const a=t.request;a&&a.url&&(a.url=It(a.url,i))}const Jo=new WeakMap;function N_(t,e){const n=Q._sentryDebugIds;if(!n)return;let r;const s=Jo.get(e);s?r=s:(r=new Map,Jo.set(e,r));const i=Object.keys(n).reduce((o,a)=>{let u;const f=r.get(a);f?u=f:(u=e(a),r.set(a,u));for(let l=u.length-1;l>=0;l--){const c=u[l];if(c.filename){o[c.filename]=n[a];break}}return o},{});try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function D_(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function A_(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function F_(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:Je(s.data,e,n)}}))},...t.user&&{user:Je(t.user,e,n)},...t.contexts&&{contexts:Je(t.contexts,e,n)},...t.extra&&{extra:Je(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Je(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>(s.data&&(s.data=Je(s.data,e,n)),s))),r}const Qo="Not capturing exception because it's already been captured.";class M_{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ml(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn("No DSN provided, client will not send events."),this._dsn){const n=$_(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,r){if(Ro(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log(Qo);return}let s=n&&n.event_id;return this._process(this.eventFromException(e,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(e,n,r,s){let i=r&&r.event_id;const o=ho(e)?this.eventFromMessage(String(e),n,r):this.eventFromException(e,r);return this._process(o.then(a=>this._captureEvent(a,r,s)).then(a=>{i=a})),i}captureEvent(e,n,r){if(n&&n.originalException&&Ro(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log(Qo);return}let s=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(i=>{s=i})),s}captureSession(e){typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Nt(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s)):_t(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=C_(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){zo(this,e,this._integrations)}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=w_(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Zl(r,n_(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const n=b_(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(r=>r(...n))}_updateSessionFromEvent(e,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const u of i){const f=u.mechanism;if(f&&f.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(Nt(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new me(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,e&&r>=e&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r){const s=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",e,n),P_(s,e,n,r,this).then(o=>{if(o===null)return o;const{propagationContext:a}=o.sdkProcessingMetadata||{};if(!(o.contexts&&o.contexts.trace)&&a){const{traceId:f,spanId:l,parentSpanId:c,dsc:_}=a;o.contexts={trace:{trace_id:f,span_id:l,parent_span_id:c},...o.contexts};const d=_||x_(f,this,r);o.sdkProcessingMetadata={dynamicSamplingContext:d,...o.sdkProcessingMetadata}}return o})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const i=s;i.logLevel==="log"?$.log(i.message):$.warn(i)}})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Xo(e),a=Ko(e),u=e.type||"error",f=`before send for type \`${u}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),Zr(new Oe(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=u==="replay_event"?"replay":u;return this._prepareEvent(e,n,r).then(c=>{if(c===null)throw this.recordDroppedEvent("event_processor",l,e),new Oe("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return c;const d=U_(s,c,n);return L_(d,f)}).then(c=>{if(c===null)throw this.recordDroppedEvent("before_send",l,e),new Oe(`${f} returned \`null\`, will not send event.`,"log");const _=r&&r.getSession();!o&&_&&this._updateSessionFromEvent(_,c);const d=c.transaction_info;if(o&&d&&c.transaction!==e.transaction){const h="custom";c.transaction_info={...d,source:h}}return this.sendEvent(c,n),c}).then(null,c=>{throw c instanceof Oe?c:(this.captureException(c,{data:{__sentry__:!0},originalException:c}),new Oe(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${c}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:e[n]}})}}function L_(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Ur(t))return t.then(r=>{if(!Pt(r)&&r!==null)throw new Oe(n);return r},r=>{throw new Oe(`${e} rejected with ${r}`)});if(!Pt(t)&&t!==null)throw new Oe(n);return t}function U_(t,e,n){const{beforeSend:r,beforeSendTransaction:s}=t;return Ko(e)&&r?r(e,n):Xo(e)&&s?s(e,n):e}function Ko(t){return t.type===void 0}function Xo(t){return t.type==="transaction"}const j_=30;function B_(t,e,n=zl(t.bufferSize||j_)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(jo(o,(c,_)=>{const d=Bo(_);if(c_(r,d)){const h=Zo(c,_);t.recordDroppedEvent("ratelimit_backoff",d,h)}else a.push(c)}),a.length===0)return _t();const u=en(o[0],a),f=c=>{jo(u,(_,d)=>{const h=Zo(_,d);t.recordDroppedEvent(c,Bo(d),h)})},l=()=>e({body:e_(u,t.textEncoder)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=f_(r,c),c),c=>{throw f("network_error"),c});return n.add(l).then(c=>c,c=>{if(c instanceof Oe)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.error("Skipped sending event because buffer is full."),f("queue_overflow"),_t();throw c})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function Zo(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const ea="7.80.1";let ta;class Un{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=Un.id}setupOnce(){ta=Function.prototype.toString;try{Function.prototype.toString=function(...e){const n=Vr(this)||this;return ta.apply(n,e)}}catch{}}}Un.__initStatic();const H_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],V_=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class jn{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=jn.id,this._options=e}setupOnce(e,n){}processEvent(e,n,r){const s=r.getOptions(),i=G_(this._options,s);return q_(e,i)?null:e}}jn.__initStatic();function G_(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:H_],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:V_],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function q_(t,e){return e.ignoreInternal&&K_(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Event dropped due to being internal Sentry Error.
Event: ${We(t)}`),!0):Y_(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${We(t)}`),!0):W_(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${We(t)}`),!0):z_(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${We(t)}.
Url: ${Bn(t)}`),!0):J_(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${We(t)}.
Url: ${Bn(t)}`),!0)}function Y_(t,e){return t.type||!e||!e.length?!1:Q_(t).some(n=>On(n,e))}function W_(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?On(n,e):!1}function z_(t,e){if(!e||!e.length)return!1;const n=Bn(t);return n?On(n,e):!1}function J_(t,e){if(!e||!e.length)return!0;const n=Bn(t);return n?On(n,e):!0}function Q_(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e.length===0&&$.error(`Could not extract message for event ${We(t)}`),e}function K_(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function X_(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Bn(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?X_(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.error(`Cannot extract url for event ${We(t)}`),null}}const V=Q;let us=0;function na(){return us>0}function Z_(){us++,setTimeout(()=>{us--})}function Dt(t,e={},n){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return s;if(Vr(t))return t}catch{return t}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=s.map(o=>Dt(o,e));return t.apply(this,i)}catch(i){throw Z_(),E_(o=>{o.addEventProcessor(a=>(e.mechanism&&(qr(a,void 0,void 0),Kt(a,e.mechanism)),a.extra={...a.extra,arguments:s},a)),S_(i)}),i}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch{}So(r,t),Qt(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}function ra(t,e){const n=fs(t,e),r={type:e&&e.name,value:rd(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function ed(t,e,n,r){const i=_e().getClient(),o=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:Tn(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:od(e,{isUnhandledRejection:r})}]},extra:{__serialized__:Fo(e,o)}};if(n){const u=fs(t,n);u.length&&(a.exception.values[0].stacktrace={frames:u})}return a}function cs(t,e){return{exception:{values:[ra(t,e)]}}}function fs(t,e){const n=e.stacktrace||e.stack||"",r=nd(e);try{return t(n,r)}catch{}return[]}const td=/Minified React error #\d+;/i;function nd(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(td.test(t.message))return 1}return 0}function rd(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function sd(t,e,n,r){const s=n&&n.syntheticException||void 0,i=ls(t,e,s,r);return Kt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),_t(i)}function id(t,e,n="info",r,s){const i=r&&r.syntheticException||void 0,o=_s(t,e,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),_t(o)}function ls(t,e,n,r,s){let i;if(Lr(e)&&e.error)return cs(t,e.error);if(po(e)||Zf(e)){const o=e;if("stack"in e)i=cs(t,e);else{const a=o.name||(po(o)?"DOMError":"DOMException"),u=o.message?`${a}: ${o.message}`:a;i=_s(t,u,n,r),qr(i,u)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return _o(e)?cs(t,e):Pt(e)||Tn(e)?(i=ed(t,e,n,s),Kt(i,{synthetic:!0}),i):(i=_s(t,e,n,r),qr(i,`${e}`,void 0),Kt(i,{synthetic:!0}),i)}function _s(t,e,n,r){const s={message:e};if(r&&n){const i=fs(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}return s}function od(t,{isUnhandledRejection:e}){const n=xl(t),r=e?"promise rejection":"exception";return Lr(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Tn(t)?`Event \`${ad(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ad(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function ud(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:Cn(r)}},i=cd(t);return en(s,[i])}function cd(t){return[{type:"user_report"},t]}class fd extends M_{constructor(e){const n=V.SENTRY_SDK_SOURCE||jl();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:ea}],version:ea},super(e),e.sendClientReports&&V.document&&V.document.addEventListener("visibilitychange",()=>{V.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return sd(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return id(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn("SDK not enabled, will not capture user feedback.");return}const n=ud(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log("Sending outcomes:",e);const n=i_(e,this._options.tunnel&&Cn(this._dsn));this._sendEnvelope(n)}}let tn;function ld(){if(tn)return tn;if(zr(V.fetch))return tn=V.fetch.bind(V);const t=V.document;let e=V.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return tn=e.bind(V)}function _d(){tn=void 0}function dd(t,e=ld()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,a).then(u=>(n-=o,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return _d(),n-=o,r--,Zr(u)}}return B_(t,s)}const Hn="?",pd=30,hd=40,gd=50;function ds(t,e,n,r){const s={filename:t,function:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const md=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,vd=/\((\S*)(?::(\d+))(?::(\d+))\)/,xd=[pd,t=>{const e=md.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=vd.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[r,s]=sa(e[1]||Hn,e[2]);return ds(s,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],yd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,bd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wd=[gd,t=>{const e=yd.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=bd.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],s=e[1]||Hn;return[s,r]=sa(s,r),ds(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],Sd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ed=bl(...[xd,wd,[hd,t=>{const e=Sd.exec(t);return e?ds(e[2],e[1]||Hn,+e[3],e[4]?+e[4]:void 0):void 0}]]),sa=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Hn,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class At{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=At.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:kd,onunhandledrejection:Td}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&($d(n),r(),this._installFunc[n]=void 0)}}}At.__initStatic();function kd(){lt("error",t=>{const[e,n,r]=aa();if(!e.getIntegration(At))return;const{msg:s,url:i,line:o,column:a,error:u}=t;if(na()||u&&u.__sentry_own_request__)return;const f=u===void 0&&ct(s)?Rd(s,i,o,a):ia(ls(n,u||s,void 0,r,!1),i,o,a);f.level="error",oa(e,u,f,"onerror")})}function Td(){lt("unhandledrejection",t=>{const[e,n,r]=aa();if(!e.getIntegration(At))return;let s=t;try{"reason"in t?s=t.reason:"detail"in t&&"reason"in t.detail&&(s=t.detail.reason)}catch{}if(na()||s&&s.__sentry_own_request__)return!0;const i=ho(s)?Od(s):ls(n,s,void 0,r,!0);i.level="error",oa(e,s,i,"onunhandledrejection")})}function Od(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Rd(t,e,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Lr(t)?t.message:t,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),ia({exception:{values:[{type:o,value:i}]}},e,n,r)}function ia(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},u=a.frames=a.frames||[],f=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,c=ct(e)&&e.length>0?e:fl();return u.length===0&&u.push({colno:f,filename:c,function:"?",in_app:!0,lineno:l}),t}function $d(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.log(`Global Handler attached: ${t}`)}function oa(t,e,n,r){Kt(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function aa(){const t=_e(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}const Cd=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Vn{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=Vn.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&ee(V,"setTimeout",ua),this._options.setInterval&&ee(V,"setInterval",ua),this._options.requestAnimationFrame&&ee(V,"requestAnimationFrame",Pd),this._options.XMLHttpRequest&&"XMLHttpRequest"in V&&ee(XMLHttpRequest.prototype,"send",Id);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:Cd).forEach(Nd)}}Vn.__initStatic();function ua(t){return function(...e){const n=e[0];return e[0]=Dt(n,{mechanism:{data:{function:ze(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Pd(t){return function(e){return t.apply(this,[Dt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ze(t)},handled:!1,type:"instrument"}})])}}function Id(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ee(n,s,function(i){const o={mechanism:{data:{function:s,handler:ze(i)},handled:!1,type:"instrument"}},a=Vr(i);return a&&(o.mechanism.data.handler=ze(a)),Dt(i,o)})}),t.apply(this,e)}}function Nd(t){const e=V,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ee(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Dt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ze(i),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Dt(i,{mechanism:{data:{function:"addEventListener",handler:ze(i),target:t},handled:!1,type:"instrument"}}),o])}}),ee(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const u=a&&a.__sentry_wrapped__;u&&r.call(this,s,u,o)}catch{}return r.call(this,s,a,o)}}))}const Gn=1024;class qn{static __initStatic(){this.id="Breadcrumbs"}constructor(e){this.name=qn.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){if(this.options.console&&lt("console",Fd),this.options.dom&&lt("dom",Ad(this.options.dom)),this.options.xhr&&lt("xhr",Md),this.options.fetch&&lt("fetch",Ld),this.options.history&&lt("history",Ud),this.options.sentry){const e=_e().getClient();e&&e.on&&e.on("beforeSendEvent",Dd)}}}qn.__initStatic();function Dd(t){_e().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:We(t)},{event:t})}function Ad(t){function e(n){let r,s=typeof t=="object"?t.serializeAttribute:void 0,i=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;i&&i>Gn&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn(`\`dom.maxStringLength\` cannot exceed ${Gn}, but a value of ${i} was configured. Sentry will use ${Gn} instead.`),i=Gn),typeof s=="string"&&(s=[s]);try{const o=n.event;r=jd(o)?Br(o.target,{keyAttrs:s,maxStringLength:i}):Br(o,{keyAttrs:s,maxStringLength:i})}catch{r="<unknown>"}r.length!==0&&_e().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return e}function Fd(t){const e={category:"console",data:{arguments:t.args,logger:"console"},level:Ql(t.level),message:mo(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${mo(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;_e().addBreadcrumb(e,{input:t.args,level:t.level})}function Md(t){const{startTimestamp:e,endTimestamp:n}=t,r=t.xhr[Xt];if(!e||!n||!r)return;const{method:s,url:i,status_code:o,body:a}=r,u={method:s,url:i,status_code:o},f={xhr:t.xhr,input:a,startTimestamp:e,endTimestamp:n};_e().addBreadcrumb({category:"xhr",data:u,type:"http"},f)}function Ld(t){const{startTimestamp:e,endTimestamp:n}=t;if(n&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const r=t.fetchData,s={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};_e().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},s)}else{const r={...t.fetchData,status_code:t.response&&t.response.status},s={input:t.args,response:t.response,startTimestamp:e,endTimestamp:n};_e().addBreadcrumb({category:"fetch",data:r,type:"http"},s)}}function Ud(t){let e=t.from,n=t.to;const r=es(V.location.href);let s=es(e);const i=es(n);s.path||(s=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===s.protocol&&r.host===s.host&&(e=s.relative),_e().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}function jd(t){return!!t&&!!t.target}const Bd="cause",Hd=5;class Yn{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=Yn.id,this._key=e.key||Bd,this._limit=e.limit||Hd}setupOnce(){}preprocessEvent(e,n,r){const s=r.getOptions();il(ra,s.stackParser,s.maxValueLength,this._key,this._limit,e,n)}}Yn.__initStatic();class Wn{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Wn.id}setupOnce(){}preprocessEvent(e){if(!V.navigator&&!V.location&&!V.document)return;const n=e.request&&e.request.url||V.location&&V.location.href,{referrer:r}=V.document||{},{userAgent:s}=V.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...s&&{"User-Agent":s}},o={...e.request,...n&&{url:n},headers:i};e.request=o}}Wn.__initStatic();class zn{static __initStatic(){this.id="Dedupe"}constructor(){this.name=zn.id}setupOnce(e,n){}processEvent(e){if(e.type)return e;try{if(Vd(e,this._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return this._previousEvent=e}}zn.__initStatic();function Vd(t,e){return e?!!(Gd(t,e)||qd(t,e)):!1}function Gd(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!fa(t,e)||!ca(t,e))}function qd(t,e){const n=la(e),r=la(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!fa(t,e)||!ca(t,e))}function ca(t,e){let n=_a(t),r=_a(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function fa(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function la(t){return t.exception&&t.exception.values&&t.exception.values[0]}function _a(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const Yd=[new jn,new Un,new Vn,new qn,new At,new Yn,new zn,new Wn];var da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Wd=new fd({dsn:"https://1bc8193306264dddaef7fda45ba1f7df@o1255691.ingest.sentry.io/4504164923473920",transport:dd,stackParser:Ed,integrations:Yd.filter(t=>t.name!=="GlobalHandlers"),release:window.$superfiliateStorefront.health.herokuSlugCommit,environment:window.$superfiliateStorefront.health.environment,beforeSend:(t,e)=>{var s,i,o,a,u;if(window.$superfiliateStorefront.health.environment!==br.Production)return null;const n=(a=(o=(i=(s=t.exception)==null?void 0:s.values)==null?void 0:i.slice(-1)[0].stacktrace)==null?void 0:o.frames)==null?void 0:a.slice(-1)[0];if(!n)return t;if(!((u=n.filename)!=null&&u.includes("storefront.js")))return null;const r=e.originalException;return r&&typeof r=="object"&&r.message==="Load failed"&&t.tags&&(t.tags.sf_load_failed=!0),t},tracesSampleRate:0}),ha=new os(Wd);ha.configureScope(function(t){t.setTag("sf_shopify_domain",window.$superfiliateStorefront.shop.shopifyDomain),t.setTag("sf_location_href",window.location.href)});const Jn=t=>{let e;typeof t=="string"?e=new Error(t):e=t,console.error(e),ha.captureException(e)};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.reportError=Jn;const ga="responseText could not be pulled",ma=async(t,e=[200,201,204])=>{let n,r,s;try{n=await t.text()}catch{n=ga}try{r=JSON.parse(n||"null")}catch{r=void 0}if(e.includes(t.status)?n===ga?s=new Error(`Unexpected response text body, status ${t.status}, from ${t.url}`):r===void 0&&(s=new Error(`Unexpected response bad JSON body, status ${t.status}, from ${t.url}`)):s=new Error(`Unexpected response status, status ${t.status}, from ${t.url}`),s)throw s.response=t,s.responseText=n,s.responseJson=r,s;return r||null},zd=async(t,e,n=[200,201,204])=>{const r=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return ma(r,n)},va=async(t,e,n=[200,201,204])=>{const r=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});return ma(r,n)},Jd=()=>we().apiBaseUrl,ps=t=>`${Jd()}/${t}`,xa=(t,e="")=>typeof t!="object"?`${e}=${window.encodeURIComponent(t)}`:Object.entries(t).filter(([n,r])=>r!==void 0).map(([n,r])=>{const s=t instanceof Array?"":n,i=e?`${e}[${Xf(s)}]`:s;return xa(r,i)}).join("&"),ya=()=>({resolution:{height:window.screen.availHeight,width:window.screen.availWidth}}),Qd=async()=>{const t=we(),e=await ep({shop:t.shop,fingerprint:ya()});e&&(window.$superfiliateStorefront.antiFraud.visitor=e)},Kd=()=>{var t;return((t=window.$superfiliateStorefront.antiFraud.visitor)==null?void 0:t.codes)||[]},Xd=t=>{const e=Ft.getVisitorCodes();return!t.length||!e.length?!1:e.includes(t)},Zd=t=>{const e=ps("shop_frontend/visitors/codes"),n=xa(t);return`${e}?${n}`},ep=async t=>{try{return await va(Zd(t))}catch(e){return Jn(e),null}},Ft={fetchVisitorCodes:Qd,getVisitorCodes:Kd,isFraudAccess:Xd},ba=t=>{let e;return t.forEach(n=>{n.style.display!=="none"&&(e=n)}),e},wa=()=>{const t=document.querySelectorAll("#checkout_reduction_code"),e=ba(t);return e||null},Sa=()=>{const t=document.querySelectorAll("button[name='checkout[submit]']"),e=ba(t);return e||null},tp=t=>{const e=document.createElement("p");return e.className="field__message field__message--error",e.id="error-for-reduction_code",e.appendChild(document.createTextNode(t)),e},np=t=>t.closest(".field"),rp=()=>{const t=document.querySelectorAll(".tags-list");return t.length?t[0].querySelectorAll(".tag"):t},sp=t=>{const e=t.querySelector("span.reduction-code__text");return e==null?void 0:e.innerText},ip=t=>t.querySelector("button.tag__button"),op=(t,e)=>{const n=np(t);if(!n)return;const r=n.querySelector("p#error-for-reduction_code");if(r)r.innerText=e;else{const s=tp(e);n.appendChild(s)}n.classList.add("field--error")},ap=t=>{const e=wa();if(!e)return;const n=e.value;Ft.isFraudAccess(n)&&(t.preventDefault(),op(e,"Oops! You cannot use this discount on yourself!"))},up=()=>{const t=Sa();t&&t.addEventListener("click",ap)},Ea=()=>{rp().forEach(e=>{const n=sp(e),r=ip(e);!n||!r||Ft.isFraudAccess(n)&&r.click()})},hs=()=>{up(),Ea()},cp=()=>{ie("shopify_checkout")&&(Ft.fetchVisitorCodes().then(Ea),document.addEventListener("page:load",hs),document.addEventListener("page:change",hs),hs())},fp=()=>{window.$superfiliateStorefront.antiFraud={getDiscountCodeBtn:Sa,getDiscountCodeInput:wa},cp()};var Y=(t=>(t.Open="Open",t.Hidden="Hidden",t.Folded="Folded",t))(Y||{}),Ee=(t=>(t.Passerby="Passerby",t.Lead="Lead",t.SuperfiliateShare="SuperfiliateShare",t.SuperfiliateReward="SuperfiliateReward",t))(Ee||{});const Qn="$sfIframeAuth.plainRefreshToken",gs=t=>{const{sfPortalUrl:e}=window.$superfiliateStorefront.defaultSfVariables||{};return`${e}${t}`.replace("/portal/portal","/portal")},lp=t=>{if(t===Ee.Lead){const e=it();return _p(e||"")}else if(t===Ee.SuperfiliateReward){const e=it();return dp(e||"")}else return hp()},_p=t=>gs(`/portal/onSite/lead?code=${t}`),dp=t=>gs(`/portal/onSite/redeem?code=${t}`),pp=()=>{var n,r,s,i,o,a,u,f;const t={customerEmail:(r=(n=window.Shopify)==null?void 0:n.checkout)==null?void 0:r.email,shopifyCustomerExternalId:(i=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:i.customer_id,shopifyOrderExternalId:(a=(o=window.Shopify)==null?void 0:o.checkout)==null?void 0:a.order_id,shopifyCheckoutToken:(f=(u=window.Shopify)==null?void 0:u.Checkout)==null?void 0:f.token},e=Object.entries(t).filter(([l,c])=>!!c).map(([l,c])=>`${l}=${encodeURIComponent(c||"")}`).join("&");return gs(`/portal/postPurchase/join?${e}`)},hp=()=>{var e;const t=window.localStorage.getItem(Qn);return t?`${we().apiBaseUrl}/redirects/portal/auth/${t}`:((e=window.$superfiliateStorefront.defaultSfVariables)==null?void 0:e.sfPortalUrl)||"#"},gp=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==Qn)return;t.data.value?window.localStorage.setItem(Qn,t.data.value):window.localStorage.removeItem(Qn)}catch{return}})},Kn=(...t)=>{console.log("[Superfiliate]",...t)},pt=window.$superfiliateStorefront.health.environment!=="production"||document.cookie.includes("superfiliateStorefrontDebugInProduction")?Kn:(...t)=>{};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.customConsoleLog=Kn,window.$superfiliateStorefront.logging.debugConsoleLog=pt;const mp={CODE_SHARED:"Code Shared",CODE_GENERATED:"Code Generated"},vp={PROGRAM_WIDGET_OPENED:"Program Widget Opened"};function ka(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ka(Object(n),!0).forEach(function(r){x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ms(t){return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){return e&&Ta(t.prototype,e),n&&Ta(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}function Xn(t){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xn(t)}function vs(t,e){return vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vs(t,e)}function xp(t,e){if(t==null)return{};var n,r,s=function(o,a){if(o==null)return{};var u,f,l={},c=Object.keys(o);for(f=0;f<c.length;f++)u=c[f],a.indexOf(u)>=0||(l[u]=o[u]);return l}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function yp(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ra(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xn(t);if(e){var s=Xn(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return yp(this,n)}}function nn(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a=[],u=!0,f=!1;try{for(s=s.call(n);!(u=(i=s.next()).done)&&(a.push(i.value),!r||a.length!==r);u=!0);}catch(l){f=!0,o=l}finally{try{u||s.return==null||s.return()}finally{if(f)throw o}}return a}}(t,e)||ys(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xs(t){return function(e){if(Array.isArray(e))return bs(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ys(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ys(t,e){if(t){if(typeof t=="string")return bs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bs(t,e):void 0}}function bs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ys(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,i=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}var gt={DEBUG:!1,LIB_VERSION:"1.91.1"},bp=Array.isArray,$a=Object.prototype,Ca=$a.hasOwnProperty,rn=$a.toString,te=bp||function(t){return rn.call(t)==="[object Array]"},Pa=function(t){return rn.call(t)==="[object Uint8Array]"},Be=function(t){try{return/^\s*\bfunction\b/.test(t)}catch{return!1}},Qe=function(t){return t===Object(t)&&!te(t)},wp=function(t){if(Qe(t)){for(var e in t)if(Ca.call(t,e))return!1;return!0}return!1},P=function(t){return t===void 0},de=function(t){return rn.call(t)=="[object String]"},ve=function(t){return t===null},He=function(t){return rn.call(t)=="[object Number]"},ws=function(t){return rn.call(t)==="[object Boolean]"},Ia=Array.prototype,Na=Ia.forEach,Da=Ia.indexOf,p=typeof window<"u"?window:void 0,Aa=p==null?void 0:p.navigator,w=p==null?void 0:p.document,z=Aa==null?void 0:Aa.userAgent,oe=p??{},Fa="[PostHog.js]",v={_log:function(t){if(p&&(gt.DEBUG||oe.POSTHOG_DEBUG)&&!P(p.console)&&p.console){for(var e=("__rrweb_original__"in p.console[t])?p.console[t].__rrweb_original__:p.console[t],n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];e.apply(void 0,[Fa].concat(r))}},info:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];v._log.apply(v,["log"].concat(e))},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];v._log.apply(v,["warn"].concat(e))},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];v._log.apply(v,["error"].concat(e))},critical:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).error.apply(t,[Fa].concat(n))},uninitializedWarning:function(t){v.error("You must initialize PostHog before calling ".concat(t))}},Ss={},Es=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Mt(t,e,n){if(te(t)){if(Na&&t.forEach===Na)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var r=0,s=t.length;r<s;r++)if(r in t&&e.call(n,t[r],r)===Ss)return}}}function j(t,e,n){if(!ve(t)&&!P(t)){if(te(t))return Mt(t,e,n);for(var r in t)if(Ca.call(t,r)&&e.call(n,t[r],r)===Ss)return}}var ne=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Mt(n,function(s){for(var i in s)s[i]!==void 0&&(t[i]=s[i])}),t};function A(t,e){return t.indexOf(e)!==-1}var Ma=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},La=function(t){try{return t()}catch{return}},Ua=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}catch(s){v.critical("Implementation error. Please turn on debug and contact support@posthog.com."),v.critical(s)}}},ks=function(t){var e={};return j(t,function(n,r){de(n)&&n.length>0&&(e[r]=n)}),e},Sp=["$performance_raw"];function Ep(t,e){return n=t,r=function(i,o){return o&&Sp.indexOf(o)>-1?i:de(i)&&!ve(e)?i.slice(0,e):i},s=new Set,function i(o,a){return o!==Object(o)?r?r(o,a):o:s.has(o)?void 0:(s.add(o),te(o)?(u=[],Mt(o,function(f){u.push(i(f))})):(u={},j(o,function(f,l){s.has(f)||(u[l]=i(f,l))})),u);var u}(n);var n,r,s}function Ts(t){var e,n,r,s,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,u=0,f="",l=[];if(!t)return t;t=kp(t);do e=(i=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=i>>12&63,r=i>>6&63,s=63&i,l[u++]=o.charAt(e)+o.charAt(n)+o.charAt(r)+o.charAt(s);while(a<t.length);switch(f=l.join(""),t.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"="}return f}var kp=function(t){var e,n,r,s,i="";for(e=n=0,r=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),ve(a)||(n>e&&(i+=t.substring(e,n)),i+=a,e=n=s+1)}return n>e&&(i+=t.substring(e,t.length)),i},Tp=["ahrefsbot","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","hubspot","linkedinbot","mj12bot","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","twitterbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],Op=function(t,e){if(!t)return!1;var n=t.toLowerCase();return Tp.concat(e||[]).some(function(r){var s=r.toLowerCase();return n.includes?n.includes(s):n.indexOf(s)!==-1})},sn=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,n,r,s,i){if(e)if(e.addEventListener&&!s)e.addEventListener(n,r,!!i);else{var o="on"+n,a=e[o];e[o]=function(u,f,l){return function(c){if(c=c||t(p==null?void 0:p.event)){var _,d=!0;Be(l)&&(_=l(c));var h=f.call(u,c);return _!==!1&&h!==!1||(d=!1),d}}}(e,r,a)}else v.error("No valid element provided to register_event")}}();function on(t,e){var n=function(){if(!w)return e("document not found");var r=w.createElement("script");r.type="text/javascript",r.src=t,r.onload=function(o){return e(void 0,o)},r.onerror=function(o){return e(o)};var s,i=w.querySelectorAll("body > script");i.length>0?(s=i[0].parentNode)===null||s===void 0||s.insertBefore(r,i[0]):w.body.appendChild(r)};w!=null&&w.body?n():w==null||w.addEventListener("DOMContentLoaded",n)}function Zn(t){switch(ms(t.className)){case"string":return t.className;case"object":return("baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";default:return""}}function er(t){var e="";return tr(t)&&!Va(t)&&t.childNodes&&t.childNodes.length&&j(t.childNodes,function(n){Ba(n)&&n.textContent&&(e+=Es(n.textContent).split(/(\s+)/).filter(Lt).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),Es(e)}function ja(t){return!!t&&t.nodeType===1}function mt(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Ba(t){return!!t&&t.nodeType===3}function Ha(t){return!!t&&t.nodeType===11}var Os=["a","button","form","input","select","textarea","label"];function tr(t){for(var e=t;e.parentNode&&!mt(e,"body");e=e.parentNode){var n=Zn(e).split(" ");if(A(n,"ph-sensitive")||A(n,"ph-no-capture"))return!1}if(A(Zn(t).split(" "),"ph-include"))return!0;var r=t.type||"";if(de(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var s=t.name||t.id||"";return!(de(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function Va(t){return!!(mt(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||mt(t,"select")||mt(t,"textarea")||t.getAttribute("contenteditable")==="true")}function Lt(t){return!(ve(t)||P(t)||de(t)&&(t=Es(t),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(t)))}function Ga(t){var e=er(t);return Lt(e="".concat(e," ").concat(qa(t)).trim())?e:""}function qa(t){var e="";return t&&t.childNodes&&t.childNodes.length&&j(t.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var s=er(n);e="".concat(e," ").concat(s).trim(),n.childNodes&&n.childNodes.length&&(e="".concat(e," ").concat(qa(n)).trim())}catch(i){v.error(i)}}),e}var Rp=function(){function t(e){G(this,t),this.clicks=[],this.enabled=e}return q(t,[{key:"isRageClick",value:function(e,n,r){if(!this.enabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(n-s.y)<30&&r-s.timestamp<1e3){if(this.clicks.push({x:e,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:n,timestamp:r}];return!1}}]),t}(),Ya="$people_distinct_id",nr="__alias",an="__timers",Wa="$autocapture_disabled_server_side",Rs="$session_recording_enabled_server_side",za="$console_log_recording_enabled_server_side",Ja="$session_recording_recorder_version_server_side",Qa="$session_recording_network_payload_capture",rr="$sesid",sr="$session_is_sampled",Ut="$enabled_feature_flags",$s="$early_access_features",jt="$stored_person_properties",Ke="$stored_group_properties",Cs="$surveys",ir="$flag_call_reported",Ps="$user_state",Is="$posthog_quota_limited",Ns="$client_session_props",$p=[Ya,nr,"__cmpns",an,Rs,rr,Ut,Ps,Is,$s,Ke,jt,Cs,ir,Ns];function Ds(t,e){return e.length>t?e.slice(0,t)+"...":e}var Xe={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(t){var e,n=ve(this._isDisabledServerSide)?!((e=t.persistence)===null||e===void 0||!e.props[Wa]):this._isDisabledServerSide,r=!!t.config.autocapture;this._isAutocaptureEnabled=r&&!n},_previousElementSibling:function(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!ja(e));return e},_getAugmentPropertiesFromElement:function(t){if(!tr(t))return{};var e={};return j(t.attributes,function(n){if(n.name.indexOf("data-ph-capture-attribute")===0){var r=n.name.replace("data-ph-capture-attribute-",""),s=n.value;r&&s&&Lt(s)&&(e[r]=s)}}),e},_getPropertiesFromElement:function(t,e,n){var r,s=t.tagName.toLowerCase(),i={tag_name:s};Os.indexOf(s)>-1&&!n&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?i.$el_text=Ds(1024,Ga(t)):i.$el_text=Ds(1024,er(t)));var o=Zn(t);o.length>0&&(i.classes=o.split(" ").filter(function(c){return c!==""}));var a=(r=this.config)===null||r===void 0?void 0:r.element_attribute_ignorelist;j(t.attributes,function(c){var _;Va(t)&&["name","id","class"].indexOf(c.name)===-1||a!=null&&a.includes(c.name)||!e&&Lt(c.value)&&(_=c.name,!de(_)||_.substring(0,10)!=="_ngcontent"&&_.substring(0,7)!=="_nghost")&&(i["attr__"+c.name]=Ds(1024,c.value))});for(var u=1,f=1,l=t;l=this._previousElementSibling(l);)u++,l.tagName===t.tagName&&f++;return i.nth_child=u,i.nth_of_type=f,i},_getDefaultProperties:function(t){return{$event_type:t,$ce_version:1}},_extractCustomPropertyValue:function(t){var e=[];return j(w==null?void 0:w.querySelectorAll(t.css_selector),function(n){var r;["input","select"].indexOf(n.tagName.toLowerCase())>-1?r=n.value:n.textContent&&(r=n.textContent),Lt(r)&&e.push(r)}),e.join(", ")},_getCustomProperties:function(t){var e=this,n={};return j(this._customProperties,function(r){j(r.event_selectors,function(s){j(w==null?void 0:w.querySelectorAll(s),function(i){A(t,i)&&tr(i)&&(n[r.name]=e._extractCustomPropertyValue(r))})})}),n},_getEventTarget:function(t){return P(t.target)?t.srcElement||null:(e=t.target)!==null&&e!==void 0&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e},_captureEvent:function(t,e){var n,r=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"$autocapture",i=this._getEventTarget(t);if(Ba(i)&&(i=i.parentNode||null),s==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,e,"$rageclick"),i&&function(g,R){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!p||!g||mt(g,"html")||!ja(g))return!1;if(y!=null&&y.url_allowlist){var k=p.location.href,F=y.url_allowlist;if(F&&!F.some(function(Z){return k.match(Z)}))return!1}if(y!=null&&y.dom_event_allowlist){var N=y.dom_event_allowlist;if(N&&!N.some(function(Z){return R.type===Z}))return!1}if(y!=null&&y.element_allowlist){var S=y.element_allowlist;if(S&&!S.some(function(Z){return g.tagName.toLowerCase()===Z}))return!1}if(y!=null&&y.css_selector_allowlist){var D=y.css_selector_allowlist;if(D&&!D.some(function(Z){return g.matches(Z)}))return!1}for(var I=!1,T=[g],M=!0,L=g;L.parentNode&&!mt(L,"body");)if(Ha(L.parentNode))T.push(L.parentNode.host),L=L.parentNode.host;else{if(!(M=L.parentNode||!1))break;if(Os.indexOf(M.tagName.toLowerCase())>-1)I=!0;else{var Ie=p.getComputedStyle(M);Ie&&Ie.getPropertyValue("cursor")==="pointer"&&(I=!0)}T.push(M),L=M}var ce=p.getComputedStyle(g);if(ce&&ce.getPropertyValue("cursor")==="pointer"&&R.type==="click")return!0;var ye=g.tagName.toLowerCase();switch(ye){case"html":return!1;case"form":return R.type==="submit";case"input":case"select":case"textarea":return R.type==="change"||R.type==="click";default:return I?R.type==="click":R.type==="click"&&(Os.indexOf(ye)>-1||g.getAttribute("contenteditable")==="true")}}(i,t,this.config)){for(var o,a,u=[i],f=i;f.parentNode&&!mt(f,"body");)Ha(f.parentNode)?(u.push(f.parentNode.host),f=f.parentNode.host):(u.push(f.parentNode),f=f.parentNode);var l,c=[],_={},d=!1;if(j(u,function(g){var R=tr(g);g.tagName.toLowerCase()==="a"&&(l=g.getAttribute("href"),l=R&&Lt(l)&&l),A(Zn(g).split(" "),"ph-no-capture")&&(d=!0),c.push(r._getPropertiesFromElement(g,e.config.mask_all_element_attributes,e.config.mask_all_text));var y=r._getAugmentPropertiesFromElement(g);ne(_,y)}),e.config.mask_all_text||(i.tagName.toLowerCase()==="a"||i.tagName.toLowerCase()==="button"?c[0].$el_text=Ga(i):c[0].$el_text=er(i)),l&&(c[0].attr__href=l),d)return!1;var h=ne(this._getDefaultProperties(t.type),{$elements:c},(o=c[0])!==null&&o!==void 0&&o.$el_text?{$el_text:(a=c[0])===null||a===void 0?void 0:a.$el_text}:{},this._getCustomProperties(u),_);return e.capture(s,h),!0}},_navigate:function(t){p&&(p.location.href=t)},_addDomEventHandlers:function(t){var e=this;if(p&&w){var n=function(r){r=r||(p==null?void 0:p.event),e._captureEvent(r,t)};sn(w,"submit",n,!1,!0),sn(w,"change",n,!1,!0),sn(w,"click",n,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(t){var e;ws(t.__autocapture)||(this.config=t.__autocapture),(e=this.config)!==null&&e!==void 0&&e.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(n){return new RegExp(n)})),this.rageclicks=new Rp(t.config.rageclick)},afterDecideResponse:function(t,e){var n=e.config.token;this._initializedTokens.indexOf(n)>-1?v.info('autocapture already initialized for token "'+n+'"'):(e.persistence&&e.persistence.register(x({},Wa,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this._setIsAutocaptureEnabled(e),this._initializedTokens.push(n),t&&t.config&&t.config.enable_collect_everything&&this._isAutocaptureEnabled?(t.custom_properties&&(this._customProperties=t.custom_properties),this._addDomEventHandlers(e)):e.__autocapture=!1)},enabledForProject:function(t,e,n){if(!t)return!0;e=P(e)?10:e,n=P(n)?10:n;for(var r=0,s=0;s<t.length;s++)r+=t.charCodeAt(s);return r%e<n},isBrowserSupported:function(){return Be(w==null?void 0:w.querySelectorAll)}};(function(t){for(var e in t)Be(t[e])&&(t[e]=t[e].bind(t))})(Xe),function(t){for(var e in t)Be(t[e])&&(t[e]=Ua(t[e]))}(Xe);var As="$active_feature_flags",or="$override_feature_flags",Ka="$feature_flag_payloads",Xa=function(t){var e,n={},r=ht(function(a){for(var u=Object.keys(a),f=u.length,l=new Array(f);f--;)l[f]=[u[f],a[u[f]]];return l}(t||{}));try{for(r.s();!(e=r.n()).done;){var s=nn(e.value,2),i=s[0],o=s[1];o&&(n[i]=o)}}catch(a){r.e(a)}finally{r.f()}return n},Cp=function(){function t(e){G(this,t),this.instance=e,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return q(t,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(Ut),n=this.instance.get_property(or);if(!n)return e||{};for(var r=ne({},e),s=Object.keys(n),i=0;i<s.length;i++)n[s[i]]===!1?delete r[s[i]]:r[s[i]]=n[s[i]];return this._override_warning||(v.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Ka)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(jt),s=this.instance.get_property(Ke),i=Ts(JSON.stringify({token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:s,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:i},{method:"POST"},this.instance._prepare_callback(function(o){e.$anon_distinct_id=void 0,e.receivedFeatureFlags(o),e.setReloadingPaused(!1),e._startReloadTimer()}))}},{key:"getFeatureFlag",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,s=this.getFlagVariants()[e],i="".concat(s),o=this.instance.get_property(ir)||{};return(n.send_event||!("send_event"in n))&&(!(e in o)||!o[e].includes(i))&&(te(o[e])?o[e].push(i):o[e]=[i],(r=this.instance.persistence)===null||r===void 0||r.register(x({},ir,o)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:s})),s}v.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,n);v.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==e})}},{key:"receivedFeatureFlags",value:function(e){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads();(function(s,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,f=s.featureFlagPayloads;if(u)if(te(u)){var l,c={};if(u)for(var _=0;_<u.length;_++)c[u[_]]=!0;i&&i.register((x(l={},As,u),x(l,Ut,c),l))}else{var d,h=u,g=f;s.errorsWhileComputingFlags&&(h=O(O({},o),h),g=O(O({},a),g)),i&&i.register((x(d={},As,Object.keys(Xa(h))),x(d,Ut,h||{}),x(d,Ka,g||{}),d))}})(e,this.instance.persistence,n,r),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return v.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,e===!1)this.instance.persistence.unregister(or);else if(te(e)){for(var n={},r=0;r<e.length;r++)n[e[r]]=!0;this.instance.persistence.register(x({},or,n))}else this.instance.persistence.register(x({},or,e))}},{key:"onFeatureFlags",value:function(e){var n=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),s=r.flags,i=r.flagVariants;e(s,i)}return function(){return n.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,n){var r,s,i=x({},"$feature_enrollment/".concat(e),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);var o=O(O({},this.getFlagVariants()),{},x({},e,n));(r=this.instance.persistence)===null||r===void 0||r.register((x(s={},As,Object.keys(Xa(o))),x(s,Ut,o),s)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property($s);if(s&&!r)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(i){var o,a=i.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(x({},$s,a)),e(a)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,s){return r[s]=n[s],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var e=this._prepareFeatureFlagsForCallbacks(),n=e.flags,r=e.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(n,r)})}},{key:"setPersonPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(jt)||{};this.instance.register(x({},jt,O(O({},r),e))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(jt)}},{key:"setGroupPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Ke)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(s){r[s]=O(O({},r[s]),e[s]),delete e[s]}),this.instance.register(x({},Ke,O(O({},r),e))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var n=this.instance.get_property(Ke)||{};this.instance.register(x({},Ke,O(O({},n),{},x({},e,{}))))}else this.instance.unregister(Ke)}}]),t}();Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return He(t)&&isFinite(t)&&Math.floor(t)===t});var Za="0123456789abcdef",Pp=function(){function t(e){if(G(this,t),this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}return q(t,[{key:"toString",value:function(){for(var e="",n=0;n<this.bytes.length;n++)e=e+Za.charAt(this.bytes[n]>>>4)+Za.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new t(this.bytes.slice(0))}},{key:"equals",value:function(e){return this.compareTo(e)===0}},{key:"compareTo",value:function(e){for(var n=0;n<16;n++){var r=this.bytes[n]-e.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(e,n,r,s){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(s)||e<0||n<0||r<0||s<0||e>0xffffffffffff||n>4095||r>1073741823||s>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=e/Math.pow(2,40),i[1]=e/Math.pow(2,32),i[2]=e/Math.pow(2,24),i[3]=e/Math.pow(2,16),i[4]=e/Math.pow(2,8),i[5]=e,i[6]=112|n>>>8,i[7]=n,i[8]=128|r>>>24,i[9]=r>>>16,i[10]=r>>>8,i[11]=r,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new t(i)}}]),t}(),Ip=function(){function t(){G(this,t),x(this,"timestamp",0),x(this,"counter",0),x(this,"random",new Np)}return q(t,[{key:"generate",value:function(){var e=this.generateOrAbort();if(P(e)){this.timestamp=0;var n=this.generateOrAbort();if(P(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Pp.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),t}(),eu=function(t){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};p&&!P(p.crypto)&&crypto.getRandomValues&&(eu=function(t){return crypto.getRandomValues(t)});var tu,Np=function(){function t(){G(this,t),x(this,"buffer",new Uint32Array(8)),x(this,"cursor",1/0)}return q(t,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(eu(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),t}(),vt=function(){return Dp().toString()},Dp=function(){return(tu||(tu=new Ip)).generate()},Ap="Thu, 01 Jan 1970 00:00:00 GMT",Fp=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,Mp=function(t){var e=t.match(Fp);return e?e[0]:""};function Lp(t,e){if(e){var n=function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;if(!i||["localhost","127.0.0.1"].includes(s))return"";for(var o=s.split("."),a=o.length,u="dmn_chk_"+vt(),f=new RegExp("(^|;)\\s*"+u+"=1");a--;){var l=o.slice(a).join("."),c=u+"=1;domain=."+l;if(i.cookie=c,f.test(i.cookie))return i.cookie=c+";expires="+Ap,l}return""}(t);if(!n){var r=Mp(t);r!==n&&v.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Ve={is_supported:function(){return!!w},error:function(t){v.error("cookieStore error: "+t)},get:function(t){if(w){try{for(var e=t+"=",n=w.cookie.split(";").filter(function(i){return i.length}),r=0;r<n.length;r++){for(var s=n[r];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return decodeURIComponent(s.substring(e.length,s.length))}}catch{}return null}},parse:function(t){var e;try{e=JSON.parse(Ve.get(t))||{}}catch{}return e},set:function(t,e,n,r,s){if(w)try{var i="",o="",a=Lp(w.location.hostname,r);if(n){var u=new Date;u.setTime(u.getTime()+24*n*60*60*1e3),i="; expires="+u.toUTCString()}s&&(o="; secure");var f=t+"="+encodeURIComponent(JSON.stringify(e))+i+"; SameSite=Lax; path=/"+a+o;return w.cookie=f,f}catch{return}},remove:function(t,e){try{Ve.set(t,"",-1,e)}catch{return}}},Fs=null,W={is_supported:function(){if(!ve(Fs))return Fs;var t=!0;if(P(p))t=!1;else try{var e="__mplssupport__";W.set(e,"xyz"),W.get(e)!=='"xyz"'&&(t=!1),W.remove(e)}catch{t=!1}return t||v.error("localStorage unsupported; falling back to cookie store"),Fs=t,t},error:function(t){v.error("localStorage error: "+t)},get:function(t){try{return p==null?void 0:p.localStorage.getItem(t)}catch(e){W.error(e)}return null},parse:function(t){try{return JSON.parse(W.get(t))||{}}catch{}return null},set:function(t,e){try{p==null||p.localStorage.setItem(t,JSON.stringify(e))}catch(n){W.error(n)}},remove:function(t){try{p==null||p.localStorage.removeItem(t)}catch(e){W.error(e)}}},Up=["distinct_id",rr,sr],Ms=O(O({},W),{},{parse:function(t){try{var e={};try{e=Ve.parse(t)||{}}catch{}var n=ne(e,JSON.parse(W.get(t)||"{}"));return W.set(t,n),n}catch{}return null},set:function(t,e,n,r,s){try{W.set(t,e);var i={};Up.forEach(function(o){e[o]&&(i[o]=e[o])}),Object.keys(i).length&&Ve.set(t,i,n,r,s)}catch(o){W.error(o)}},remove:function(t,e){try{p==null||p.localStorage.removeItem(t),Ve.remove(t,e)}catch(n){W.error(n)}}}),ar={},jp={is_supported:function(){return!0},error:function(t){v.error("memoryStorage error: "+t)},get:function(t){return ar[t]||null},parse:function(t){return ar[t]||null},set:function(t,e){ar[t]=e},remove:function(t){delete ar[t]}},xt=null,re={is_supported:function(){if(!ve(xt))return xt;if(xt=!0,P(p))xt=!1;else try{var t="__support__";re.set(t,"xyz"),re.get(t)!=='"xyz"'&&(xt=!1),re.remove(t)}catch{xt=!1}return xt},error:function(t){v.error("sessionStorage error: ",t)},get:function(t){try{return p==null?void 0:p.sessionStorage.getItem(t)}catch(e){re.error(e)}return null},parse:function(t){try{return JSON.parse(re.get(t))||null}catch{}return null},set:function(t,e){try{p==null||p.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){re.error(n)}},remove:function(t){try{p==null||p.sessionStorage.removeItem(t)}catch(e){re.error(e)}}},Bp=["localhost","127.0.0.1"],Hp=function(t,e){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(e)&&new RegExp(e).test(t)},nu=function(t,e){for(var n,r=((t.split("#")[0]||"").split("?")[1]||"").split("&"),s=0;s<r.length;s++){var i=r[s].split("=");if(i[0]===e){n=i;break}}if(!te(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{v.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},ur=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},J={campaignParams:function(t){var e=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid","msclkid"].concat(t||[]),n={};return j(e,function(r){var s=w?nu(w.URL,r):"";s.length&&(n[r]=s)}),n},searchEngine:function(){var t=w==null?void 0:w.referrer;return t?t.search("https?://(.*)google.([^/?]*)")===0?"google":t.search("https?://(.*)bing.com")===0?"bing":t.search("https?://(.*)yahoo.com")===0?"yahoo":t.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var t=J.searchEngine(),e=t!="yahoo"?"q":"p",n={};if(!ve(t)){n.$search_engine=t;var r=w?nu(w.referrer,e):"";r.length&&(n.ph_keyword=r)}return n},browser:function(t,e,n){return e=e||"",n||A(t," OPR/")?A(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":A(t,"IEMobile")||A(t,"WPDesktop")?"Internet Explorer Mobile":A(t,"SamsungBrowser/")?"Samsung Internet":A(t,"Edge")||A(t,"Edg/")?"Microsoft Edge":A(t,"FBIOS")?"Facebook Mobile":A(t,"Chrome")?"Chrome":A(t,"CriOS")?"Chrome iOS":A(t,"UCWEB")||A(t,"UCBrowser")?"UC Browser":A(t,"FxiOS")?"Firefox iOS":A(e,"Apple")||function(r){return A(r,"Safari")&&!A(r,"Chrome")&&!A(r,"Android")}(t)?A(t,"Mobile")?"Mobile Safari":"Safari":A(t,"Android")?"Android Mobile":A(t,"Konqueror")||A(t,"konqueror")?"Konqueror":A(t,"Firefox")?"Firefox":A(t,"MSIE")||A(t,"Trident/")?"Internet Explorer":A(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,n){var r={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[J.browser(t,e,n)];if(P(r))return null;for(var s=0;s<r.length;s++){var i=r[s],o=t.match(i);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(t){if(/Windows/i.test(t)){if(/Phone/.test(t)||/WPDesktop/.test(t))return{os_name:"Windows Phone",os_version:""};var e=/Windows NT ([0-9.]+)/i.exec(t);return e&&e[1]?{os_name:"Windows",os_version:e[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(t)){var n=/OS (\d+)_(\d+)_?(\d+)?/i.exec(t);return n&&n[1]?{os_name:"iOS",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(t)){var r=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(t);return r&&r[1]?{os_name:"Android",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(t))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(t)){var s=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(t);return s&&s[1]?{os_name:"Mac OS X",os_version:[s[1],s[2],s[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(t)?{os_name:"Linux",os_version:""}:/CrOS/.test(t)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)&&!/Mobile/.test(t)?"Android Tablet":/Android/.test(t)?"Android":""},deviceType:function(t){var e=this.device(t);return e==="iPad"||e==="Android Tablet"?"Tablet":e?"Mobile":"Desktop"},referrer:function(){return(w==null?void 0:w.referrer)||"$direct"},referringDomain:function(){if(w==null||!w.referrer)return"$direct";var t=w.createElement("a");return t.href=w.referrer,t.host},properties:function(){if(!z)return{};var t=J.os(z),e=t.os_name,n=t.os_version;return ne(ks({$os:e,$os_version:n,$browser:J.browser(z,navigator.vendor,oe.opera),$device:J.device(z),$device_type:J.deviceType(z)}),{$current_url:p==null?void 0:p.location.href,$host:p==null?void 0:p.location.host,$pathname:p==null?void 0:p.location.pathname,$raw_user_agent:z.length>1e3?z.substring(0,997)+"...":z,$browser_version:J.browserVersion(z,navigator.vendor,oe.opera),$browser_language:J.browserLanguage(),$screen_height:p==null?void 0:p.screen.height,$screen_width:p==null?void 0:p.screen.width,$viewport_height:p==null?void 0:p.innerHeight,$viewport_width:p==null?void 0:p.innerWidth,$lib:"web",$lib_version:gt.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Ma()/1e3})},people_properties:function(){if(!z)return{};var t=J.os(z),e=t.os_name,n=t.os_version;return ne(ks({$os:e,$os_version:n,$browser:J.browser(z,navigator.vendor,oe.opera)}),{$browser_version:J.browserVersion(z,navigator.vendor,oe.opera)})}},Vp=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],ru=function(){function t(e){G(this,t);var n="";e.token&&(n=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=e.custom_campaign_params||[],e.persistence_name?this.name="ph_"+e.persistence_name:this.name="ph_"+n+"_posthog",Vp.indexOf(e.persistence.toLowerCase())===-1&&(v.critical("Unknown persistence type "+e.persistence+"; falling back to cookie"),e.persistence="cookie");var r=e.persistence.toLowerCase();r==="localstorage"&&W.is_supported()?this.storage=W:r==="localstorage+cookie"&&Ms.is_supported()?this.storage=Ms:r==="sessionstorage"&&re.is_supported()?this.storage=re:this.storage=r==="memory"?jp:Ve,this.user_state="anonymous",this.load(),this.update_config(e),this.save()}return q(t,[{key:"properties",value:function(){var e={};return j(this.props,function(n,r){if(r===Ut&&Qe(n))for(var s=Object.keys(n),i=0;i<s.length;i++)e["$feature/".concat(s[i])]=n[s[i]];else a=r,u=!1,(ve(o=$p)?u:Da&&o.indexOf===Da?o.indexOf(a)!=-1:(j(o,function(f){if(u||(u=f===a))return Ss}),u))||(e[r]=n);var o,a,u}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=ne({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,n,r){var s=this;if(Qe(e)){P(n)&&(n="None"),this.expire_days=P(r)?this.default_expiry:r;var i=!1;if(j(e,function(o,a){s.props.hasOwnProperty(a)&&s.props[a]!==n||(s.props[a]=o,i=!0)}),i)return this.save(),!0}return!1}},{key:"register",value:function(e,n){var r=this;if(Qe(e)){this.expire_days=P(n)?this.default_expiry:n;var s=!1;if(j(e,function(i,o){e.hasOwnProperty(o)&&r.props[o]!==i&&(r.props[o]=i,s=!0)}),s)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(J.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(J.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||J.referrer(),$referring_domain:this.props.$referring_domain||J.referringDomain()})}},{key:"get_referrer_info",value:function(){return ks({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(e){return j(this.props,function(n,r){r in e||(e[r]=n)}),e}},{key:"update_config",value:function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,n){var r=this.props[an]||{};r[e]=n,this.props[an]=r,this.save()}},{key:"remove_event_timer",value:function(e){var n=(this.props[an]||{})[e];return P(n)||(delete this.props[an][e],this.save()),n}},{key:"get_user_state",value:function(){return this.props[Ps]||"anonymous"}},{key:"set_user_state",value:function(e){this.props[Ps]=e,this.save()}},{key:"get_quota_limits",value:function(){return this.props[Is]||{}}},{key:"set_quota_limits",value:function(e){this.props[Is]=e,this.save()}}]),t}(),su=2,Gp=4,iu=3,qp=6,Yp=0,Wp="rrweb/console@1",Re,zp=q(function t(e){var n,r,s=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};G(this,t),x(this,"bucketSize",100),x(this,"refillRate",10),x(this,"mutationBuckets",{}),x(this,"loggedTracker",{}),x(this,"refillBuckets",function(){Object.keys(s.mutationBuckets).forEach(function(o){s.mutationBuckets[o]=s.mutationBuckets[o]+s.refillRate,s.mutationBuckets[o]>=s.bucketSize&&delete s.mutationBuckets[o]})}),x(this,"getNodeOrRelevantParent",function(o){var a=s.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var u=a.closest("svg");if(u)return[s.rrweb.mirror.getId(u),u]}return[o,a]}),x(this,"numberOfChanges",function(o){var a,u,f,l,c,_,d,h;return((a=(u=o.removes)===null||u===void 0?void 0:u.length)!==null&&a!==void 0?a:0)+((f=(l=o.attributes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)+((c=(_=o.texts)===null||_===void 0?void 0:_.length)!==null&&c!==void 0?c:0)+((d=(h=o.adds)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)}),x(this,"throttleMutations",function(o){if(o.type!==iu||o.data.source!==Yp)return o;var a=o.data,u=s.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(l){var c,_,d,h=nn(s.getNodeOrRelevantParent(l.id),2),g=h[0],R=h[1];return s.mutationBuckets[g]===0?!1:(s.mutationBuckets[g]=(c=s.mutationBuckets[g])!==null&&c!==void 0?c:s.bucketSize,s.mutationBuckets[g]=Math.max(s.mutationBuckets[g]-1,0),s.mutationBuckets[g]===0&&(s.loggedTracker[g]||(s.loggedTracker[g]=!0,(_=(d=s.options).onBlockedNode)===null||_===void 0||_.call(d,g,R))),l)}));var f=s.numberOfChanges(a);return f!==0||u===f?o:void 0}),this.rrweb=e,this.options=i,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){s.refillBuckets()},1e3)}),ou=function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t}(ou||{}),Jp={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(t){return t},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1},Qp=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],au=function(t){var e;return Object.keys((e=t.requestHeaders)!==null&&e!==void 0?e:{}).forEach(function(n){var r;Qp.includes(n.toLowerCase())&&((r=t.requestHeaders)===null||r===void 0||delete r[n])}),t},Kp="/s/";(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Re||(Re={}));var Xp=[Re.MouseMove,Re.MouseInteraction,Re.Scroll,Re.ViewportResize,Re.Input,Re.TouchMove,Re.MediaInteraction,Re.Drag],Zp=function(){function t(e){var n=this;if(G(this,t),x(this,"isIdle",!1),x(this,"_linkedFlagSeen",!1),x(this,"_lastActivityTimestamp",Date.now()),x(this,"windowId",null),x(this,"sessionId",null),x(this,"_linkedFlag",null),x(this,"_sampleRate",null),x(this,"_minimumDuration",null),this.instance=e,this._captureStarted=!1,this._endpoint=Kp,this.stopRrweb=void 0,this.receivedDecide=!1,p==null||p.addEventListener("beforeunload",function(){n._flushBuffer()}),!this.instance.sessionManager)throw v.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return q(t,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw v.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return He(this._sampleRate)?this.instance.get_property(sr):null}},{key:"sessionDuration",get:function(){var e,n,r=(e=this.buffer)===null||e===void 0?void 0:e.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],s=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-s:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Rs),n=!this.instance.config.disable_session_recording;return p&&e&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(za),n=this.instance.config.enable_recording_console_log;return n??e}},{key:"recordingVersion",get:function(){var e,n=this.instance.get_property(Ja);return((e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recorderVersion)||n||"v1"}},{key:"networkPayloadCapture",get:function(){var e,n,r=this.instance.get_property(Qa),s={recordHeaders:(e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},i=(s==null?void 0:s.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(s==null?void 0:s.recordBody)||(r==null?void 0:r.recordBody);return i||o?{recordHeaders:i,recordBody:o}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?de(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":ws(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(e){var n,r=this.sessionId!==e;if(He(this._sampleRate)){var s,i=this.isSampled;r||!ws(i)?s=Math.random()<this._sampleRate:s=i,s||v.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),(n=this.instance.persistence)===null||n===void 0||n.register(x({},sr,s))}else{var o;(o=this.instance.persistence)===null||o===void 0||o.register(x({},sr,null))}}},{key:"afterDecideResponse",value:function(e){var n,r,s,i,o,a,u,f,l=this;this.instance.persistence&&this.instance.persistence.register((x(f={},Rs,!!e.sessionRecording),x(f,za,(o=e.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),x(f,Ja,(a=e.sessionRecording)===null||a===void 0?void 0:a.recorderVersion),x(f,Qa,(u=e.sessionRecording)===null||u===void 0?void 0:u.networkPayloadCapture),f));var c=(n=e.sessionRecording)===null||n===void 0?void 0:n.sampleRate;this._sampleRate=P(c)||ve(c)?null:parseFloat(c);var _,d=(r=e.sessionRecording)===null||r===void 0?void 0:r.minimumDurationMilliseconds;if(this._minimumDuration=P(d)?null:d,this._linkedFlag=((s=e.sessionRecording)===null||s===void 0?void 0:s.linkedFlag)||null,(i=e.sessionRecording)!==null&&i!==void 0&&i.endpoint&&(this._endpoint=(_=e.sessionRecording)===null||_===void 0?void 0:_.endpoint),He(this._sampleRate)&&this.sessionManager.onSessionId(function(g){l.makeSamplingDecision(g)}),de(this._linkedFlag)){var h=this._linkedFlag;this.instance.onFeatureFlags(function(g){l._linkedFlagSeen=g.includes(h)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(e)]}},timestamp:Ma()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var e=this;if(!P(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var n=this.recordingVersion==="v2"?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?on(this.instance.config.api_host+"/static/".concat(n,"?v=").concat(gt.LIB_VERSION),function(r){if(r)return v.error("Could not load ".concat(n),r);e._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(e){var n;return e.type===iu&&Xp.indexOf((n=e.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(e){var n=this._isInteractiveEvent(e);if(n||this.isIdle||e.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0),n&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryTakeFullSnapshot())),!this.isIdle){var r=this.sessionManager.checkAndGetSessionAndWindowId(!n,e.timestamp),s=r.windowId,i=r.sessionId,o=this.sessionId!==i,a=this.windowId!==s;[su,Gp].indexOf(e.type)===-1&&(a||o)&&this._tryTakeFullSnapshot(),this.windowId=s,this.sessionId=i}}},{key:"_tryTakeFullSnapshot",value:function(){if(!this._captureStarted)return!1;try{var e;return(e=this.rrwebRecord)===null||e===void 0||e.takeFullSnapshot(),!0}catch(n){return v.error("Error taking full snapshot.",n),!1}}},{key:"_onScriptLoaded",value:function(){var e,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=p.rrweb?p.rrweb.record:p.rrwebRecord;for(var s=this.instance.config.session_recording,i=0,o=Object.entries(s||{});i<o.length;i++){var a=nn(o[i],2),u=a[0],f=a[1];u in r&&(r[u]=f)}if(this.rrwebRecord){this.mutationRateLimiter=(e=this.mutationRateLimiter)!==null&&e!==void 0?e:new zp(this.rrwebRecord,{onBlockedNode:function(R,y){var k="Too many mutations on node '".concat(R,"'. Rate limiting. This could be due to SVG animations or something similar");v.info(k,{node:y}),n.log("[PostHog Recorder] "+k,"warn")}});var l,c,_,d,h,g=[];oe.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&g.push(oe.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&Be(oe.getRecordNetworkPlugin)&&g.push(oe.getRecordNetworkPlugin((l=this.instance.config,c=this.networkPayloadCapture,_=l.session_recording,d=_.recordHeaders!==!1&&c.recordHeaders,h=_.recordBody!==!1&&c.recordBody,_.maskRequestFn=Be(l.session_recording.maskNetworkRequestFn)?function(R){var y,k,F,N=au(R);return(y=(k=(F=l.session_recording).maskNetworkRequestFn)===null||k===void 0?void 0:k.call(F,N))!==null&&y!==void 0?y:void 0}:void 0,_.maskRequestFn||(_.maskRequestFn=au),O(O(O({},Jp),_),{},{recordHeaders:d,recordBody:h})))),this.stopRrweb=this.rrwebRecord(O({emit:function(R){n.onRRwebEmit(R)},plugins:g},r)),this.instance._addCaptureHook(function(R){try{if(R==="$pageview"){var y,k=p?n._maskUrl(p.location.href):"";if(!k)return;(y=n.rrwebRecord)===null||y===void 0||y.addCustomEvent("$pageview",{href:k})}}catch(F){v.error("Could not add $pageview to rrweb session",F)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1}else v.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"onRRwebEmit",value:function(e){if(e&&Qe(e)){if(e.type===ou.Meta){var n=this._maskUrl(e.data.href);if(!n)return;e.data.href=n}var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(r){var s=function(a){var u=a;if(u&&Qe(u)&&u.type===qp&&Qe(u.data)&&u.data.plugin===Wp){u.data.payload.payload.length>10&&(u.data.payload.payload=u.data.payload.payload.slice(0,10),u.data.payload.payload.push("...[truncated]"));for(var f=[],l=0;l<u.data.payload.payload.length;l++)u.data.payload.payload[l]&&u.data.payload.payload[l].length>2e3?f.push(u.data.payload.payload[l].slice(0,2e3)+"...[truncated]"):f.push(u.data.payload.payload[l]);return u.data.payload.payload=f,a}return a}(r),i=JSON.stringify(s).length;if(this._updateWindowAndSessionIds(s),!this.isIdle){var o={$snapshot_bytes:i,$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(e){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,s={url:e};return(r=s=n.maskNetworkRequestFn(s))===null||r===void 0?void 0:r.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this._minimumDuration,r=this.sessionDuration,s=He(r)&&r>=0,i=He(n)&&s&&r<n;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var n,r=this,s=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+s>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),ve(this.buffer.sessionId)&&!ve(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:e.$snapshot_data.type===su}})}}]),t}(),$e={entryType:0,timeOrigin:1,name:2,startTime:3,redirectStart:4,redirectEnd:5,workerStart:6,fetchStart:7,domainLookupStart:8,domainLookupEnd:9,connectStart:10,secureConnectionStart:11,connectEnd:12,requestStart:13,responseStart:14,responseEnd:15,decodedBodySize:16,encodedBodySize:17,initiatorType:18,nextHopProtocol:19,renderBlockingStatus:20,responseStatus:21,transferSize:22,element:23,renderTime:24,loadTime:25,size:26,id:27,url:28,domComplete:29,domContentLoadedEvent:30,domInteractive:31,loadEventEnd:32,loadEventStart:33,redirectCount:34,navigationType:35,unloadEventEnd:36,unloadEventStart:37,duration:39,timestamp:40},eh=["first-input","navigation","paint","resource"],th=["/s/","/e/"],nh=function(){function t(e){G(this,t),x(this,"_forceAllowLocalhost",!1),this.instance=e}return q(t,[{key:"startObservingIfEnabled",value:function(){this.isEnabled()?this.startObserving():this.stopObserving()}},{key:"startObserving",value:function(){var e,n=this;if(!this.observer)if(P(p==null||(e=p.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes))v.info("[PerformanceObserver] not started because PerformanceObserver is not supported by this browser.");else if(!Bp.includes(location.hostname)||this._forceAllowLocalhost)try{this.observer=new PerformanceObserver(function(s){s.getEntries().forEach(function(i){n._capturePerformanceEvent(i)})});var r=PerformanceObserver.supportedEntryTypes.filter(function(s){return eh.includes(s)});r.forEach(function(s){var i;(i=n.observer)===null||i===void 0||i.observe({type:s,buffered:!0})})}catch(s){v.error("PostHog failed to start performance observer",s),this.stopObserving()}else v.info("[PerformanceObserver] not started because we are on localhost.")}},{key:"stopObserving",value:function(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}},{key:"isObserving",value:function(){return!!this.observer}},{key:"isEnabled",value:function(){var e,n;return(e=(n=this.instance.config.capture_performance)!==null&&n!==void 0?n:this.remoteEnabled)!==null&&e!==void 0&&e}},{key:"afterDecideResponse",value:function(e){this.remoteEnabled=e.capturePerformance||!1,this.isEnabled()&&this.startObserving()}},{key:"_capturePerformanceEvent",value:function(e){if(e.name.indexOf(this.instance.config.api_host)===0){var n=e.name.replace(this.instance.config.api_host,"");if(th.find(function(d){return n.indexOf(d)===0}))return}var r={url:e.name},s=this.instance.config.session_recording;if(s.maskNetworkRequestFn&&(r=s.maskNetworkRequestFn(r)),r){var i=e.toJSON();i.name=r.url;var o={},a=Math.floor(Date.now()-performance.now());for(var u in o[$e.timeOrigin]=a,o[$e.timestamp]=Math.floor(a+e.startTime),$e)P(i[u])||(o[$e[u]]=i[u]);if(this.capturePerformanceEvent(o),rh(e)){var f,l=ht(e.serverTiming||[]);try{for(l.s();!(f=l.n()).done;){var c,_=f.value;this.capturePerformanceEvent((x(c={},$e.timeOrigin,a),x(c,$e.timestamp,Math.floor(a+e.startTime)),x(c,$e.name,_.name),x(c,$e.duration,_.duration),x(c,$e.entryType,"serverTiming"),c))}}catch(d){l.e(d)}finally{l.f()}}}}},{key:"capturePerformanceEvent",value:function(e){var n,r=e[$e.timestamp];(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"posthog/network@1",payload:e},timestamp:r})}}]),t}(),rh=function(t){return t.entryType==="navigation"||t.entryType==="resource"},sh=function(){function t(e){G(this,t),this.instance=e,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return q(t,[{key:"call",value:function(){var e=this,n=Ts(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(jt),group_properties:this.instance.get_property(Ke),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:n,verbose:!0},{method:"POST"},function(r){return e.parseDecideResponse(r)})}},{key:"parseDecideResponse",value:function(e){var n,r,s=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),(e==null?void 0:e.status)!==0){if(!w||!w.body)return v.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){s.parseDecideResponse(e)},500);this.instance.toolbar.afterDecideResponse(e),(n=this.instance.sessionRecording)===null||n===void 0||n.afterDecideResponse(e),Xe.afterDecideResponse(e,this.instance),(r=this.instance.webPerformance)===null||r===void 0||r.afterDecideResponse(e),this.instance._afterDecideResponse(e),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.featureFlags.receivedFeatureFlags(e);var i=p==null?void 0:p.extendPostHogWithSurveys;e.surveys&&!i&&on(this.instance.config.api_host+"/static/surveys.js",function(c){if(c)return v.error("Could not load surveys script",c);p.extendPostHogWithSurveys(s.instance)});var o=p==null?void 0:p.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&P(o)&&on(this.instance.config.api_host+"/static/exception-autocapture.js",function(c){if(c)return v.error("Could not load exception autocapture script",c);p.extendPostHogWithExceptionAutocapture(s.instance,e)}),e.siteApps)if(this.instance.config.opt_in_site_apps){var a,u=this.instance.config.api_host,f=ht(e.siteApps);try{var l=function(){var c=a.value,_=c.id,d=c.url,h=[u,u[u.length-1]==="/"&&d[0]==="/"?d.substring(1):d].join("");oe["__$$ph_site_app_".concat(_)]=s.instance,on(h,function(g){g&&v.error("Error while initializing PostHog app with config id ".concat(_),g)})};for(f.s();!(a=f.n()).done;)l()}catch(c){f.e(c)}finally{f.f()}}else e.siteApps.length>0&&v.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}else v.error("Failed to fetch feature flags from PostHog.")}}]),t}(),ih=["https://app.posthog.com","https://eu.posthog.com"],oh=["source"],ah=p!=null&&p.location?ur(p.location.hash,"__posthog")||ur(location.hash,"state"):null,uh=function(){function t(e){G(this,t),this.instance=e}return q(t,[{key:"afterDecideResponse",value:function(e){var n=e.toolbarParams||e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&n.toolbarVersion&&n.toolbarVersion.indexOf("toolbar")===0&&this.loadToolbar(O({},n))}},{key:"maybeLoadToolbar",value:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!p||!w)return!1;r=(e=r)!==null&&e!==void 0?e:p.location,i=(n=i)!==null&&n!==void 0?n:p.history;try{if(!s){try{p.localStorage.setItem("test","test"),p.localStorage.removeItem("test")}catch{return!1}s=p==null?void 0:p.localStorage}var o,a=ah||ur(r.hash,"__posthog")||ur(r.hash,"state"),u=a?La(function(){return JSON.parse(atob(decodeURIComponent(a)))})||La(function(){return JSON.parse(decodeURIComponent(a))}):null;return u&&u.action==="ph_authorize"?((o=u).source="url",o&&Object.keys(o).length>0&&(u.desiredHash?r.hash=u.desiredHash:i?i.replaceState("",w.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(s.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"loadToolbar",value:function(e){var n=this;if(!p||oe._postHogToolbarLoaded)return!1;oe._postHogToolbarLoaded=!0;var r=this.instance.config.api_host,s=3e5,i=Math.floor(Date.now()/s)*s,o="".concat(r).concat(r.endsWith("/")?"":"/","static/toolbar.js?t=").concat(i),a=!ih.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,u=O(O({token:this.instance.config.token},e),{},{apiURL:r},a?{instrument:!1}:{});u.source;var f=xp(u,oh);return p.localStorage.setItem("_postHogToolbarParams",JSON.stringify(f)),on(o,function(l){l?v.error("Failed to load toolbar",l):(oe.ph_load_toolbar||oe.ph_load_editor)(u,n.instance)}),sn(p,"turbolinks:load",function(){oe._postHogToolbarLoaded=!1,n.loadToolbar(u)}),!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(e,n,r)}}]),t}(),ch="__ph_opt_in_out_";function fh(t,e){fu(!0,t,e)}function lh(t,e){fu(!1,t,e)}function _h(t,e){return cu(t,e)==="1"}function uu(t,e){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||p,s=r==null?void 0:r.navigator,i=!1;return j([s==null?void 0:s.doNotTrack,s.msDoNotTrack,r.doNotTrack],function(o){A([!0,1,"1","yes"],o)&&(i=!0)}),i}return!1}(e)||cu(t,e)==="0"}function dh(t,e){Ls(e=e||{}).remove(Us(t,e),!!e.crossSubdomainCookie)}function Ls(t){return(t=t||{}).persistenceType==="localStorage"?W:t.persistenceType==="localStorage+cookie"?Ms:Ve}function Us(t,e){return((e=e||{}).persistencePrefix||ch)+t}function cu(t,e){return Ls(e).get(Us(t,e))}function fu(t,e,n){de(e)&&e.length?(Ls(n=n||{}).set(Us(e,n),t?1:0,He(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&t&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):v.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token")}var lu=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3;G(this,t),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=e}return q(t,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return new Date().getTime()}}]),t}(),ph=function(t){Oa(n,lu);var e=Ra(n);function n(r){var s,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3e3;return G(this,n),(s=e.call(this,i)).handlePollRequest=r,s}return q(n,[{key:"enqueue",value:function(r,s,i){this._event_queue.push({url:r,data:s,options:i}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var r=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(r._event_queue.length>0){var s=r.formatQueue(),i=function(a){var u=s[a],f=u.url,l=u.data,c=u.options;j(l,function(_,d){l[d].offset=Math.abs(l[d].timestamp-r.getTime()),delete l[d].timestamp}),r.handlePollRequest(f,l,c)};for(var o in s)i(o);r._event_queue.length=0,r._empty_queue_count=0}else r._empty_queue_count++;r._empty_queue_count>4&&(r.isPolling=!1,r._empty_queue_count=0),r.isPolling&&r.poll()},this._pollInterval)}},{key:"unload",value:function(){var r=this;clearTimeout(this._poller);var s=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var i=Object.values(s);[].concat(xs(i.filter(function(o){return o.url.indexOf("/e")===0})),xs(i.filter(function(o){return o.url.indexOf("/e")!==0}))).map(function(o){var a=o.url,u=o.data,f=o.options;r.handlePollRequest(a,u,O(O({},f),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var r={};return j(this._event_queue,function(s){var i=s.url,o=s.data,a=s.options,u=(a?a._batchKey:null)||i;P(r[u])&&(r[u]={data:[],url:i,options:a}),a&&r[u].options&&r[u].options._metrics&&!r[u].options._metrics.rrweb_full_snapshot&&(r[u].options._metrics.rrweb_full_snapshot=a._metrics.rrweb_full_snapshot),r[u].data.push(o)}),r}}]),n}(),pe=Uint8Array,ue=Uint16Array,Bt=Uint32Array,js=new pe([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bs=new pe([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_u=new pe([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),du=function(t,e){for(var n=new ue(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var s=new Bt(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return[n,s]},pu=du(js,2),hh=pu[0],Hs=pu[1];hh[28]=258,Hs[258]=28;for(var hu=du(Bs,0)[1],Vs=new ue(32768),H=0;H<32768;++H){var yt=(43690&H)>>>1|(21845&H)<<1;yt=(61680&(yt=(52428&yt)>>>2|(13107&yt)<<2))>>>4|(3855&yt)<<4,Vs[H]=((65280&yt)>>>8|(255&yt)<<8)>>>1}var un=function(t,e,n){for(var r=t.length,s=0,i=new ue(e);s<r;++s)++i[t[s]-1];var o,a=new ue(e);for(s=0;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;if(n){o=new ue(1<<e);var u=15-e;for(s=0;s<r;++s)if(t[s])for(var f=s<<4|t[s],l=e-t[s],c=a[t[s]-1]++<<l,_=c|(1<<l)-1;c<=_;++c)o[Vs[c]>>>u]=f}else for(o=new ue(r),s=0;s<r;++s)o[s]=Vs[a[t[s]-1]++]>>>15-t[s];return o},bt=new pe(288);for(H=0;H<144;++H)bt[H]=8;for(H=144;H<256;++H)bt[H]=9;for(H=256;H<280;++H)bt[H]=7;for(H=280;H<288;++H)bt[H]=8;var cr=new pe(32);for(H=0;H<32;++H)cr[H]=5;var wt,gh=un(bt,9,0),mh=un(cr,5,0),gu=function(t){return(t/8>>0)+(7&t&&1)},mu=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof ue?ue:t instanceof Bt?Bt:pe)(n-e);return r.set(t.subarray(e,n)),r},Ge=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},cn=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},Gs=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return[new pe(0),0];if(s==1){var o=new pe(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(S,D){return S.f-D.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],f=0,l=1,c=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};l!=s-1;)a=n[n[f].f<n[c].f?f++:c++],u=n[f!=l&&n[f].f<n[c].f?f++:c++],n[l++]={s:-1,f:a.f+u.f,l:a,r:u};var _=i[0].s;for(r=1;r<s;++r)i[r].s>_&&(_=i[r].s);var d=new ue(_+1),h=vh(n[l-1],d,0);if(h>e){r=0;var g=0,R=h-e,y=1<<R;for(i.sort(function(S,D){return d[D.s]-d[S.s]||S.f-D.f});r<s;++r){var k=i[r].s;if(!(d[k]>e))break;g+=y-(1<<h-d[k]),d[k]=e}for(g>>>=R;g>0;){var F=i[r].s;d[F]<e?g-=1<<e-d[F]++-1:++r}for(;r>=0&&g;--r){var N=i[r].s;d[N]==e&&(--d[N],++g)}h=e}return[new pe(d),h]},vh=function t(e,n,r){return e.s==-1?Math.max(t(e.l,n,r+1),t(e.r,n,r+1)):n[e.s]=r},vu=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ue(++e),r=0,s=t[0],i=1,o=function(u){n[r++]=u},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return[n.subarray(0,r),e]},fn=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},fr=function(t,e,n){var r=n.length,s=gu(e+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var i=0;i<r;++i)t[s+i+4]=n[i];return 8*(s+4+r)},xu=function(t,e,n,r,s,i,o,a,u,f,l){Ge(e,l++,n),++s[256];for(var c=Gs(s,15),_=c[0],d=c[1],h=Gs(i,15),g=h[0],R=h[1],y=vu(_),k=y[0],F=y[1],N=vu(g),S=N[0],D=N[1],I=new ue(19),T=0;T<k.length;++T)I[31&k[T]]++;for(T=0;T<S.length;++T)I[31&S[T]]++;for(var M=Gs(I,7),L=M[0],Ie=M[1],ce=19;ce>4&&!L[_u[ce-1]];--ce);var ye,Z,Ne,Ht,tt=f+5<<3,Et=fn(s,bt)+fn(i,cr)+o,De=fn(s,_)+fn(i,g)+o+14+3*ce+fn(I,L)+(2*I[16]+3*I[17]+7*I[18]);if(tt<=Et&&tt<=De)return fr(e,l,t.subarray(u,u+f));if(Ge(e,l,1+(De<Et)),l+=2,De<Et){ye=un(_,d,0),Z=_,Ne=un(g,R,0),Ht=g;var nt=un(L,Ie,0);for(Ge(e,l,F-257),Ge(e,l+5,D-1),Ge(e,l+10,ce-4),l+=14,T=0;T<ce;++T)Ge(e,l+3*T,L[_u[T]]);l+=3*ce;for(var Vt=[k,S],fe=0;fe<2;++fe){var be=Vt[fe];for(T=0;T<be.length;++T){var ge=31&be[T];Ge(e,l,nt[ge]),l+=L[ge],ge>15&&(Ge(e,l,be[T]>>>5&127),l+=be[T]>>>12)}}}else ye=gh,Z=bt,Ne=mh,Ht=cr;for(T=0;T<a;++T)if(r[T]>255){ge=r[T]>>>18&31,cn(e,l,ye[ge+257]),l+=Z[ge+257],ge>7&&(Ge(e,l,r[T]>>>23&31),l+=js[ge]);var Gt=31&r[T];cn(e,l,Ne[Gt]),l+=Ht[Gt],Gt>3&&(cn(e,l,r[T]>>>5&8191),l+=Bs[Gt])}else cn(e,l,ye[r[T]]),l+=Z[r[T]];return cn(e,l,ye[256]),l+Z[256]},xh=new Bt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yh=new pe(0),bh=function(){for(var t=new Bt(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t}(),wh=function(){var t=4294967295;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=bh[255&n^e[r]]^n>>>8;t=n},d:function(){return 4294967295^t}}},Sh=function(t,e,n,r,s){return function(i,o,a,u,f,l){var c=i.length,_=new pe(u+c+5*(1+Math.floor(c/7e3))+f),d=_.subarray(u,_.length-f),h=0;if(!o||c<8)for(var g=0;g<=c;g+=65535){var R=g+65535;R<c?h=fr(d,h,i.subarray(g,R)):(d[g]=l,h=fr(d,h,i.subarray(g,c)))}else{for(var y=xh[o-1],k=y>>>13,F=8191&y,N=(1<<a)-1,S=new ue(32768),D=new ue(N+1),I=Math.ceil(a/3),T=2*I,M=function(gi){return(i[gi]^i[gi+1]<<I^i[gi+2]<<T)&N},L=new Bt(25e3),Ie=new ue(288),ce=new ue(32),ye=0,Z=0,Ne=(g=0,0),Ht=0,tt=0;g<c;++g){var Et=M(g),De=32767&g,nt=D[Et];if(S[De]=nt,D[Et]=De,Ht<=g){var Vt=c-g;if((ye>7e3||Ne>24576)&&Vt>423){h=xu(i,d,0,L,Ie,ce,Z,Ne,tt,g-tt,h),Ne=ye=Z=0,tt=g;for(var fe=0;fe<286;++fe)Ie[fe]=0;for(fe=0;fe<30;++fe)ce[fe]=0}var be=2,ge=0,Gt=F,rt=De-nt&32767;if(Vt>2&&Et==M(g-rt))for(var Bv=Math.min(k,Vt)-1,Hv=Math.min(32767,g),Vv=Math.min(258,Vt);rt<=Hv&&--Gt&&De!=nt;){if(i[g+be]==i[g+be-rt]){for(var st=0;st<Vv&&i[g+st]==i[g+st-rt];++st);if(st>be){if(be=st,ge=rt,st>Bv)break;var Gv=Math.min(rt,st-2),Mc=0;for(fe=0;fe<Gv;++fe){var hi=g-rt+fe+32768&32767,Lc=hi-S[hi]+32768&32767;Lc>Mc&&(Mc=Lc,nt=hi)}}}rt+=(De=nt)-(nt=S[De])+32768&32767}if(ge){L[Ne++]=268435456|Hs[be]<<18|hu[ge];var Uc=31&Hs[be],jc=31&hu[ge];Z+=js[Uc]+Bs[jc],++Ie[257+Uc],++ce[jc],Ht=g+be,++ye}else L[Ne++]=i[g],++Ie[i[g]]}}h=xu(i,d,l,L,Ie,ce,Z,Ne,tt,g-tt,h),l||(h=fr(d,h,yh))}return mu(_,0,u+gu(h)+f)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!s)},qs=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Eh=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&qs(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},kh=function(t){return 10+(t.filename&&t.filename.length+1||0)};function Th(t,e){e===void 0&&(e={});var n=wh(),r=t.length;n.p(t);var s=Sh(t,e,kh(e),8),i=s.length;return Eh(s,e),qs(s,i-8,n.d()),qs(s,i-4,r),s}function Oh(t,e){var n=t.length;if(!e&&typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var r=new pe(t.length+(t.length>>>1)),s=0,i=function(f){r[s++]=f},o=0;o<n;++o){if(s+5>r.length){var a=new pe(s+8+(n-o<<1));a.set(r),r=a}var u=t.charCodeAt(o);u<128||e?i(u):u<2048?(i(192|u>>>6),i(128|63&u)):u>55295&&u<57344?(i(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++o))>>>18),i(128|u>>>12&63),i(128|u>>>6&63),i(128|63&u)):(i(224|u>>>12),i(128|u>>>6&63),i(128|63&u))}return mu(r,0,s)}(function(t){t.GZipJS="gzip-js",t.Base64="base64"})(wt||(wt={}));var yu=function(t,e,n){var r=e||{};r.ip=n.ip?1:0,r._=new Date().getTime().toString(),r.ver=gt.LIB_VERSION;var s=t.split("?");if(s.length>1){var i,o=ht(s[1].split("&"));try{for(o.s();!(i=o.n()).done;){var a=i.value.split("=")[0];P(r[a])||delete r[a]}}catch(f){o.e(f)}finally{o.f()}}var u=t.indexOf("?")>-1?"&":"?";return t+u+function(f){var l,c,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",d=[];return j(f,function(h,g){P(h)||P(g)||g==="undefined"||(l=encodeURIComponent(h.toString()),c=encodeURIComponent(g),d[d.length]=c+"="+l)}),d.join(_)}(r)},Ys=function t(e,n){if(n.blob&&e.buffer)return new Blob([Pa(e)?e:e.buffer],{type:"text/plain"});if(n.sendBeacon||n.blob){var r=t(e,{method:"POST"});return new Blob([r],{type:"application/x-www-form-urlencoded"})}return n.method!=="POST"?null:(s=te(e)||Pa(e)?"data="+encodeURIComponent(e):"data="+encodeURIComponent(e.data),"compression"in e&&e.compression&&(s+="&compression="+e.compression),s);var s},bu=function(t){var e=t.url,n=t.data,r=t.headers,s=t.options,i=t.callback,o=t.retriesPerformedSoFar,a=t.retryQueue,u=t.onXHRError,f=t.timeout,l=f===void 0?6e4:f,c=t.onResponse;He(o)&&o>0&&(e=yu(e,{retry_count:o},{}));var _=new XMLHttpRequest;_.open(s.method||"GET",e,!0);var d=Ys(n,s);j(r,function(h,g){_.setRequestHeader(g,h)}),s.method!=="POST"||s.blob||_.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),_.timeout=l,_.withCredentials=!0,_.onreadystatechange=function(){if(_.readyState===4)if(c==null||c(_),_.status===200){if(i){var h;try{h=JSON.parse(_.responseText)}catch(g){return void v.error(g)}i(h)}}else Be(u)&&u(_),(_.status<400||_.status>500)&&a.enqueue({url:e,data:n,options:s,headers:r,retriesPerformedSoFar:(o||0)+1,callback:i}),i==null||i({status:0})},_.send(d)},Rh=18e5,$h=function(t){Oa(n,lu);var e=Ra(n);function n(r,s){var i;return G(this,n),(i=e.call(this)).isPolling=!1,i.queue=[],i.areWeOnline=!0,i.onXHRError=r,i.rateLimiter=s,!P(p)&&"onLine"in p.navigator&&(i.areWeOnline=p.navigator.onLine,p.addEventListener("online",function(){i._handleWeAreNowOnline()}),p.addEventListener("offline",function(){i.areWeOnline=!1})),i}return q(n,[{key:"enqueue",value:function(r){var s=r.retriesPerformedSoFar||0;if(!(s>=10)){var i=function(u){var f=3e3*Math.pow(2,u),l=f/2,c=Math.min(Rh,f),_=(Math.random()-.5)*(c-l);return Math.ceil(c+_)}(s),o=new Date(Date.now()+i);this.queue.push({retryAt:o,requestData:r});var a="Enqueued failed request for retry in ".concat(i);navigator.onLine||(a+=" (Browser is offline)"),v.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var r=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){r.areWeOnline&&r.queue.length>0&&r.flush(),r.poll()},this._pollInterval)}},{key:"flush",value:function(){var r=new Date(Date.now()),s=this.queue.filter(function(u){return u.retryAt<r});if(s.length>0){this.queue=this.queue.filter(function(u){return u.retryAt>=r});var i,o=ht(s);try{for(o.s();!(i=o.n()).done;){var a=i.value.requestData;this._executeXhrRequest(a)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var r,s=ht(this.queue);try{for(s.s();!(r=s.n()).done;){var i=r.value.requestData,o=i.url,a=i.data,u=i.options;if(this.rateLimiter.isRateLimited(u._batchKey))v.warn("[RetryQueue] is quota limited. Dropping request.");else try{p==null||p.navigator.sendBeacon(o,Ys(a,O(O({},u),{},{sendBeacon:!0})))}catch(f){v.error(f)}}}catch(f){s.e(f)}finally{s.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(r){var s=r.url,i=r.data,o=r.options,a=r.headers,u=r.callback,f=r.retriesPerformedSoFar;this.rateLimiter.isRateLimited(o._batchKey)||bu({url:s,data:i||{},options:o||{},headers:a||{},retriesPerformedSoFar:f||0,callback:u,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),n}(),lr=1800,wu=60,Ch=864e5,Ph=function(){function t(e,n,r,s){G(this,t),x(this,"_sessionIdChangedHandlers",[]),this.config=e,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||vt,this._windowIdGenerator=s||vt;var i=e.persistence_name||e.token,o=e.session_idle_timeout_seconds||lr;if(He(o)?o>lr?v.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<wu&&v.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(v.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=lr),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,wu),lr),this._window_id_storage_key="ph_"+i+"_window_id",this._primary_window_exists_storage_key="ph_"+i+"_primary_window_exists",this._canUseSessionStorage()){var a=re.parse(this._window_id_storage_key),u=re.parse(this._primary_window_exists_storage_key);a&&!u?this._windowId=a:re.remove(this._window_id_storage_key),re.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return q(t,[{key:"onSessionId",value:function(e){var n=this;return P(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==e})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&re.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&re.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?re.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,n,r){e===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=e,this.persistence.register(x({},rr,[n,e,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[rr];return te(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;p==null||p.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&re.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=nn(this._getSessionId(),3),s=r[0],i=r[1],o=r[2],a=this._getWindowId(),u=o&&o>0&&Math.abs(n-o)>Ch,f=!1,l=!i,c=!e&&Math.abs(n-s)>this._sessionTimeoutMs;l||c||u?(i=this._sessionIdGenerator(),a=this._windowIdGenerator(),o=n,f=!0):a||(a=this._windowIdGenerator(),f=!0);var _=s===0||!e||u?n:s,d=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(i,_,d),f&&this._sessionIdChangedHandlers.forEach(function(h){return h(i,a)}),{sessionId:i,windowId:a,sessionStartTimestamp:d}}}]),t}(),Ih=q(function t(e,n,r,s){G(this,t),this.name="posthog-js",this.setupOnce=function(i){i(function(o){var a,u,f,l,c;if(o.level!=="error"||!e.__loaded)return o;o.tags||(o.tags={});var _=e.config.ui_host||e.config.api_host;o.tags["PostHog Person URL"]=_+"/person/"+e.get_distinct_id(),e.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var d=((a=o.exception)===null||a===void 0?void 0:a.values)||[],h={$exception_message:(u=d[0])===null||u===void 0?void 0:u.value,$exception_type:(f=d[0])===null||f===void 0?void 0:f.type,$exception_personURL:_+"/person/"+e.get_distinct_id(),$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:(l=d[0])===null||l===void 0?void 0:l.value,$sentry_exception_type:(c=d[0])===null||c===void 0?void 0:c.type,$sentry_tags:o.tags};return n&&r&&(h.$sentry_url=(s||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+o.event_id),e.capture("$exception",h),o})}}),Nh=function(t){Promise&&Promise.resolve||v.warn("This browser does not have Promise support, and can not use the segment integration");var e=function(n,r){n.event.userId||n.event.anonymousId===t.get_distinct_id()||t.reset(),n.event.userId&&n.event.userId!==t.get_distinct_id()&&(t.register({distinct_id:n.event.userId}),t.reloadFeatureFlags());var s=t._calculate_event_properties(r,n.event.properties);return n.event.properties=Object.assign({},s,n.event.properties),n};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(n){return e(n,n.event.event)},page:function(n){return e(n,"$pageview")},identify:function(n){return e(n,"$identify")},screen:function(n){return e(n,"$screen")}}},Dh=function(){function t(){var e=this;G(this,t),x(this,"_hasSeenPageView",!1),x(this,"_updateScrollData",function(){var n,r,s,i;e._pageViewData||(e._pageViewData=e._createPageViewData());var o=e._pageViewData,a=e._scrollY(),u=e._scrollHeight(),f=e._contentY(),l=e._contentHeight();o.lastScrollY=a,o.maxScrollY=Math.max(a,(n=o.maxScrollY)!==null&&n!==void 0?n:0),o.maxScrollHeight=Math.max(u,(r=o.maxScrollHeight)!==null&&r!==void 0?r:0),o.lastContentY=f,o.maxContentY=Math.max(f,(s=o.maxContentY)!==null&&s!==void 0?s:0),o.maxContentHeight=Math.max(l,(i=o.maxContentHeight)!==null&&i!==void 0?i:0)})}return q(t,[{key:"_createPageViewData",value:function(){var e;return{pathname:(e=p==null?void 0:p.location.pathname)!==null&&e!==void 0?e:""}}},{key:"doPageView",value:function(){var e,n;return this._hasSeenPageView?(n=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,n=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),O({$prev_pageview_pathname:(e=n)===null||e===void 0?void 0:e.pathname},this._calculatePrevPageScrollProperties(n))}},{key:"doPageLeave",value:function(){var e=this._pageViewData;return O({$prev_pageview_pathname:e==null?void 0:e.pathname},this._calculatePrevPageScrollProperties(e))}},{key:"_calculatePrevPageScrollProperties",value:function(e){if(!e||e.maxScrollHeight==null||e.lastScrollY==null||e.maxScrollY==null||e.maxContentHeight==null||e.lastContentY==null||e.maxContentY==null)return{};var n=e.maxScrollHeight,r=e.lastScrollY,s=e.maxScrollY,i=e.maxContentHeight,o=e.lastContentY,a=e.maxContentY;return n=Math.ceil(n),r=Math.ceil(r),s=Math.ceil(s),i=Math.ceil(i),o=Math.ceil(o),a=Math.ceil(a),{$prev_pageview_last_scroll:r,$prev_pageview_last_scroll_percentage:n<=1?1:_r(r/n,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:n<=1?1:_r(s/n,0,1),$prev_pageview_last_content:o,$prev_pageview_last_content_percentage:i<=1?1:_r(o/i,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:i<=1?1:_r(a/i,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){p==null||p.addEventListener("scroll",this._updateScrollData),p==null||p.addEventListener("scrollend",this._updateScrollData),p==null||p.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){p==null||p.removeEventListener("scroll",this._updateScrollData),p==null||p.removeEventListener("scrollend",this._updateScrollData),p==null||p.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return p?Math.max(0,p.document.documentElement.scrollHeight-p.document.documentElement.clientHeight):0}},{key:"_scrollY",value:function(){return p&&(p.scrollY||p.pageYOffset||p.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){return(p==null?void 0:p.document.documentElement.scrollHeight)||0}},{key:"_contentY",value:function(){var e=(p==null?void 0:p.document.documentElement.clientHeight)||0;return this._scrollY()+e}}]),t}();function _r(t,e,n){return Math.max(e,Math.min(t,n))}var ln,Ws,se,Ah={icontains:function(t){return!!p&&p.location.href.toLowerCase().indexOf(t.toLowerCase())>-1},regex:function(t){return!!p&&Hp(p.location.href,t)},exact:function(t){return(p==null?void 0:p.location.href)===t}},Fh=function(){function t(e){G(this,t),this.instance=e}return q(t,[{key:"getSurveys",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(Cs);if(s&&!r)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(i){var o,a=i.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(x({},Cs,a)),e(a)})}},{key:"getActiveMatchingSurveys",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(s){var i=s.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,u,f,l;if(!o.conditions)return!0;var c=(a=o.conditions)===null||a===void 0||!a.url||Ah[(u=(f=o.conditions)===null||f===void 0?void 0:f.urlMatchType)!==null&&u!==void 0?u:"icontains"](o.conditions.url),_=(l=o.conditions)===null||l===void 0||!l.selector||(w==null?void 0:w.querySelector(o.conditions.selector));return c&&_}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),u=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&u});return e(i)},r)}}]),t}(),Mh=6e4,Lh=function(){function t(){var e=this;G(this,t),x(this,"limits",{}),x(this,"checkForLimiting",function(n){try{var r=n.responseText;if(!r||!r.length)return;(JSON.parse(r).quota_limited||[]).forEach(function(s){v.info("[RateLimiter] ".concat(s||"events"," is quota limited.")),e.limits[s]=new Date().getTime()+Mh})}catch(s){return void v.error(s)}})}return q(t,[{key:"isRateLimited",value:function(e){var n=this.limits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),t}(),Uh=function(){return O({initialPathName:(p==null?void 0:p.location.pathname)||"",referringDomain:J.referringDomain()},J.campaignParams())},jh=function(){function t(e,n,r){var s=this;G(this,t),x(this,"_onSessionIdCallback",function(i){var o=s._getStoredProps();if(!o||o.sessionId!==i){var a={sessionId:i,props:s._sessionSourceParamGenerator()};s._persistence.register(x({},Ns,a))}}),this._sessionIdManager=e,this._persistence=n,this._sessionSourceParamGenerator=r||Uh,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return q(t,[{key:"_getStoredProps",value:function(){return this._persistence.props[Ns]}},{key:"getSessionProps",value:function(){var e,n=(e=this._getStoredProps())===null||e===void 0?void 0:e.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),t}();(function(t){t[t.INIT_MODULE=0]="INIT_MODULE",t[t.INIT_SNIPPET=1]="INIT_SNIPPET"})(ln||(ln={}));var zs=function(){},dr={},le="posthog",pr=(p==null?void 0:p.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,Su=!pr&&(z==null?void 0:z.indexOf("MSIE"))===-1&&(z==null?void 0:z.indexOf("Mozilla"))===-1,Eu=function(){var t,e,n;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(e=w==null?void 0:w.location,n=e==null?void 0:e.hostname,!!de(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"cookie",persistence_name:"",cookie_name:"",loaded:zs,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:(p==null||(t=p.location)===null||t===void 0?void 0:t.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(r){var s="Bad HTTP status: "+r.status+" "+r.statusText;v.error(s)},get_device_id:function(r){return r},_onCapture:zs,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},Js=function(t,e,n,r){var s,i=n!==le&&se?n?se[n]:void 0:se,o={initComplete:!1,syncCode:!1},a=function(u){return function(f){o[u]||(o[u]=!0,o.initComplete&&o.syncCode&&(r==null||r(f)))}};if(i&&Ws===ln.INIT_MODULE)s=i;else{if(i&&!te(i))return void v.error("You have already initialized "+n);s=new Qs}return s._init(t,e,n,a("initComplete")),s.toolbar.maybeLoadToolbar(),s.sessionRecording=new Zp(s),s.sessionRecording.startRecordingIfEnabled(),s.webPerformance=new nh(s),s.webPerformance.startObservingIfEnabled(),s.config.__preview_measure_pageview_stats&&s.pageViewManager.startMeasuringScrollPosition(),s.__autocapture=s.config.autocapture,Xe._setIsAutocaptureEnabled(s),Xe._isAutocaptureEnabled&&(s.__autocapture=s.config.autocapture,Xe.enabledForProject(s.config.token,100,100)?Xe.isBrowserSupported()?Xe.init(s):(s.__autocapture=!1,v.info("Disabling Automatic Event Collection because this browser is not supported")):(s.__autocapture=!1,v.info("Not in active bucket: disabling Automatic Event Collection."))),gt.DEBUG=gt.DEBUG||s.config.debug,!P(i)&&te(i)&&(s._execute_array.call(s.people,i.people),s._execute_array(i)),a("syncCode")(s),s},Qs=function(){function t(){var e=this;G(this,t),this.config=Eu(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=Ih,this.segmentIntegration=function(){return Nh(e)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.featureFlags=new Cp(this),this.toolbar=new uh(this),this.pageViewManager=new Dh,this.surveys=new Fh(this),this.rateLimiter=new Lh,this.people={set:function(n,r,s){var i=de(n)?x({},n,r):n;e.setPersonProperties(i),s==null||s({})},set_once:function(n,r,s){var i=de(n)?x({},n,r):n;e.setPersonProperties(void 0,i),s==null||s({})}}}return q(t,[{key:"init",value:function(e,n,r){if(P(r))v.critical("You must name your new library: init(token, config, name)");else{if(r!==le){var s=Js(e,n,r,function(i){se[r]=i,i._loaded()});return se[r]=s,s}v.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(e){var n,r,s,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var f,l={segmentRegister:!1,syncCode:!1},c=function(S){return function(){l[S]||(l[S]=!0,l.segmentRegister&&l.syncCode&&(u==null||u(i)))}};if(this.set_config(ne({},Eu(),o,{name:a,token:e,callback_fn:(a===le?a:le+"."+a)+"._jsc"})),this._jsc=function(){},(p!=null&&(n=p.rrweb)!==null&&n!==void 0&&n.record||p!=null&&p.rrwebRecord)&&(this.__loaded_recorder_version=p==null||(f=p.rrweb)===null||f===void 0?void 0:f.version),this.persistence=new ru(this.config),this._requestQueue=new ph(this._handle_queued_event.bind(this)),this._retryQueue=new $h(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new Ph(this.config,this.persistence),this.sessionPropsManager=new jh(this.sessionManager,this.persistence),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new ru(O(O({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),o.segment?(this.config.get_device_id=function(){return o.segment.user().anonymousId()},o.segment.user().id()&&(this.register({distinct_id:o.segment.user().id()}),this.persistence.set_user_state("identified")),o.segment.register(this.segmentIntegration()).then(c("segmentRegister"))):c("segmentRegister")(),((r=o.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var _,d,h=this.config.get_device_id(vt()),g=(_=o.bootstrap)!==null&&_!==void 0&&_.isIdentifiedID?h:o.bootstrap.distinctID;this.persistence.set_user_state((d=o.bootstrap)!==null&&d!==void 0&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:o.bootstrap.distinctID,$device_id:g})}if(this._hasBootstrappedFeatureFlags()){var R,y,k=Object.keys(((R=o.bootstrap)===null||R===void 0?void 0:R.featureFlags)||{}).filter(function(S){var D,I;return!((D=o.bootstrap)===null||D===void 0||(I=D.featureFlags)===null||I===void 0||!I[S])}).reduce(function(S,D){var I,T;return S[D]=((I=o.bootstrap)===null||I===void 0||(T=I.featureFlags)===null||T===void 0?void 0:T[D])||!1,S},{}),F=Object.keys(((y=o.bootstrap)===null||y===void 0?void 0:y.featureFlagPayloads)||{}).filter(function(S){return k[S]}).reduce(function(S,D){var I,T,M,L;return(I=o.bootstrap)!==null&&I!==void 0&&(T=I.featureFlagPayloads)!==null&&T!==void 0&&T[D]&&(S[D]=(M=o.bootstrap)===null||M===void 0||(L=M.featureFlagPayloads)===null||L===void 0?void 0:L[D]),S},{});this.featureFlags.receivedFeatureFlags({featureFlags:k,featureFlagPayloads:F})}if(!this.get_distinct_id()){var N=this.config.get_device_id(vt());this.register_once({distinct_id:N,$device_id:N},""),this.persistence.set_user_state("anonymous")}p==null||(s=p.addEventListener)===null||s===void 0||s.call(p,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),c("syncCode")()}},{key:"_afterDecideResponse",value:function(e){var n;if(this.compression={},e.supportedCompression&&!this.config.disable_compression){var r,s={},i=ht(e.supportedCompression);try{for(i.s();!(r=i.n()).done;)s[r.value]=!0}catch(o){i.e(o)}finally{i.f()}this.compression=s}(n=e.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint)}},{key:"_loaded",value:function(){var e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){v.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&w&&this.capture("$pageview",{title:w.title},{send_instantly:!0}),e||(new sh(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this._requestQueue)===null||e===void 0||e.poll())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||Mt(this.__request_queue,function(n){e._send_request.apply(e,xs(n))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(e,n){if(P(e))return null;if(pr)return function(o){e(o,n)};var r=this._jsc,s=""+Math.floor(1e8*Math.random()),i=this.config.callback_fn+"["+s+"]";return r[s]=function(o){delete r[s],e(o,n)},i}},{key:"_handle_unload",value:function(){var e,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(e=this._requestQueue)===null||e===void 0||e.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(e,n,r){var s=JSON.stringify(n);this.__compress_and_send_json_request(e,s,r||dr,zs)}},{key:"__compress_and_send_json_request",value:function(e,n,r,s){var i=function(f,l,c){return f===wt.GZipJS?[Th(Oh(l),{mtime:0}),O(O({},c),{},{blob:!0,urlQueryArgs:{compression:wt.GZipJS}})]:[{data:Ts(l)},c]}(this.compression[wt.GZipJS]?wt.GZipJS:wt.Base64,n,r),o=nn(i,2),a=o[0],u=o[1];this._send_request(e,a,u,s)}},{key:"_send_request",value:function(e,n,r,s){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(r._batchKey))if(Su)this.__request_queue.push([e,n,r,s]);else{var i={method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose};r=ne(i,r||{}),pr||(r.method="GET");var o=p&&"sendBeacon"in p.navigator&&r.transport==="sendBeacon";if(e=yu(e,r.urlQueryArgs||{},{ip:this.config.ip}),o)try{p==null||p.navigator.sendBeacon(e,Ys(n,O(O({},r),{},{sendBeacon:!0})))}catch{}else if(pr||!w)try{bu({url:e,data:n,headers:this.config.xhr_headers,options:r,callback:s,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(l){v.error(l)}else{var a,u=w.createElement("script");u.type="text/javascript",u.async=!0,u.defer=!0,u.src=e;var f=w.getElementsByTagName("script")[0];(a=f.parentNode)===null||a===void 0||a.insertBefore(u,f)}}}},{key:"_execute_array",value:function(e){var n,r=this,s=[],i=[],o=[];Mt(e,function(u){u&&(n=u[0],te(n)?o.push(u):Be(u)?u.call(r):te(u)&&n==="alias"?s.push(u):te(u)&&n.indexOf("capture")!==-1&&Be(r[n])?o.push(u):i.push(u))});var a=function(u,f){Mt(u,function(l){if(te(l[0])){var c=f;j(l,function(_){c=c[_[0]].apply(c,_.slice(1))})}else this[l[0]].apply(this,l.slice(1))},f)};a(s,this),a(i,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,n;return((e=this.config.bootstrap)===null||e===void 0?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dr;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return v.uninitializedWarning("posthog.capture");if(!function(l){var c=!1;try{var _=l.config.token,d=l.config.respect_dnt,h=l.config.opt_out_capturing_persistence_type,g=l.config.opt_out_capturing_cookie_prefix||void 0,R=l.config.window;_&&(c=uu(_,{respectDnt:d,persistenceType:h,persistencePrefix:g,window:R}))}catch(y){v.error("Unexpected error when checking capturing opt-out status: "+y)}return c}(this)){var s=(r=r||dr).transport;if(s&&(r.transport=s),!P(e)&&de(e)){if(!z||!Op(z,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var i={uuid:vt(),event:e,properties:this._calculate_event_properties(e,n||{})};e==="$identify"&&(i.$set=r.$set,i.$set_once=r.$set_once),(i=Ep(i,r._noTruncate?null:this.config.properties_string_max_length)).timestamp=r.timestamp||new Date;var o=O(O({},i.properties.$set),i.$set);wp(o)||this.setPersonPropertiesForFlags(o),v.info("send",i);var a=JSON.stringify(i),u=this.config.api_host+(r.endpoint||this.analyticsDefaultEndpoint),f=r!==dr;return!this.config.request_batching||f&&!r._batchKey||r.send_instantly?this.__compress_and_send_json_request(u,a,r):this._requestQueue.enqueue(u,i,r),this._invokeCaptureHooks(e,i),i}}else v.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.__captureHooks.push(e)}},{key:"_invokeCaptureHooks",value:function(e,n){this.config._onCapture(e,n),j(this.__captureHooks,function(r){return r(e)})}},{key:"_calculate_event_properties",value:function(e,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(e),s=O({},n);if(s.token=this.config.token,e==="$snapshot"){var i=O(O({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=i.distinct_id,s}var o=J.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),u=a.sessionId,f=a.windowId;s.$session_id=u,s.$window_id=f}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(e==="$pageview"||e==="$pageleave"||e==="$autocapture")){var l=this.sessionPropsManager.getSessionProps();s=ne(s,l)}if(this.config.__preview_measure_pageview_stats){var c={};e==="$pageview"?c=this.pageViewManager.doPageView():e==="$pageleave"&&(c=this.pageViewManager.doPageLeave()),s=ne(s,c)}if(e==="$pageview"&&w&&(s.title=w.title),e==="$performance_event"){var _=this.persistence.properties();return s.distinct_id=_.distinct_id,s.$current_url=o.$current_url,s}if(!P(r)){var d=new Date().getTime()-r;s.$duration=parseFloat((d/1e3).toFixed(3))}s=ne({},J.properties(),this.persistence.properties(),this.sessionPersistence.properties(),s);var h=this.config.property_blacklist;te(h)?j(h,function(R){delete s[R]}):v.error("Invalid value for property_blacklist config: "+h);var g=this.config.sanitize_properties;return g&&(s=g(s,e)),s}},{key:"register",value:function(e,n){var r;(r=this.persistence)===null||r===void 0||r.register(e,n)}},{key:"register_once",value:function(e,n,r){var s;(s=this.persistence)===null||s===void 0||s.register_once(e,n,r)}},{key:"register_for_session",value:function(e){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(e)}},{key:"unregister",value:function(e){var n;(n=this.persistence)===null||n===void 0||n.unregister(e)}},{key:"unregister_for_session",value:function(e){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(e)}},{key:"_register_single",value:function(e,n){this.register(x({},e,n))}},{key:"getFeatureFlag",value:function(e,n){return this.featureFlags.getFeatureFlag(e,n)}},{key:"getFeatureFlagPayload",value:function(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(e,n){return this.featureFlags.isFeatureEnabled(e,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n)}},{key:"getEarlyAccessFeatures",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,n)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(e))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(e,n)}},{key:"getActiveMatchingSurveys",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(e,n)}},{key:"identify",value:function(e,n,r){if(!this.__loaded||!this.persistence)return v.uninitializedWarning("posthog.identify");if(e){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==s&&e!==this.get_property(nr)&&(this.unregister(nr),this.register({distinct_id:e}));var o=this.persistence.get_user_state()==="anonymous";e!==s&&o?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(s)):(n||r)&&this.setPersonProperties(n,r),e!==s&&(this.reloadFeatureFlags(),this.unregister(ir))}else v.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,n){(e||n)&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:n||{}}))}},{key:"group",value:function(e,n,r){if(e&&n){var s=this.getGroups();s[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:O(O({},s),{},x({},e,n))}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(x({},e,r))),s[e]===n||r||this.reloadFeatureFlags()}else v.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setGroupPropertiesForFlags(e,n)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var n,r,s,i;if(!this.__loaded)return v.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(s=this.persistence)===null||s===void 0||s.set_user_state("anonymous"),(i=this.sessionManager)===null||i===void 0||i.resetSessionId();var a=this.config.get_device_id(vt());this.register_once({distinct_id:a,$device_id:e?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,n;return(e=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var n=this.config.ui_host||this.config.api_host,r=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=r.sessionId,i=r.sessionStartTimestamp,o=n+"/replay/"+s;if(e!=null&&e.withTimestamp&&i){var a,u=(a=e.timestampLookBack)!==null&&a!==void 0?a:10;if(!i)return o;var f=Math.max(Math.floor((new Date().getTime()-i)/1e3)-u,0);o+="?t=".concat(f)}return o}},{key:"alias",value:function(e,n){return e===this.get_property(Ya)?(v.critical("Attempting to create alias for existing People user - aborting."),-2):(P(n)&&(n=this.get_distinct_id()),e!==n?(this._register_single(nr,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(v.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1))}},{key:"set_config",value:function(e){var n,r,s=O({},this.config);Qe(e)&&(ne(this.config,e),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),(n=this.persistence)===null||n===void 0||n.update_config(this.config),(r=this.sessionPersistence)===null||r===void 0||r.update_config(this.config),W.is_supported()&&W.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(gt.DEBUG=!0),this.sessionRecording&&!P(e.disable_session_recording)&&s.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!((e=this.sessionRecording)===null||e===void 0||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[e]}},{key:"getSessionProperty",value:function(e){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[e]}},{key:"toString",value:function(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:le;return n!==le&&(n=le+"."+n),n}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&W.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Ve.get("ph_optout")||(Ve.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var n,r,s,i,o;if(e&&e.clear_persistence)s=!0;else{if(!e||!e.enable_persistence)return;s=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===s||(i=this.persistence)===null||i===void 0||i.set_disabled(s),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===s||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(s)}},{key:"_gdpr_call_func",value:function(e,n){return n=ne({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),W.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),e(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=ne({enable_persistence:!0},e||{}),this._gdpr_call_func(fh,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var n=ne({clear_persistence:!0},e||{});this._gdpr_call_func(lh,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(_h,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(uu,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var n=ne({enable_persistence:!0},e??{});this._gdpr_call_func(dh,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(e){e===!1?(p==null||p.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(p==null||p.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),t}();(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=Ua(t.prototype[e[n]])})(Qs,["identify"]);var ku,Tu,Ze={},Bh=function(){se.init=function(t,e,n){if(n)return se[n]||(se[n]=Ze[n]=Js(t||"",e||{},n,function(s){se[n]=Ze[n]=s,s._loaded()})),se[n];var r=se;return Ze[le]?r=Ze[le]:t&&(r=Js(t,e||{},le,function(s){Ze[le]=s,s._loaded()}),Ze[le]=r),se=r,Ws===ln.INIT_SNIPPET&&(oe[le]=se),j(Ze,function(s,i){i!==le&&(se[i]=s)}),r}},Hh=function(){function t(){t.done||(t.done=!0,Su=!1,j(Ze,function(e){e._dom_loaded()}))}w!=null&&w.addEventListener&&(w.readyState==="complete"?t():w.addEventListener("DOMContentLoaded",t,!1)),p&&sn(p,"load",t,!0)};(function(t){t.Popover="popover",t.API="api"})(ku||(ku={})),function(t){t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link"}(Tu||(Tu={}));var Vh=(Ws=ln.INIT_MODULE,se=new Qs,Bh(),se.init(),Hh(),se);let _n=null;const Gh=()=>_n,qh={storefront:{id:"storefront",name:"Storefront"},microsite:{id:"microsite",name:"Microsite"},portal:{id:"portal",name:"Portal"}},Yh=(t,e,n)=>{if(!t)return;const{onLoaded:r,recordSession:s=!0,autocapture:i=!0}=n||{};Vh.init(t,{api_host:"https://app.posthog.com",persistence:"localStorage",autocapture:i,capture_pageview:i,loaded:o=>{_n=o,_n.group("app",e,qh[e]),r&&r(_n),s&&_n.startSessionRecording()}},e)},Wh=(t,e)=>`shop:${e};${t}`,zh=t=>{try{return t.get_distinct_id().startsWith("shop:")}catch{return!1}},Jh=(t,e,n,r)=>{zh(t)||t.identify(Wh(e,n),r)},Qh=()=>{const t=window.Shopify&&window.Shopify.trackingConsent;return!t||t.userCanBeTracked()},Kh=window.$superfiliateStorefront.health.environment===br.Production?"phc_5G3cfzs931jOEyfbVFkD77HJcNd8bQQVzcH0GsL6wGc":"phc_GUvUykv7SJRySiClvIGZFl38C4DZ07eXkdKen3pYo9S";(Sc=window.$superfiliateStorefront).analytics??(Sc.analytics={posthogInitialized:!1,posthog:null});const Ou={...mp,...vp},Xh=t=>{window.$superfiliateStorefront.analytics.posthogInitialized||!Qh()||Yh(Kh,"storefront",{recordSession:!1,autocapture:!1,onLoaded:e=>{const{shop:n}=we();e.group("shop",`id:${n.id}`,n),window.$superfiliateStorefront.analytics.posthogInitialized=!0,window.$superfiliateStorefront.analytics.posthog=e,t&&t(e)}})},Ru=()=>Gh(),Ks=()=>window.$superfiliateStorefront.analytics.posthogInitialized,Zh=(t,e,n)=>{Jh(Ru(),t,e,n)},$u=t=>!!(t!=null&&t.responseJson);var Xs=(t=>(t.GET="GET",t.POST="POST",t))(Xs||{});const eg={GET:va,POST:zd},Cu=async(t,e,n)=>{var r,s;try{const i=eg[t];return await i(e,n)}catch(i){if($u(i)&&((r=i.response)==null?void 0:r.status)===422&&(s=i.responseJson)!=null&&s.error)return i;throw Jn(i),i}},Pu={activation:()=>ps("shop_frontend/activations"),preview:()=>ps("shop_frontend/activations/preview")},Iu=({shop:t},e)=>({shop:{shopify_domain:t.shopifyDomain},customer:{...e},context:{fingerprint:ya(),page_type:qe()}}),tg={CREATE:(t,e)=>Cu(Xs.POST,Pu.activation(),Iu(t,e)),PREVIEW:(t,e)=>Cu(Xs.POST,Pu.preview(),Iu(t,e))};var ng=0;function m(t,e,n,r,s,i){var o,a,u={};for(a in e)a=="ref"?o=e[a]:u[a]=e[a];var f={type:t,props:u,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ng,__source:s,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)u[a]===void 0&&(u[a]=o[a]);return b.vnode&&b.vnode(f),f}const rg={woff:"format('woff')",woff2:"format('woff2')",otf:"format('opentype')",ttf:"format('truetype')"},sg=(t,e,n)=>{const r=(n||"").split(".").at(-1)||"";return`
    @font-face {
      font-family: '${t}';
      src: url('${n||""}') ${rg[r]||""};
      font-weight: ${e};
    }
  `},ig=()=>{var i,o,a,u,f,l,c,_,d;const[t,e]=ut($t),n=((a=(o=(i=t==null?void 0:t.storefrontData)==null?void 0:i.personalization)==null?void 0:o.branding)==null?void 0:a.fonts)||{},s=[["SF-Primary-Font","100 300",(u=n==null?void 0:n.primary)==null?void 0:u.light],["SF-Primary-Font","400 500",(f=n==null?void 0:n.primary)==null?void 0:f.regular],["SF-Primary-Font","600 900",(l=n==null?void 0:n.primary)==null?void 0:l.bold],["SF-Secondary-Font","100 300",(c=n==null?void 0:n.secondary)==null?void 0:c.light],["SF-Secondary-Font","400 500",(_=n==null?void 0:n.secondary)==null?void 0:_.regular],["SF-Secondary-Font","600 900",(d=n==null?void 0:n.secondary)==null?void 0:d.bold]].map(h=>sg(...h));return m("style",{dangerouslySetInnerHTML:{__html:s.join(" ")}})};function Zs(t){return t!=null}const og=t=>t.filter(Zs),ag=t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>Zs(n)));function ug(t){return Zs(t)?Array.isArray(t)?og(t):ag(t):null}const cg=(t,e)=>t.filter(n=>e.indexOf(n)<0),fg=t=>t.replace(/([A-Z])/g," $1").split(" ").join("_").toLowerCase(),lg=t=>Object.fromEntries(Object.entries(t).map(([e,n])=>[fg(e),n]));let Ce;typeof window<"u"&&(Ce=window==null?void 0:window.$superfiliateStorefront);const Nu=((Ec=Ce==null?void 0:Ce.logging)==null?void 0:Ec.reportError)||console.error;(kc=Ce==null?void 0:Ce.logging)!=null&&kc.customConsoleLog,(Tc=Ce==null?void 0:Ce.logging)!=null&&Tc.debugConsoleLog;const _g=({htmlTemplate:t,fallback:e,fallbackText:n,ignoreMissingVariables:r=[],variables:s={}})=>{const i={...ug(lg(s))};let o=`${t||""}`;Object.entries(i).forEach(([u,f])=>{const l=new RegExp(`{{ *${u} *}}`,"g"),c=`${f}`.replace(/&/g,"and").replace(/</g,"&lt;").replace(/>/g,"&gt;");o=o.replace(l,c)});const a=Array.from(o.matchAll(/{{(.*)}}/g));if(a.length){if(n)return n;if(e)return"";const u=a.map(f=>f[1]);cg(u,r).length>0&&Nu(`Mustache variables missing: '${o}', ${JSON.stringify(s)}`)}return o=o.replace(/{{.*}}/g,""),o=o.replace(/\\n/g,"<br/>"),o},Du=Or({}),Au=({htmlTemplate:t,fallback:e,ignoreMissingVariables:n=[]})=>{const r=ut(Du);return _g({htmlTemplate:t,fallback:e,ignoreMissingVariables:n,variables:r})},Fu={Context:Du,Content:({htmlTemplate:t,fallback:e,className:n,ignoreMissingVariables:r=[]})=>{const s=Au({htmlTemplate:t,fallback:e,ignoreMissingVariables:r});return!s&&e&&n?m("div",{className:n,children:e}):!s&&e?m(ae,{children:e}):s?m("div",{className:n,dangerouslySetInnerHTML:{__html:s}}):null},useMustacheContent:Au};var C=(t=>(t.Hidden="hidden",t.BottomRight="bottom_right",t.MiddleRight="middle_right",t.MiddleLeft="middle_left",t.BottomLeft="bottom_left",t.MainContent="main_content",t))(C||{}),hr=(t=>(t.SmallButton="small_button",t.Video="video",t))(hr||{}),X=(t=>(t.Hidden="hidden",t.Visible="visible",t))(X||{}),Mu={exports:{}},dg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pg=dg,hg=pg;function Lu(){}function Uu(){}Uu.resetWarningCache=Lu;var gg=function(){function t(r,s,i,o,a,u){if(u!==hg){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Uu,resetWarningCache:Lu};return n.PropTypes=n,n};Mu.exports=gg();var mg=Mu.exports;const dn=pa(mg);var vg=["color","size","title"];function ei(){return ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ei.apply(this,arguments)}function xg(t,e){if(t==null)return{};var n=yg(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yg(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ti=Ki(function(t,e){var n=t.color,r=t.size,s=t.title,i=xg(t,vg);return Ar.createElement("svg",ei({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),s?Ar.createElement("title",null,s):null,Ar.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}))});ti.propTypes={color:dn.string,size:dn.oneOfType([dn.string,dn.number]),title:dn.string},ti.defaultProps={color:"currentColor",size:"1em",title:null};const ju=ti;function bg(t){return!(typeof t!="object"||t instanceof Array)}class wg{filterOutNonSupportedKeys(e,n){const r=Object.create({});return bg(e)?(Object.keys(e).forEach(s=>{n.indexOf(s)>=0?r[s]=e[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),r):Object.create({})}}const Sg=wg,Bu=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics"];class ni extends Sg{constructor(e){super();const n=this.filterOutNonSupportedKeys(e,Bu);Object.assign(this,{secure:!0},n)}extend(e){const n=this.filterOutNonSupportedKeys(e,Bu);return new ni(Object.assign({},this,n))}setCname(e){return this.cname=e,this}setSecureDistribution(e){return this.secureDistribution=e,this}setPrivateCdn(e){return this.privateCdn=e,this}setSignUrl(e){return this.signUrl=e,this}setLongUrlSignature(e){return this.longUrlSignature=e,this}setShorten(e){return this.shorten=e,this}setUseRootPath(e){return this.useRootPath=e,this}setSecure(e){return this.secure=e,this}setForceVersion(e){return this.forceVersion=e,this}}const Eg=ni;class Pe{constructor(e){this.values=[],this.delimiter=":",this.hasValue(e)&&this.addValue(e)}toString(){return this.values.join(this.delimiter)}hasValue(e){return typeof e<"u"&&e!==null&&e!==""}addValue(e){return Array.isArray(e)?this.values=this.values.concat(e):this.values.push(e),this.values=this.values.filter(n=>this.hasValue(n)),this}setDelimiter(e){return this.delimiter=e,this}}class kg extends Error{constructor(e="Unsupported"){super(e)}}function ri(t){return new kg(t)}function Tg(){return this._qualifierModel||{error:ri(`unsupported qualifier ${this.constructor.name}`)}}class Og{constructor(){this._qualifierModel={}}toJson(){return Tg.apply(this)}}class he extends Og{constructor(e,n){super(),this.delimiter="_",this.key=e,n instanceof Pe?this.qualifierValue=n:(this.qualifierValue=new Pe,this.qualifierValue.addValue(n))}toString(){const{key:e,delimiter:n,qualifierValue:r}=this;return`${e}${n}${r.toString()}`}addValue(e){return this.qualifierValue.addValue(e),this}}class xe extends he{constructor(e,n){let r;n?r=new Pe([e,`${n}`]).setDelimiter(":"):r=e,super("fl",r),this.flagValue=n}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}}function Rg(t,e){const n=Array.from(t.entries());return e.forEach(r=>{n.push(["fl",r])}),n.sort().map(r=>r[1])}function $g(){var t,e,n;const r=this._actionModel&&Object.keys(this._actionModel).length,s=(n=(e=(t=this._actionModel)===null||t===void 0?void 0:t.source)===null||e===void 0?void 0:e.transformation)===null||n===void 0?void 0:n.error;return s&&s instanceof Error?{error:s}:r?this._actionModel:{error:ri(`unsupported action ${this.constructor.name}`)}}class Cg{constructor(){this._actionModel={}}toJson(){return $g.apply(this)}}class gr extends Cg{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(e){return this.actionTag=e,this}toString(){return this.prepareQualifiers(),Rg(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(e){if(typeof e=="string"){const[n,r]=e.toLowerCase().split("_");n==="fl"?this.flags.push(new xe(r)):this.qualifiers.set(n,new he(n,r))}else this.qualifiers.set(e.key,e);return this}addFlag(e){return typeof e=="string"?this.flags.push(new xe(e)):e instanceof xe&&this.flags.push(e),this}addValueToQualifier(e,n){return this.qualifiers.get(e).addValue(n),this}}class Pg extends gr{constructor(e){super(),this.addQualifier(new he("b",new Pe(e).setDelimiter("_")))}}function Ig(t){return t&&(t.match(/^#/)?`rgb:${t.substr(1)}`:t)}class Hu{constructor(e){this.raw=e}toString(){return this.raw}toJson(){return{error:ri(`unsupported action ${this.constructor.name}`)}}}function Ng(t){const e=t;return"error"in e&&!!e.error}function Dg(){return new xe("ignore_aspect_ratio")}function Ag(){return new xe("lossy")}function Fg(){return new xe("preserve_transparency")}function Mg(t){return new xe("progressive",t)}function Lg(){return new xe("region_relative")}function Ug(){return new xe("relative")}class jg extends Pe{constructor(e){super(e),this.val=e}getValue(){return this.val}}function St(t){const e={};return Object.keys(t).forEach(n=>{e[t[n]]=n}),e}const Vu={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"},Bg={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},Hg={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent"},Vg={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Gg={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},qg={444:"CHROMA_444",420:"CHROMA_420"},Yg={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};St(qg),St(Yg);const Wg=St(Vu),zg=St(Bg);St(Hg),St(Vg),St(Gg);class Jg extends gr{constructor(e,n,r){super(),this._actionModel={};let s;n instanceof jg?s=n.getValue():s=n,this._actionModel.actionType=zg[e],this._actionModel[r]=s,this.addQualifier(new he(e,n))}}class Qg extends xe{constructor(e){super("progressive",e)}}class mr extends Jg{constructor(e,n){super(e,n,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Ag()),this}progressive(e){return e instanceof Qg?(this._actionModel.progressive={mode:e.getFlagValue()},this.addFlag(e)):(this._actionModel.progressive={mode:e},this.addFlag(Mg(e))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Fg()),this}static fromJson(e){const{formatType:n,lossy:r,progressive:s,preserveTransparency:i}=e;let o;return n?o=new this("f",n):o=new this("f"),s&&(s.mode?o.progressive(s.mode):o.progressive()),r&&o.lossy(),i&&o.preserveTransparency(),o}}class vr{constructor(){this.actions=[]}addAction(e){let n;if(typeof e=="string"){if(e.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";n=new Hu(e)}else n=e;return this.actions.push(n),this}addTransformation(e){return e instanceof vr?this.actions=this.actions.concat(e.actions):this.actions.push(new Hu(e)),this}toString(){return this.actions.map(e=>e.toString()).filter(e=>e).join("/")}animated(e){return this.addAction(e)}border(e){return this.addAction(e)}reshape(e){return this.addAction(e)}resize(e){return this.addAction(e)}quality(e){return this.addAction(new mr("q",e)),this}format(e){return this.addAction(new mr("f",e)),this}roundCorners(e){return this.addAction(e)}overlay(e){return this.addAction(e)}underlay(e){return e.setLayerType("u"),this.addAction(e)}addVariable(e){return this.addAction(e)}conditional(e){return this.addAction(e)}effect(e){return this.addAction(e)}adjust(e){return this.addAction(e)}rotate(e){return this.addAction(e)}namedTransformation(e){return this.addAction(e)}delivery(e){return this.addAction(e)}backgroundColor(e){return this.addAction(new Pg(Ig(e)))}psdTools(e){return this.addAction(e)}extract(e){return this.addAction(e)}addFlag(e){const n=new gr;let r=e;return typeof e=="string"&&(r=new xe(e)),n.addQualifier(r),this.addAction(n)}customFunction(e){return this.addAction(e)}transcode(e){return this.addAction(e)}videoEdit(e){return this.addAction(e)}toJson(){const e=[];for(const n of this.actions){const r=n.toJson();if(Ng(r))return r;e.push(r)}return{actions:e}}}class Kg extends vr{}class Xg extends vr{}function Gu(t){const e=t.toString();return e.match(/[A-Z]/gi)||e.length>1&&e[0]==="0"?e:!isNaN(parseFloat(e))&&e.indexOf(":")===-1&&e.indexOf(".")===-1?`${e}.0`:e}class Zg extends Pe{}class qu extends gr{constructor(e,n,r){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Wg[e]||e,this.addQualifier(new he("c",e)),n&&this.width(n),r&&this.height(r)}height(e){return this._actionModel.dimensions.height=e,this.addQualifier(new he("h",e))}width(e){return this._actionModel.dimensions.width=e,this.addQualifier(new he("w",e))}aspectRatio(e){if(e instanceof Zg)return this._actionModel.dimensions.aspectRatio=`${e}`,this.addQualifier(new he("ar",e));if(typeof e=="number"||typeof e=="string")return this._actionModel.dimensions.aspectRatio=Gu(e),this.addQualifier(new he("ar",Gu(e)));if(e instanceof xe)return this._actionModel.dimensions.aspectRatio=`${e.qualifierValue}`,this.addFlag(e)}relative(){return this._actionModel.relative=!0,this.addFlag(Ug())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Lg())}static fromJson(e){const{actionType:n,dimensions:r,relative:s,regionRelative:i}=e,{aspectRatio:o,width:a,height:u}=r,f=Vu[n]||n,l=new this(f,a,u);return o&&l.aspectRatio(o==="ignore_aspect_ratio"?Dg():o),s&&l.relative(),i&&l.regionRelative(),l}}class si extends he{constructor(e){super("g",new Pe(e))}}class Yu extends si{constructor(){super("auto")}autoFocus(...e){return this.addValue(e),this}}class Wu extends si{constructor(e){super(e)}fallbackGravity(e){return this.addValue(e.qualifierValue),this}}class zu extends si{constructor(e){super(e)}}function em(t){return new zu(t)}function Ju(...t){const e=[...t];return new Wu(e)}function Qu(){return new Yu}class xr extends Pe{constructor(e){super(),this.name=e}toString(){return this.name}}function tm(){return new xr("ocr_text")}function nm(t){return t&&`${t}`.split(":")[0]==="auto"}function rm(t){const e=ii(t);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}function ii(t){return`${t}`.replace("g_","")}function sm(t){return{compass:ii(t),gravityType:"direction"}}function im(t){return ii(t)==="ocr_text"}function om(){return{gravityType:"ocr"}}function am(t){return`${t.qualifierValue}`.split(":")[0]==="auto"}function um(t){const n=t.toString().split("_"),r={object:n[0]};return n.length>1&&(n[1]==="avoid"?r.avoid=!0:r.weight=+n[1]),r}function Ku(t){let e;const n=t==="auto"?new Yu:t;return`${t}`.startsWith("auto:")?e=`${t}`.split(":").filter(s=>s!=="auto"):e=n.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:e.map(um)}}function cm(t){const e=`${t}`.split(":").includes("auto"),n=t.qualifierValue.values,s={gravityType:"object",focusOnObjects:(e?n.slice(0,n.length-1):n).map(i=>`${i}`)};if(e){const i=n[n.length-1].values.slice(1),o=Qu().autoFocus(...i);s.fallbackGravity=Ku(o)}return s}function fm(t){const n=t.split(":").map(r=>new xr(r));return new Wu(n)}function lm(t){return rm(t)?sm(t):im(t)?om():nm(t)||am(t)?Ku(t):cm(typeof t=="string"?fm(t):t)}class oi extends Pe{constructor(e,n){super(),this._weight=n,this.focusOn=e,this.shouldAvoid=!1}static focusOn(e,n){return new oi(e,n)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(e){return this._weight=e,this}avoid(){return this.shouldAvoid=!0,this}}class _m extends Pe{constructor(e){super(),this.val=e}toString(){return this.val}}function dm(t){return t.gravityType==="direction"}function pm(t){return t.gravityType==="ocr"}function hm(t){return t.gravityType==="auto"}function gm(t){const{object:e,weight:n,avoid:r}=t,s=new oi(new xr(e));return(n||n===0)&&s.weight(n),r&&s.avoid(),s}function Xu(t){const n=(t.autoFocus||[]).map(gm);return Qu().autoFocus(...n)}function mm(t){const e=(t.focusOnObjects||[]).map(r=>new xr(r)),n=Ju(...e);if(t.fallbackGravity){const r=Xu(t.fallbackGravity);n.fallbackGravity(r)}return n}function vm(t){return dm(t)?new zu(new _m(t.compass)):pm(t)?Ju(tm()):hm(t)?Xu(t):mm(t)}class xm extends qu{gravity(e){this._actionModel.gravity=lm(e);const n=typeof e=="string"?new he("g",e):e;return this.addQualifier(n)}static fromJson(e){const n=super.fromJson.apply(this,[e]);return e.gravity&&n.gravity(vm(e.gravity)),n}}class ym extends xm{x(e){return this._actionModel.x=e,this.addQualifier(new he("x",e))}y(e){return this._actionModel.y=e,this.addQualifier(new he("y",e))}static fromJson(e){const n=super.fromJson.apply(this,[e]);return e.x&&n.x(e.x),e.y&&n.y(e.y),n}}function bm(t,e){return new ym("fill",t,e)}function wm(t,e){return new qu("fit",t,e)}function Sm(t){return t.match(/^https?:\//)}function Em(t){return t.indexOf("/")<0}function km(t){return t.match(/^v[0-9]+/)}function Tm(t,e){const n=e.secure,r=e.privateCdn,s=e.cname,i=e.secureDistribution;return!n&&!s?`http://res.cloudinary.com/${t}`:n&&!i&&r?`https://${t}-res.cloudinary.com`:n&&!i?`https://res.cloudinary.com/${t}`:n&&i&&r?`https://${i}`:n&&i?`https://${i}/${t}`:!n&&s?`http://${s}/${t}`:"ERROR"}function Om(t){return t||"image"}function Rm(t){return t||"upload"}function $m(t,e,n){const r=n!==!1;return e?`v${e}`:km(t)||Sm(t)||Em(t)?"":r?"v1":""}function ai(t,e,n){let r=e>>0,s=String(typeof n<"u"?n:" ");return t.length>r?String(t):(r=r-t.length,r>s.length&&(s+=Cm(s,r/s.length)),s.slice(0,r)+String(t))}function Cm(t,e){let n=e,r="";for(;n>0;)r+=t,n--;return r}const Pm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zu={};let ec=0;Pm.split("").forEach(t=>{let e=ec.toString(2);e=ai(e,6,"0"),Zu[e]=t,ec++});function Im(t){if(t.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return t.split(".").reverse().map(e=>{const n=+e;if(isNaN(n)||n<0)throw"Invalid version number provided";return ai(e,2,"0")}).join(".")}function tc(t){let e="";const r=t.split(".").length*6,s=Im(t);let o=parseInt(s.split(".").join("")).toString(2);if(o=ai(o,r,"0"),o.length%6!==0)throw"Version must be smaller than 43.21.26)";return o.match(/.{1,6}/g).forEach(a=>{e+=Zu[a]}),e}function Nm(t){const e={sdkSemver:t.sdkSemver,techVersion:t.techVersion,sdkCode:t.sdkCode,feature:"0"};return t.accessibility&&(e.feature="D"),t.lazyload&&(e.feature="C"),t.responsive&&(e.feature="A"),t.placeholder&&(e.feature="B"),e}const Dm="1.9.2";function Am(){const t="0.0.0";if(typeof window<"u")return t;try{return process.versions.node||t}catch{return t}}function Fm(t){const e={techVersion:Am(),sdkCode:"T",sdkSemver:Dm.split("-")[0],responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return t?Object.assign(Object.assign({},e),t):e}function Mm(t){const e=Fm(t),n=Nm(e);try{const r=Lm(n.techVersion),s=tc(n.sdkSemver),i=tc(r),o=n.feature;return`A${n.sdkCode}${s}${i}${o}`}catch{return"E"}}function Lm(t){const e=t.split(".");return`${e[0]}.${e[1]}`}const nc={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Um{constructor(e,n={},r){this.setPublicID(e),this.setCloudConfig(n),this.setURLConfig(r)}setURLConfig(e){return this.urlConfig=new Eg(e),this}setCloudConfig(e){return this.cloudName=e.cloudName,this.apiKey=e.apiKey,this.apiSecret=e.apiSecret,this.authToken=e.authToken,this}setPublicID(e){return this.publicID=e?e.toString():"",this}setDeliveryType(e){return this.deliveryType=e,this}setSuffix(e){return this.suffix=e,this}setSignature(e){return this.signature=e,this}setVersion(e){return e&&(this.version=e),this}setAssetType(e){return e&&(this.assetType=e),this}sign(){return this}toURL(e={}){return this.createCloudinaryURL(null,e.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const e=this.suffix&&this.suffix.indexOf(".")>=0,n=this.suffix&&this.suffix.indexOf("/")>=0;if(e||n)throw"`suffix`` should not include . or /"}getResourceType(){const e=Om(this.assetType),n=Rm(this.deliveryType),r=!!this.suffix,s=`${e}/${n}`,i=nc[`${e}/${n}`],o=this.urlConfig.useRootPath,a=this.urlConfig.shorten;if(o){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(a&&s==="image/upload")return"iu";if(r){if(i)return i;throw new Error(`URL Suffix only supported for ${Object.keys(nc).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(e,n){if(!this.publicID)return"";this.validateAssetForURLCreation();const r=Tm(this.cloudName,this.urlConfig),s=e?e.toString():"",i=$m(this.publicID,this.version,this.urlConfig.forceVersion),o=this.publicID.replace(/,/g,"%2C"),a=[r,this.getResourceType(),this.getSignature(),s,i,o,this.suffix].filter(u=>u).join("/");if(typeof e=="string")return a;{const u=encodeURI(a).replace(/\?/g,"%3F").replace(/=/g,"%3D");return this.urlConfig.analytics!==!1&&!o.includes("?")?`${u}?_a=${Mm(n)}`:u}}}class rc extends Um{constructor(e,n,r,s){super(e,n,r),this.transformation=s}animated(e){return this.transformation.animated(e),this}border(e){return this.transformation.border(e),this}reshape(e){return this.transformation.reshape(e),this}resize(e){return this.transformation.resize(e),this}quality(e){return this.addAction(new mr("q",e)),this}format(e){return this.addAction(new mr("f",e)),this}roundCorners(e){return this.transformation.roundCorners(e),this}overlay(e){return this.transformation.overlay(e),this}addVariable(e){return this.transformation.addVariable(e),this}conditional(e){return this.transformation.conditional(e),this}effect(e){return this.transformation.effect(e),this}adjust(e){return this.transformation.adjust(e),this}rotate(e){return this.transformation.rotate(e),this}namedTransformation(e){return this.transformation.namedTransformation(e),this}delivery(e){return this.transformation.delivery(e),this}backgroundColor(e){return this.transformation.backgroundColor(e),this}psdTools(e){return this.transformation.psdTools(e),this}extract(e){return this.transformation.extract(e),this}addFlag(e){return this.transformation.addFlag(e),this}customFunction(e){return this.transformation.customFunction(e),this}addAction(e){return this.transformation.addAction(e),this}addTransformation(e){return this.transformation.addTransformation(e),this}toString(){return this.transformation.toString()}underlay(e){return this.transformation.underlay(e),this}toURL(e={}){return this.createCloudinaryURL(this.transformation,e==null?void 0:e.trackedAnalytics)}}class jm extends rc{constructor(e,n,r){super(e,n,r,new Kg)}}class Bm extends rc{constructor(e,n,r){super(e,n,r,new Xg),this.assetType="video"}transcode(e){return this.transformation.transcode(e),this}videoEdit(e){return this.transformation.videoEdit(e),this}}class Hm{constructor(e){e&&(this.cloudinaryConfig=e)}image(e){return new jm(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(e){return new Bm(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(e){return this.cloudinaryConfig=e,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const Vm=(t,e=!0,n=!1)=>{if(!t)return"#";const r=n?t:t.replace("res.cloudinary.com","cloudinary.superfiliate-cdn.com"),s=e?"https":"http";if(r.startsWith("http")){const i=new URL(r);return i.protocol=s,i.toString()}else return new URL(`${s}://${r}`).toString()},Gm="da2a4i71k",qm=new Hm({cloud:{cloudName:Gm},url:{secure:!0}}),sc=(t,e="auto")=>{const n=qm.image(t).setDeliveryType("fetch");return t.includes(".gif")?n.quality("auto:low").format("gif").addFlag("lossy"):n.quality("auto:best").format(e)},pn=t=>Vm(t).split("?")[0].replace("res.cloudinary.com","cloudinary.superfiliate-cdn.com"),Ym=(t,e,n,r="auto")=>t.includes("/upload/v")?pn(t.replace("/upload/",`/upload/q_auto:best/f_${r}/c_limit,h_${n},w_${e}/`)):pn(sc(t,r).resize(wm().width(Math.round(e)).height(Math.round(n))).toURL().split("?")[0]),Wm=(t,e,n,r="auto",s="center")=>t.includes("/upload/v")?pn(t.replace("/upload/",`/upload/q_auto:best/f_${r}/c_lfill,h_${n},w_${e}/`)):pn(sc(t,r).resize(bm().width(Math.round(e)).height(Math.round(n)).gravity(em(s))).toURL()),zm=(t,e,n,r=5e3,s)=>{if(!t.includes("/video/upload/v"))return t;const i=s==="cover"?"c_lfill":"c_limit",o=`du_${r/1e3}`;return pn(t.replace("/upload/",`/upload/q_auto:best/f_auto/ac_none/${o}/${i},h_${n},w_${e}/`))},ic=t=>t.includes("/video/upload/");var oc={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var u in i)e.call(i,u)&&i[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oc);var Jm=oc.exports;const ac=pa(Jm),uc={cn:ac},E=(...t)=>uc.cn(...t);var et={},ui=da&&da.__assign||function(){return ui=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ui.apply(this,arguments)};Object.defineProperty(et,"__esModule",{value:!0}),et.join=et.subst=et.query=void 0;function Qm(t,e,n){if(n===void 0&&(n={}),typeof e=="string"){var r=t,s=e,i=n;return fc(s,i,r)}else{var o=t,i=e;return fc(o,i)}}var cc=et.default=Qm;function fc(t,e,n){var r=_c(t,e),s=r.renderedPath,i=r.remainingParams,o=Xm(i),a=lc(o),u=ci(s,"?",a);return n?ci(n,"/",u):u}function lc(t){return new URLSearchParams(t).toString()}et.query=lc;function Km(t,e){var n=_c(t,e).renderedPath;return n}et.subst=Km;function _c(t,e){var n=ui({},e),r=["boolean","string","number"],s=t.replace(/:\w+/g,function(i){var o=i.slice(1);if(/^\d+$/.test(o))return i;if(!e.hasOwnProperty(o))throw new Error("Missing value for path parameter "+o+".");if(!r.includes(typeof e[o]))throw new TypeError("Path parameter "+o+" cannot be of type "+typeof e[o]+". "+("Allowed types are: "+r.join(", ")+"."));if(typeof e[o]=="string"&&e[o].trim()==="")throw new Error("Path parameter "+o+" cannot be an empty string.");return delete n[o],encodeURIComponent(e[o])});return{renderedPath:s,remainingParams:n}}function ci(t,e,n){var r=t.endsWith(e)?t.slice(0,-e.length):t,s=n.startsWith(e)?n.slice(e.length):n;return r===""||s===""?r+s:r+e+s}et.join=ci;function Xm(t){return Object.keys(t).filter(function(e){return Zm(t[e])}).reduce(function(e,n){return e[n]=t[n],e},{})}function Zm(t){return t!=null}const ev=(t,e)=>cc("https://image.mux.com/:mediaID/animated.webp",{mediaID:t,fps:24,end:e||5}),tv=(t,e)=>cc("https://image.mux.com/:mediaID/thumbnail.webp",{mediaID:t,time:e||0}),nv=(t,e,n,r,s,i,o)=>{let a=t;ic(a)&&(a=[...a.split(".").slice(0,-1),"jpg"].join("."));const u=a.includes(".gif")||a.includes(".webp"),f=i||u?"webp":"avif",l=Math.round(s?e/20:e),c=Math.round(s?n/20:n);return r==="contain"?Ym(a,l,c,f):Wm(a,l,c,f,o)},rv=({setWidgetVisibility:t,position:e,preview:n,buttonFormat:r})=>{const[s,i]=ut($t),[o,a]=Le(X.Hidden),[u,f]=Le(),[l,c]=Le(),_=[C.BottomLeft,C.BottomRight].includes(e),d=s.storefrontData.personalization,h=d==null?void 0:d.widget.media,g=(d==null?void 0:d.widget.mediaUrl)||"",R=ic(g)||h&&(h==null?void 0:h.mediaType)==="video",y=g&&r===hr.Video,k="superfiliateWidgetState",{closedAt:F,visibility:N}=JSON.parse(localStorage.getItem(k)||"{}"),S=D=>{N==X.Hidden&&D>1?(a(X.Visible),localStorage.setItem(k,JSON.stringify({closedAt:null,visibility:X.Visible}))):!N||N===X.Visible?a(X.Visible):a(X.Hidden)};return Te(()=>{const D=(new Date().getTime()-new Date(F).getTime())/864e5;!y||!_?a(X.Hidden):S(D)},[]),Te(()=>{f(d==null?void 0:d.widget.htmlFoldedPasserbyText),c(d==null?void 0:d.widget.foldedPasserbyIconUrl)},[s]),e==C.Hidden||e==C.MainContent?null:m("div",{className:E({"origin-bottom-right slide-in-from-right right-0 bottom-[50vh] translate-x-[36%]":e===C.MiddleRight,"origin-bottom-left slide-in-from-left left-0 bottom-[50vh] translate-x-[-36%]":e===C.MiddleLeft,"right-4 bottom-4 slide-in-from-right":e===C.BottomRight,"left-4 bottom-4 slide-in-from-left":e===C.BottomLeft,"pointer-events-none":n},"fixed z-index-program-widget-modal","animate-in fade-in"),children:m("div",{"data-testid":"sf-widget-folded","data-cy":"pw-folded",role:"button",tabIndex:-1,"aria-label":"Show referral offer","aria-live":"polite",className:E({"right-0 rotate-[270deg] rounded-t-2xl":e===C.MiddleRight,"left-0 rotate-[90deg] rounded-t-2xl":e===C.MiddleLeft,"rounded-lg p-0.5":![C.MiddleRight,C.MiddleLeft].includes(e)&&o===X.Visible,"rounded-lg":![C.MiddleRight,C.MiddleLeft].includes(e)&&o===X.Hidden},"bg-primary text-primary-content","flex items-center"),children:m("div",{className:E("flex flex-col",y&&o===X.Visible?"w-[80px] sm:w-[126px]":"w-full"),children:[r===hr.Video&&o===X.Visible&&m(ae,{children:[m("div",{className:E("w-5 h-5 absolute -top-2.5 -right-2.5 cursor-pointer font-bold z-10 flex bg-white rounded-full p-[6px]",{"pointer-events-none":n}),onClick:()=>{t(Y.Folded),a(X.Hidden),localStorage.setItem(k,JSON.stringify({closedAt:new Date,visibility:X.Hidden}))},children:m(ju,{className:E("text-primary font-bold w-2 h-2")})}),m("div",{className:E("relative w-full max-w-full rounded-lg overflow-hidden h-[141px] sm:h-[222px]",{"pointer-events-none":n}),onClick:()=>t(Y.Open),children:[(h==null?void 0:h.mediaType)==="video"?m("img",{src:tv(h.mediaId),alt:"Blurred asset background",className:E("blur absolute w-[120%] max-w-[unset] h-[120%] left-[-10%] top-[-10%] -z-[10]")}):m("img",{src:nv(g,340,600,"cover",!0),alt:"Blurred asset background",className:E("blur absolute w-[120%] max-w-[unset] h-[120%] left-[-10%] top-[-10%]")}),R?m(ae,{children:(h==null?void 0:h.mediaType)==="video"?m("img",{alt:"Preview referral widget",className:"h-full max-h-full w-full max-w-full object-contain absolute",src:ev(h==null?void 0:h.mediaId)},g):m("video",{src:zm(g,260,468,5e3,"contain"),autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:E("h-full max-h-full w-full max-w-full object-contain absolute")},g)}):m("img",{src:g,alt:"Superfiliate widget media",className:E("h-full max-h-full w-full max-w-full object-contain absolute")},g)]})]}),(l||u)&&m("div",{className:E("flex bg-primary justify-center items-center rounded-lg",{"absolute inset-x-0 bottom-0 mx-1 mb-1.5 py-1 px-2":o===X.Visible,"px-4 py-3 w-fit":o===X.Hidden,"pointer-events-none":n}),onClick:()=>t(Y.Open),children:[l&&m("img",{src:l,alt:"Gift",className:E("h-[18px] w-[18px]")}),u&&m(Fu.Content,{htmlTemplate:u,className:E({"ml-1":!!l,"text-xs":o===X.Visible},"font-semibold font-display leading-4 sm:leading-6")})]})]})})})},sv=t=>!t||Array.isArray(t)&&t.length===0?null:t;function hn(t){function e(n,r){if(!t)return r;const s=t[n];return r==null?sv(s):s||r}return e}const iv={shop:hn((Oc=window==null?void 0:window.$superfiliateStorefront)==null?void 0:Oc.shop),branding:hn(($c=(Rc=window==null?void 0:window.$superfiliateStorefront)==null?void 0:Rc.personalization)==null?void 0:$c.branding),brandingImages:hn((Ic=(Pc=(Cc=window==null?void 0:window.$superfiliateStorefront)==null?void 0:Cc.personalization)==null?void 0:Pc.branding)==null?void 0:Ic.images),portal:hn((Dc=(Nc=window==null?void 0:window.$superfiliateStorefront)==null?void 0:Nc.personalization)==null?void 0:Dc.portal),widget:hn((Fc=(Ac=window==null?void 0:window.$superfiliateStorefront)==null?void 0:Ac.personalization)==null?void 0:Fc.widget)},ov=()=>{const t=iv.brandingImages("altLogoImageUrl");return m("div",{className:E("flex flex-col w-full h-full bg-primary items-center justify-center"),children:[m("div",{className:E("flex flex-col"),children:m("div",{className:E("absolute h-[190px] w-[190px] inset-0 m-auto"),children:[m("svg",{width:"190",height:"190",viewBox:"0 0 190 190",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:E("animate-spin text-primary-content"),children:[m("path",{d:"M95 2.375C95 1.06332 96.0638 -0.00309968 97.3751 0.029681C116.06 0.496782 134.211 6.46689 149.543 17.218C164.875 27.9691 176.673 43.0005 183.478 60.4079C183.956 61.6295 183.316 62.993 182.082 63.4399V63.4399C180.849 63.8869 179.49 63.2479 179.011 62.0269C172.539 45.5368 161.349 31.2978 146.816 21.1071C132.283 10.9163 115.084 5.24726 97.375 4.78124C96.0638 4.74674 95 3.68668 95 2.375V2.375Z",fill:"currentColor"}),m("defs",{children:m("clipPath",{id:"clip0_43382_19090",children:m("rect",{width:"120",height:"40",fill:"white",transform:"translate(35 75)"})})})]}),m("span",{className:E("absolute text-primary-content w-full text-center text-sm mt-[32px]"),children:"Preparing your experience"})]})}),m("div",{className:E("w-[120px] h-[120px] flex items-center justify-center"),children:m("img",{src:t||"",className:E("flex items-center"),alt:"Logo"})})]})},av=({persona:t})=>{var i;const e=ie("order_status")?pp():lp(t),[n,r]=ut($t),s=ie("order_status")&&((i=n.storefrontData.personalization)==null?void 0:i.widget.positionOrderStatus)===C.MainContent;return m("div",{className:E("w-full relative",{"h-[662px]":s,"h-full":!s}),children:[m("div",{className:"sf-w-full sf-h-full sf-absolute sf-flex sf-justify-center sf-items-center",children:m(ov,{})}),m("iframe",{src:e,allow:"web-share",className:"sf-w-full sf-h-full sf-absolute"})]})},uv=({setWidgetVisibility:t,position:e,className:n})=>e==C.Hidden||e==C.MainContent?null:m("div",{className:E("relative"),children:m("div",{"data-testid":"sf-fold-button","data-cy":"fold-pw",className:E("z-10 absolute right-2.5 top-2.5","p-2.5 h-9 w-9","flex items-center justify-center","text-lg rounded-full bg-black/50",n),role:"button",onClick:()=>t(Y.Folded),children:m("span",{children:m(ju,{size:13,className:E("font-bold text-white")})})})}),dc=({className:t,children:e,withShadow:n=!1,onClick:r})=>m("div",{className:E("rounded-2xl bg-base p-6 text-center text-base-content",!n&&"border border-base-content/10",t),style:{boxShadow:n?"0px 4px 4px rgba(0, 0, 0, 0.06)":""},onClick:r,children:e}),cv=()=>m("div",{className:E("animate-in fade-in"),children:[m("div",{className:E("bg-primary-gradient py-10"),children:m("div",{className:E("mx-5 grid w-full grid-cols-2 gap-2 text-base"),children:[m("p",{className:E("col-span-2 mb-2 h-4 w-6/12 animate-pulse rounded bg-base/[0.5]")}),m("p",{className:E("col-span-2 h-8 w-10/12 animate-pulse rounded bg-base/[0.5]")})]})}),m("div",{className:E("mx-5 -mt-7 pb-2"),children:m(dc,{withShadow:!0,children:m("div",{className:E("animate-pulse"),children:[m("p",{className:E("mb-4 h-12 w-full rounded bg-gray-300")}),m("p",{className:E("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),m("p",{className:E("mx-auto my-1 h-3 w-11/12 rounded bg-gray-300")}),m("p",{className:E("mx-auto my-1 h-3 w-9/12 rounded bg-gray-300")})]})})}),m("div",{className:E("mx-5 py-2"),children:m(dc,{withShadow:!0,children:m("div",{className:E("animate-pulse"),children:[m("p",{className:E("mx-auto mb-4 h-5 w-6/12 rounded bg-gray-300")}),m("div",{className:E("relative mx-auto mb-8 h-36"),children:[m("p",{className:E("absolute right-0 mx-auto h-36 w-[95%] rounded-xl bg-gray-300")}),m("p",{className:E("absolute right-4 top-4 mx-auto h-36 w-[95%]  rounded-xl bg-gray-300")})]}),m("p",{className:E("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),m("p",{className:E("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),m("p",{className:E("mx-auto my-1 h-3 w-4/12 rounded bg-gray-300")})]})})})]}),fv=({setWidgetVisibility:t,position:e,persona:n,preview:r})=>{const[s,i]=ut($t);return e==C.Hidden?null:m(ae,{children:[e!==C.MainContent&&m(ae,{children:[m("div",{"data-testid":"sf-widget-backdrop",className:E("fixed block sm:hidden","z-index-program-widget-modal h-screen w-screen","bg-base-content/20 backdrop-blur-xl","animate-in fade-in",{"pointer-events-none":r}),onClick:()=>t(Y.Folded)}),m("style",{children:`
              @media only screen and (max-width: 640px) {
                body {
                  overflow: hidden;
                }
              }
            `})]}),m("div",{"data-testid":"sf-widget-open","data-cy":"pw-opened",role:"dialog","aria-modal":"true","aria-label":"Referral offer",className:E({"right-0 bottom-0 slide-in-from-right sm:right-4 sm:bottom-4":e===C.BottomRight||e===C.MiddleRight,"left-0 bottom-0 slide-in-from-left sm:left-4 sm:bottom-4":e===C.BottomLeft||e===C.MiddleLeft,"fixed z-index-program-widget-modal w-screen shadow-2xl sm:max-w-[390px] sm:max-h-[680px]":e!==C.MainContent,"my-3 w-full sm:max-h-[662px]":e===C.MainContent,"pointer-events-none":r},"overflow-auto bg-soft-primary-gradient text-base-content text-md","no-scrollbar max-h-screen min-h-[360px]","animate-in fade-in h-full sm:rounded-3xl"),children:[m(uv,{setWidgetVisibility:t,position:e,className:E(n===Ee.Passerby?"text-base-content":"text-primary-content")}),s.loading?m(cv,{}):m(av,{persona:n})]})]})},fi="$superfiliate.programWidget.activationResponse",pc="$superfiliate.programWidget.activationResponseUpdatedAt",lv=1,hc="$superfiliate.leadModalAutoOpened",_v=()=>{const t=window.localStorage.getItem(pc);return t?parseInt(t,10):0},dv=()=>{const t=_v();return(Date.now()-t)/(1e3*3600)<lv},gc=()=>{const t=window.localStorage.getItem(fi);let e;try{e=JSON.parse(t||"null")}catch{e=null}return e&&(!e.sf_code||!e.sf_link)?(window.localStorage.removeItem(fi),null):e},pv=t=>{if(t)try{window.localStorage.setItem(fi,JSON.stringify(t)),window.localStorage.setItem(pc,JSON.stringify(Date.now()))}catch(e){Kn(e)}},hv=()=>{const t=window.localStorage.getItem(hc);let e;try{e=JSON.parse(t||"false")}catch{e=!1}return e},gv=t=>{if(t!==void 0)try{window.localStorage.setItem(hc,JSON.stringify(t))}catch(e){Kn(e)}},li=()=>{const t=yi()||Bc(),e=it(),n=gc();if(pt("pageType",qe()),pt("autoAppliedDiscount",e),pt("utmParams",t),ie("online_store")&&e&&(t!=null&&t.utm_source)){if(t.utm_source==="superfiliate-reward")return Ee.SuperfiliateReward;if(t.utm_source==="superfiliate")return Ee.Lead}return n!=null&&n.sf_code?Ee.SuperfiliateShare:Ee.Passerby},_i=()=>{var r,s,i,o,a,u;const t=we(),e=window.location.href;if(ie("order_status"))return((s=(r=t.personalization)==null?void 0:r.widget)==null?void 0:s.positionOrderStatus)||C.Hidden;const n=(((o=(i=t.personalization)==null?void 0:i.widget)==null?void 0:o.positionCustom)||[]).find(({regex:f})=>!!new RegExp(f).exec(e));return n?n.position:ie("online_store")&&((u=(a=t.personalization)==null?void 0:a.widget)==null?void 0:u.positionOnlineStore)||C.Hidden},mv={[C.Hidden]:Y.Hidden,[C.MainContent]:Y.Open,[C.BottomLeft]:Y.Folded,[C.BottomRight]:Y.Folded,[C.MiddleRight]:Y.Folded,[C.MiddleLeft]:Y.Folded},vv=()=>{var a;const t=we(),e=_i(),n=mv[e],r=li(),s=[Ee.Lead,Ee.SuperfiliateReward].includes(r),i=hv();if(s&&!i)return gv(!0),Y.Open;const o=(a=t.personalization)==null?void 0:a.widget;return ie("order_status")&&(o!=null&&o.hiddenOrderStatus)||ie("online_store")&&(o!=null&&o.hiddenOnlineStore)?Y.Hidden:n},xv=()=>m("style",{children:`
      @media (max-width: 1024px) {
        *[tabindex="-1"][role="dialog"] {
          visibility: hidden !important;
        }
      }
    `}),yv=()=>{if("pushState"in window.history){const n=new URL(window.location.href);n.hash="",window.history.pushState("",document.title,n.toString());return}const t=document.body.scrollTop,e=document.body.scrollLeft;window.location.hash="",document.body.scrollTop=t,document.body.scrollLeft=e},bv=()=>{var c;const[t,e]=at(()=>[_i(),vv()],[]),[n,r]=Le(e);Te(()=>{n===Y.Open&&(Ks()?Ru().capture(Ou.PROGRAM_WIDGET_OPENED,{pageType:qe()}):Xh(_=>{_.capture(Ou.PROGRAM_WIDGET_OPENED,{pageType:qe()})}))},[n]);const[s,i]=Le(li()),[o,a]=ut($t),u=((c=o.storefrontData.personalization)==null?void 0:c.widget.buttonFormat)||hr.SmallButton,f=()=>{window.location.hash==="#referral"&&(r(Y.Open),yv())},l=async()=>{const _=it();_&&(await Ft.fetchVisitorCodes(),Ft.isFraudAccess(_)&&(i(Ee.Passerby),qc(_)))};return Te(()=>{window.addEventListener("hashchange",f),f(),l()},[]),Te(()=>{const _=li();s!==_&&i(_)},[o,s,i]),pt("widgetVisibility",n),pt("widgetPosition",t),pt("widgetPersona",s),m(ae,{children:[n===Y.Open&&m(xv,{}),n===Y.Folded&&m(rv,{setWidgetVisibility:r,position:t,buttonFormat:u}),n===Y.Open&&m(fv,{setWidgetVisibility:r,position:t===C.Hidden?C.BottomLeft:t,persona:s})]})};var gn=(t=>(t.Shopify="shopify",t.Recharge="recharge",t))(gn||{});const wv=()=>{const{scriptId:t}=we(),e=document.getElementById(t);return e?JSON.parse(e.innerHTML):null},mc=()=>{const t=qe();return t===U.RechargeOrderStatus?gn.Recharge:t===U.ShopifyOrderStatus?gn.Shopify:null},Sv=()=>{var t,e,n,r,s,i,o,a,u,f,l,c;return{customer:{shopify_customer_id:(e=(t=window.Shopify)==null?void 0:t.checkout)==null?void 0:e.customer_id,email:(r=(n=window.Shopify)==null?void 0:n.checkout)==null?void 0:r.email,first_name:(o=(i=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:i.shipping_address)==null?void 0:o.first_name,last_name:(f=(u=(a=window.Shopify)==null?void 0:a.checkout)==null?void 0:u.shipping_address)==null?void 0:f.last_name},order:{shopify_order_id:(c=(l=window.Shopify)==null?void 0:l.checkout)==null?void 0:c.order_id}}},Ev=()=>{const t=window.location.search,e=new URLSearchParams(t).get("preview")||"{}";return{preview:JSON.parse(e)}},kv=()=>{let t;return mc()===gn.Shopify?t=Sv():mc()===gn.Recharge&&(t=wv()),t?{...t,...Ev()}:null},Tv=t=>document.head.insertAdjacentHTML("beforeend",`<style>${t}</style>`),Ov=t=>{let e=t||"#000000";if(e.length<3)e="#000000";else if(e.length<5){const n=e[e.length-3],r=e[e.length-2],s=e[e.length-1];e=`#${n}${n}${r}${r}${s}${s}`}return e.toUpperCase()},Rv=t=>{if(!t)return null;const e=Ov(t),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?`${parseInt(n[1],16)},
       ${parseInt(n[2],16)},
       ${parseInt(n[3],16)}`.replace(/\s+/g,""):null},$v=t=>{var n,r;const e=Object.entries(((r=(n=t.personalization)==null?void 0:n.branding)==null?void 0:r.colors)||{}).map(([s,i])=>{const o=s.replace(/_/g,"-").replace(/([A-Z])/g," $1").split(" ").join("-").toLowerCase(),a=Rv(i);return`--${o}-color: ${a};`});Tv(`._sf-storefront { ${e.join("")} }`)},Cv=()=>{const t=at(()=>we(),[]),e=at(()=>ie("order_status")?kv():null,[]),[n,r]=Le(!1),[s,i]=Le({loading:n,storefrontData:t,cartData:e}),o=l=>i(c=>({...c,activationResponse:l})),a=async l=>{const c={...(e==null?void 0:e.customer)||{},code:l==null?void 0:l.sf_code};if((c.email||c.shopify_customer_id||c.code)&&!dv()){r(!0);try{const d=await tg.PREVIEW(we(),c);if(!d||$u(d))return;o(d),pv(d)}finally{r(!1)}}},u=async()=>{$v(t);const l=gc()||void 0;o(l),a(l)};Te(()=>{i(l=>({...l,loading:n}))},[n]),Te(()=>{var l,c;if(Ks()&&((c=(l=s.cartData)==null?void 0:l.customer)!=null&&c.email)){const{email:_}=s.cartData.customer,{shop:d}=we();Zh(_,d.id,s.cartData.customer)}},[Ks(),s]),Te(()=>{u().catch(Nu)},[]);const f=at(()=>({...t.defaultSfVariables,...s.activationResponse,...s.discountResponse}),[s.activationResponse,s.discountResponse]);return m($t.Provider,{value:[s,i],children:m(Fu.Context.Provider,{value:f,children:[m(ig,{}),m(bv,{})]})})},vc=async(t,e=6e4)=>{let n=0;for(;!t();){const r=100+n**.7;if(await mn(r),n=n+r,n>=e)throw new Error("[Superfiliate] Max wait time reached before check passed")}},xc="_sf-storefront-ProgramWidget",Pv=async t=>{let e;return ie(U.ShopifyOrderStatus)?e=".section__content .content-box":ie(U.RechargeOrderStatus)&&(e="#checkout .section--thank-you"),t!==C.MainContent||!e?{element:document.body,position:"afterbegin"}:(await vc(()=>!!document.querySelector(e)),{element:document.querySelector(e),position:"afterend"})},Iv=async()=>{await vc(()=>!!document.body);const t=_i(),e=`<div class="_sf-storefront _sf-x" id="${xc}"></div>`,{element:n,position:r}=await Pv(t);if(!n)throw new Error("Could not find the reference element where to show the Superfiliate widget");return n.insertAdjacentHTML(r,e),document.getElementById(xc)},yc=2147483e3;let bc=yc;const di={zIndexMap:t=>t?19e6:yc,containerPresent:()=>!!document.querySelector("#privy-container"),modalOpen:()=>!!document.querySelector(".privy-popup-content")},Nv=async()=>{for(;;){if(di.containerPresent())for(;;){const t=di.zIndexMap(di.modalOpen());t!==bc&&(bc=t,document.documentElement.style.setProperty("--sf-z-index-program-widget-modal",`${t}`)),await mn(200)}await mn(2e3)}},Dv=[U.RechargeOrderStatus,U.ShopifyOrderStatus,U.ShopifyOnlineStore,U.Unknown],Av=async()=>{var t;Dv.includes(qe())&&(t=window.$superfiliateStorefront.personalization)!=null&&t.widget&&(Nv(),Tt(m(Cv,{}),await Iv()))},wc="sfIframe.clipboardCopy",Fv=async t=>{if(!navigator.clipboard)return!1;try{return typeof window<"u"&&window.top&&window.top!==window.self?(window.top.postMessage({name:wc,value:t},"*"),!0):(await navigator.clipboard.writeText(t),!0)}catch(e){return console.error(e),!1}},Mv=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==wc)return;Fv(t.data.value)}catch{return}})};let pi="";const Lv=(t,e)=>{const n=e.split(":"),r=n.slice(0,n.length-1);let s=n[n.length-1],i=`${t}${s}`;return s.startsWith("!-")&&(s=s.slice(2,s.length),i=`!-${t}${s}`),s.startsWith("!")&&(s=s.slice(1,s.length),i=`!${t}${s}`),s.startsWith("-")&&(s=s.slice(1,s.length),i=`-${t}${s}`),r.length===0?i:`${r.join(":")}:${i}`},Uv=(...t)=>ac(...t).split(pi).join("").split(" ").map(n=>Lv(pi,n)).join(" "),jv=t=>{pi=t,uc.cn=Uv};try{jv("sf-"),Xc(),fp(),Av(),gp(),Mv()}catch(t){Jn(t)}})();

})();
