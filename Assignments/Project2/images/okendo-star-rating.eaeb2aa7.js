(window["wpJsonpOkeReviews"]=window["wpJsonpOkeReviews"]||[]).push([["modules/okendo-star-rating"],{"0d2a":function(e,t,r){},2877:function(e,t,r){"use strict";function i(e,t,r,i,s,a,n,o){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),n?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=c):s&&(c=o?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}r.d(t,"a",(function(){return i}))},"4cac":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"okeReviews oke-sr",attrs:{"data-oke-reviews-version":e.version,"data-oke-container":""}},[e.reviewCount>0||e.showWhenEmpty?r("div",{directives:[{name:"ga",rawName:"v-ga:click",value:{action:"Star Rating Summary Click",type:"interaction"},expression:"{ action: 'Star Rating Summary Click', type: 'interaction' }",arg:"click"}],class:{"oke-is-clickable":e.isClickable},attrs:{tabIndex:e.isClickable?0:void 0,role:e.isClickable?"button":void 0},on:{click:function(t){e.isClickable&&e.onClick()},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isClickable&&e.onClick()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;e.isClickable&&e.onClick()}]}},[r("div",{staticClass:"oke-sr-rating"},[e._v(" "+e._s(e.averageRating)+" ")]),r("div",{staticClass:"oke-sr-stars"},[r("stars",{attrs:{rating:e.averageRating,height:e.starHeight,interspace:e.starInterspace,singleStar:e.singleStar}})],1),r("div",{staticClass:"oke-sr-count",class:{"oke-sr-count--brackets":e.showReviewCountBrackets}},[r("span",{staticClass:"oke-sr-count-number"},[e._v(e._s(e.prettyNumber))]),e.labelText?[r("span",{staticClass:"oke-sr-label-text"},[e._v(e._s(e.labelText))])]:e._e(),e.reviewTotal?[r("span",{staticClass:"oke-sr-total-text"},[e._v(e._s(e.reviewTotal))])]:e._e()],2),e.isClickable?r("span",{staticClass:"oke-a11yText"},[e._v(e._s(e.$tc("Click to scroll to reviews")))]):e._e()]):e._e(),e.metafieldJsonData?r("script",{attrs:{type:"application/json","data-oke-metafield-data":""}},[e._v(" "+e._s(e.metafieldJsonData)+" ")]):e._e()])},s=[],a=r("9ab4"),n=r("60a3"),o=r("5a8d"),c=r("9de8"),l=r("7c19"),d=r("02e8");let u=class extends n["d"]{constructor(){super(...arguments),this.version="0.68.9",this.averageRating="0",this.isClickable=!1,this.reviewCount=0}created(){var e,t;const r=c["a"].getWidgetRenderMode();this.widgetMode=c["a"].getWidgetMode(this.productId,this.groupId),"normal"===r&&this.initialData?(this.averageRating=null!==(e=this.initialData.averageRating)&&void 0!==e?e:this.averageRating,this.reviewCount=null!==(t=this.initialData.reviewCount)&&void 0!==t?t:this.reviewCount,this.sendWidgetRenderedEvent()):this.loadAggregateData()}sendWidgetRenderedEvent(){this.$nextTick(()=>{c["a"].sendWidgetRenderedEvent("star-rating",this.widgetId)})}async mounted(){this.isClickable=await d["a"].areStarRatingsClickable()}get singleStar(){return!!this.starRatingSettings.style.singleStar}get starRatingSettings(){return l["default"].widgetSettings.starRatings}get textStyle(){return this.starRatingSettings.style.text}get starHeight(){return c["a"].toPixels(this.starRatingSettings.style.height)}get starInterspace(){var e,t;return null!==(t=null===(e=this.starRatingSettings.style.globalOverrideSettings)||void 0===e?void 0:e.interspace)&&void 0!==t?t:l["default"].widgetSettings.global.stars.interspace}get prettyNumber(){return"average-rating"===this.textStyle.content||"average-and-count"===this.textStyle.content?this.averageRating:c["a"].getPrettyNumber(this.reviewCount)}get reviewTotal(){return"average-and-count"===this.textStyle.content?` (${c["a"].getPrettyNumber(this.reviewCount)} ${this.$tc("Review",this.reviewCount)})`:void 0}get showReviewCountBrackets(){return"average-and-count"!==this.textStyle.content&&this.textStyle.brackets}get labelText(){if("number-and-text"===this.textStyle.style){const e="average-rating"===this.textStyle.content||"average-and-count"===this.textStyle.content?this.$tc("Stars"):this.$tc("Review",this.reviewCount);return" "+e}return"average-and-count"===this.textStyle.content&&"number-out-of-5-stars"===this.textStyle.style?" "+this.$tc("out of 5 Stars"):"average-rating"===this.textStyle.content&&"number-slash-5"===this.textStyle.style?" / 5":void 0}get showWhenEmpty(){return this.starRatingSettings.showWhenEmpty}get metafieldJsonData(){const e={averageRating:this.averageRating,reviewCount:this.reviewCount};return JSON.stringify(e)}async loadAggregateData(){if("all"!==this.widgetMode||this.starRatingDataAttributeSettings.isInAllReviewsMode){const e=await this.loadReviewAggregate();e&&(this.reviewCount=e.reviewAggregate.ratingAndReviewCount,this.averageRating=c["a"].getAverageRatingDisplayText(e.reviewAggregate),this.sendWidgetRenderedEvent())}}async loadReviewAggregate(){switch(this.widgetMode){case"product":return await o["a"].getReviewAggregateProduct(this.productId);case"group":return await o["a"].getReviewAggregateGroup(this.groupId);case"all":return await o["a"].getReviewAggregateAll()}}onClick(){this.$nextTick(()=>{d["a"].scrollToElement(this.$el)})}};Object(a["a"])([Object(n["c"])()],u.prototype,"groupId",void 0),Object(a["a"])([Object(n["c"])()],u.prototype,"productId",void 0),Object(a["a"])([Object(n["c"])()],u.prototype,"starRatingDataAttributeSettings",void 0),Object(a["a"])([Object(n["c"])()],u.prototype,"initialData",void 0),Object(a["a"])([Object(n["c"])()],u.prototype,"widgetId",void 0),u=Object(a["a"])([Object(n["a"])({components:{Stars:async()=>(await Promise.all([r.e("okendo-reviews-core"),r.e("modules/okendo-star-rating")]).then(r.bind(null,"76e5"))).default}})],u);var g=u,h=g,v=(r("c20e"),r("2877")),p=Object(v["a"])(h,i,s,!1,null,null,null);t["default"]=p.exports},"5a8d":function(e,t,r){"use strict";var i=r("2b0e"),s=r("7c19"),a=r("9de8"),n=r("e39c"),o=r("522e"),c=r("0625");const l=c["a"].apiBaseUrl,d=c["a"].dynamicTranscodedMediaBaseUrl,u=s["default"].customDomain?"https://"+s["default"].customDomain:c["a"].recorderPlusBaseUrl,g=s["default"].customDomain?"https://"+s["default"].customDomain:c["a"].appBaseUrl,h={ratingAndReviewCount:0,ratingAndReviewCountByLevel:{},ratingAndReviewValuesTotal:0},v=()=>{const e=i["a"].$localeStore.currentLocale;return e?`&locale=${e.code}${e.variant?"&variant="+e.variant:""}`:""},p=(e,t)=>"undefined"===typeof e||404===e?Promise.resolve(t):Promise.reject(e),w=async(e,t,r)=>{const i=a["a"].getWidgetRenderMode();if("empty"===i)return Promise.resolve(t);{const a="sample-data"===i?{headers:{"x-okendo-force-sample-data":"true"}}:void 0;try{return o["a"].get(e,a)}catch(s){if(r)return r(s,t);throw s}}};t["a"]={get subscriberId(){return s["default"].subscriberId},get storeBaseUrl(){if(this.subscriberId)return`${l}/stores/${this.subscriberId}`;console.warn("No subscriber Id set")},filtersToQueryString(e){if(!(null===e||void 0===e?void 0:e.length))return"";const t=null===e||void 0===e?void 0:e.map(e=>{const t="shopper"===e.target?"shopperAttributes":"generalAttributes",r=n["a"].toComaEscapedEncodedString(e.title),i=e.options.map(e=>n["a"].toComaEscapedEncodedString(e)).join(",");return`${t}=${r},${i}`}).join("&");return"&"+t},ratingFiltersToQueryString(e){return(null===e||void 0===e?void 0:e.length)?"&"+e.map(e=>"ratings="+e).join("&"):""},freeTextSearchQueryString(e){return e?"&text="+encodeURIComponent(e.replace(/[^a-zA-Z0-9 ]/g,"")):""},apiBaseUrl(){return l},dynamicTranscodedMediaBaseUrl(){return d},writeReviewUrl(e){var t;return(null===(t=s["default"].features)||void 0===t?void 0:t.recorderPlusEnabled)?`${u}/?subscriberId=${this.subscriberId}&productId=${e}${v()}`:`${g}/stores/${this.subscriberId}/review?productId=${e}${v()}`},askQuestionUrl(e){var t;return(null===(t=s["default"].features)||void 0===t?void 0:t.recorderQandaPlusEnabled)?`${u}/question?subscriberId=${this.subscriberId}&productId=${e}${v()}`:`${g}/stores/${this.subscriberId}/question?productId=${e}`},poweredByUrl(){return`https://okendo.io?utm_source=${this.subscriberId}&utm_medium=widget&utm_campaign=poweredby`},getMore(e,t){const r=t?e.replace(/limit=[0-9]*/i,"limit="+t):e;return o["a"].get(`${l}${r}`)},postHelpfulVoteReview(e,t){return o["a"].post(`${this.storeBaseUrl}/reviews/${e}/vote`,{voteType:t})},getReview(e){return w(`${this.storeBaseUrl}/reviews/${e}`,void 0)},getReviewsProduct(e,t=5,r="date desc",i,s,a){return w(`${this.storeBaseUrl}/products/${e}/reviews?limit=${t}&orderBy=${r}${this.filtersToQueryString(i)}${this.ratingFiltersToQueryString(s)}${this.freeTextSearchQueryString(a)}`,{reviews:[],areReviewsGrouped:!1})},getReviewsAll(e=5,t="date desc"){return w(`${this.storeBaseUrl}/reviews?limit=${e}&orderBy=${t}`,{reviews:[]})},getReviewsGroup(e,t=5,r="date desc"){return w(`${this.storeBaseUrl}/collections/${e}/reviews?limit=${t}&orderBy=${r}`,{reviews:[]})},getReviews(e,t,r=5,i="date desc",s,n,o){const c=a["a"].getWidgetMode(e,t);switch(c){case"product":return this.getReviewsProduct(e,r,i,s,n,o);case"group":return this.getReviewsGroup(t,r,i);default:return this.getReviewsAll(r,i)}},getMultiSourceMedia(e,t,r=5){const i=new URL(this.storeBaseUrl+"/multi_source_media");return e?i.searchParams.set("productId",e):t&&i.searchParams.set("groupId",t),i.searchParams.set("limit",r.toString()),w(i.href,{media:[]})},async getReviewAggregateProduct(e){const t=await w(`${this.storeBaseUrl}/products/${e}/review_aggregate`,void 0,p);return null!==t&&void 0!==t?t:{reviewAggregate:h}},async getReviewAggregateAll(){const e=await w(this.storeBaseUrl+"/review_aggregate",void 0,p);return null!==e&&void 0!==e?e:{reviewAggregate:h}},async getReviewAggregateGroup(e){const t=await w(`${this.storeBaseUrl}/collections/${e}/review_aggregate`,void 0,p);return null!==t&&void 0!==t?t:{reviewAggregate:h}},getMediaProduct(e,t=6,r="date desc"){return w(`${this.storeBaseUrl}/products/${e}/review_media?limit=${t}&orderBy=${r}`,{media:[]})},getMediaAll(e=6,t="date desc"){return w(`${this.storeBaseUrl}/review_media?limit=${e}&orderBy=${t}`,{media:[]})},getMediaGroup(e,t=6,r="date desc"){return w(`${this.storeBaseUrl}/collections/${e}/review_media?limit=${t}&orderBy=${r}`,{media:[]})},getQuestionsProduct(e,t=5,r="date desc"){return w(`${this.storeBaseUrl}/products/${e}/questions?limit=${t}&orderBy=${r}`,{questions:[]})},getQuestionAggregateProduct(e){return w(`${this.storeBaseUrl}/products/${e}/question_aggregate`,void 0)},getQuestionsAggregateCollection(e){return w(`${this.storeBaseUrl}/collections/${e}/question_aggregate`,void 0)},getQuestionsCollection(e,t=5,r="date desc"){return w(`${this.storeBaseUrl}/collections/${e}/questions?limit=${t}&orderBy=${r}`,{questions:[]})},getFiltersProduct(e){return w(`${this.storeBaseUrl}/products/${e}/attributes`,{productAttributes:[]})},postHelpfulVoteQuestion(e,t){return o["a"].post(`${this.storeBaseUrl}/questions/${e}/vote`,{voteType:t})},postHelpfulVoteAnswer(e,t,r){return o["a"].post(`${this.storeBaseUrl}/questions/${e}/answers/${t}/vote`,{voteType:r})}}},"76e5":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"oke-stars"},[e.singleStar?[r("svg",{staticStyle:{overflow:"visible"},attrs:{height:e.height,viewBox:e.viewBox,"aria-hidden":"true"}},[r("use",{attrs:{href:"#oke-star-filled"}})])]:e._e(),e.singleStar?e._e():[r("div",{staticClass:"oke-stars-background"},[r("svg",{attrs:{height:e.height,viewBox:e.viewBox,"aria-hidden":"true"}},e._l(e.starSvgPositions,(function(e){return r("use",{key:e,attrs:{x:e,href:"#oke-star-empty"}})})),0)]),r("div",{staticClass:"oke-stars-foreground",style:{width:e.foregroundWidth}},[r("svg",{attrs:{height:e.height,viewBox:e.viewBox,"aria-hidden":"true"}},e._l(e.starSvgPositions,(function(e){return r("use",{key:e,attrs:{x:e,href:"#oke-star-filled"}})})),0)])],r("span",{staticClass:"oke-a11yText"},[e._v("Rated "+e._s(e.rating)+" out of 5 stars")])],2)},s=[],a=r("9ab4"),n=r("60a3"),o=r("7c19");let c=class extends n["d"]{get foregroundWidth(){const e=this.onScreenStarWidth/this.onScreenSvgWidth*100,t=this.interspace/this.onScreenSvgWidth*100,r=this.rating<5?Math.floor(this.rating):4;return e*this.rating+t*r+"%"}get starSvgPositions(){return[0,1,2,3,4].map(e=>(this.starShape.width+this.interspace/this.scalingFactor)*e)}get viewBox(){return`0 0 ${this.onScreenSvgWidth/this.scalingFactor} ${this.starShape.height}`}get onScreenSvgWidth(){return this.singleStar?this.onScreenStarWidth:5*this.onScreenStarWidth+4*this.interspace}get onScreenStarWidth(){return this.starShape.width*this.scalingFactor}get scalingFactor(){return this.height/this.starShape.height}get starShape(){var e,t,r;switch(null===(r=null===(t=null===(e=o["default"].widgetSettings.global)||void 0===e?void 0:e.stars)||void 0===t?void 0:t.shape)||void 0===r?void 0:r.type){case"circle":return{width:12,height:12};case"custom":return{width:o["default"].widgetSettings.global.stars.shape.width,height:o["default"].widgetSettings.global.stars.shape.height};case"heart":return{width:16,height:15};case"thin":return{width:16,height:16};case"rounded":return{width:17,height:16};case"default":default:return{width:14.6,height:14}}}};Object(a["a"])([Object(n["c"])()],c.prototype,"rating",void 0),Object(a["a"])([Object(n["c"])({default:()=>18})],c.prototype,"height",void 0),Object(a["a"])([Object(n["c"])({default:()=>2})],c.prototype,"interspace",void 0),Object(a["a"])([Object(n["c"])({default:()=>!1})],c.prototype,"singleStar",void 0),c=Object(a["a"])([n["a"]],c);var l=c,d=l,u=(r("8eac"),r("2877")),g=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=g.exports},"8eac":function(e,t,r){"use strict";r("9c40")},"9ab4":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));function i(e,t,r,i){var s,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(a<3?s(n):a>3?s(t,r,n):s(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n}Object.create;Object.create},"9c40":function(e,t,r){},c20e:function(e,t,r){"use strict";r("0d2a")}}]);